@page "/components/flow"
@using Blazwind.Components.Tabs
@using Blazwind.Components.Typography
@using Blazwind.Components.Shared

<PageTitle>Flow - Blazwind</PageTitle>

<BwColumn Spacing="BwSpacing.Lg">
    <BwHero Title="BwFlow"
        Description="Flexbox-based flow layout component. Supports wrap, scroll, touch scrolling, and arrow navigation."
        Icon="fa-solid fa-grip-lines" Color="BwColor.Primary" />

    <BwTabs>
        <BwTabItem Title="Examples" Icon="fa-solid fa-code">
            <BwColumn Spacing="BwSpacing.Lg" Class="pt-4">
                @* 1. Basic Wrap Flow *@
                <BwCard Title="Basic Wrap Flow"
                    Subtitle="Items flow from left to right, wrap to next line when they don't fit"
                    Icon="fa-solid fa-grip" Color="BwColor.Primary">
                    <BwColumn Spacing="BwSpacing.Md">
                        <BwMargin Bottom="BwSpacing.Xs">
                            <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Wrap="true" (default) - 12 items
                            </BwTypography>
                        </BwMargin>
                        <BwFlow Wrap="true" Gap="BwSpacing.Sm">
                            @for (var i = 1; i <= 12; i++)
                            {
                                <div
                                    style="background-color: var(--bw-primary-500); color: white; padding: 0.5rem 1rem; border-radius: var(--bw-radius-default); text-align: center; min-width: 4rem;">
                                    @i</div>
                            }
                        </BwFlow>
                    </BwColumn>
                </BwCard>

                @* 2. Items Per Row *@
                <BwCard Title="Items Per Row" Subtitle="Fixed column count with ItemsPerRow"
                    Icon="fa-solid fa-table-cells" Color="BwColor.Success">
                    <BwColumn Spacing="BwSpacing.Lg">
                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">ItemsPerRow="4" - 4 items
                                    per row</BwTypography>
                            </BwMargin>
                            <BwFlow ItemsPerRow="4" Gap="BwSpacing.Sm">
                                @for (var i = 1; i <= 8; i++)
                                {
                                    <BwFlowItem
                                        Style="background-color: var(--bw-success-500); color: white; padding: 0.75rem; border-radius: var(--bw-radius-default); text-align: center;">
                                        Item @i
                                    </BwFlowItem>
                                }
                            </BwFlow>
                        </div>
                    </BwColumn>
                </BwCard>

                @* 3. Horizontal Scroll (No Wrap) *@
                <BwCard Title="Horizontal Scroll (Touch Enabled)"
                    Subtitle="With Wrap=false scrolls left, can be scrolled with touch or mouse"
                    Icon="fa-solid fa-arrows-left-right" Color="BwColor.Warning">
                    <BwColumn Spacing="BwSpacing.Lg">
                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Wrap="false" - Scroll with
                                    finger or mouse</BwTypography>
                            </BwMargin>
                            <BwFlow Wrap="false" Overflow="BwOverflow.ScrollX" Gap="BwSpacing.Sm"
                                Class="bw-flow-touch-scroll">
                                @for (var i = 1; i <= 20; i++)
                                {
                                    <BwFlowItem Width="100px"
                                        Style="background-color: var(--bw-warning-500); color: white; padding: 0.75rem; border-radius: var(--bw-radius-default); text-align: center;">
                                        @i
                                    </BwFlowItem>
                                }
                            </BwFlow>
                        </div>

                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">ShowArrows="true" -
                                    Navigation with arrow buttons</BwTypography>
                            </BwMargin>
                            <BwFlow Wrap="false" ShowArrows="true" Gap="BwSpacing.Sm">
                                @for (var i = 1; i <= 15; i++)
                                {
                                    <BwFlowItem Width="120px"
                                        Style="background-color: var(--bw-warning-600); color: white; padding: 1rem; border-radius: var(--bw-radius-default); text-align: center; font-weight: 500;">
                                        Product @i
                                    </BwFlowItem>
                                }
                            </BwFlow>
                        </div>
                    </BwColumn>
                </BwCard>

                @* 4. Direction Variations *@
                <BwCard Title="Direction Variations" Subtitle="Different flow directions with Direction parameter"
                    Icon="fa-solid fa-arrows-alt" Color="BwColor.Info">
                    <BwGrid ColumnDefs="*,*" Gap="BwSpacing.Lg">
                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Direction="Row" (default)
                                </BwTypography>
                            </BwMargin>
                            <BwFlow Direction="BwFlexDirection.Row" Gap="BwSpacing.Xs"
                                Style="background-color: var(--bw-gray-100); padding: 0.75rem; border-radius: var(--bw-radius-default);">
                                @for (var i = 1; i <= 6; i++)
                                {
                                    <div
                                        style="background-color: var(--bw-info-500); color: white; padding: 0.5rem 0.75rem; border-radius: var(--bw-radius-default);">
                                        @i</div>
                                }
                            </BwFlow>
                        </div>

                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Direction="RowReverse"
                                </BwTypography>
                            </BwMargin>
                            <BwFlow Direction="BwFlexDirection.RowReverse" Gap="BwSpacing.Xs"
                                Style="background-color: var(--bw-gray-100); padding: 0.75rem; border-radius: var(--bw-radius-default);">
                                @for (var i = 1; i <= 6; i++)
                                {
                                    <div
                                        style="background-color: var(--bw-info-500); color: white; padding: 0.5rem 0.75rem; border-radius: var(--bw-radius-default);">
                                        @i</div>
                                }
                            </BwFlow>
                        </div>

                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Direction="Column"
                                    MaxHeight="150px"</BwTypography>
                            </BwMargin>
                            <BwFlow Direction="BwFlexDirection.Column" MaxHeight="150px" Overflow="BwOverflow.ScrollY"
                                Wrap="false" Gap="BwSpacing.Xs"
                                Style="background-color: var(--bw-gray-100); padding: 0.75rem; border-radius: var(--bw-radius-default);">
                                @for (var i = 1; i <= 10; i++)
                                {
                                    <div
                                        style="background-color: var(--bw-info-600); color: white; padding: 0.5rem 0.75rem; border-radius: var(--bw-radius-default); text-align: center;">
                                        @i</div>
                                }
                            </BwFlow>
                        </div>

                        <div>
                            <BwMargin Bottom="BwSpacing.Xs">
                                <BwTypography Size="BwSize.Small" Color="BwColor.Secondary">Direction="ColumnReverse"
                                    MaxHeight="150px"</BwTypography>
                            </BwMargin>
                            <BwFlow Direction="BwFlexDirection.ColumnReverse" MaxHeight="150px"
                                Overflow="BwOverflow.ScrollY" Wrap="false" Gap="BwSpacing.Xs"
                                Style="background-color: var(--bw-gray-100); padding: 0.75rem; border-radius: var(--bw-radius-default);">
                                @for (var i = 1; i <= 10; i++)
                                {
                                    <div
                                        style="background-color: var(--bw-info-700); color: white; padding: 0.5rem 0.75rem; border-radius: var(--bw-radius-default); text-align: center;">
                                        @i</div>
                                }
                            </BwFlow>
                        </div>
                    </BwGrid>
                </BwCard>

                @* 5. Tag List *@
                <BwCard Title="Tag List" Subtitle="Real world usage example" Icon="fa-solid fa-tags"
                    Color="BwColor.Primary">
                    <BwFlow Gap="BwSpacing.Xs">
                        @foreach (var tag in _tags)
                        {
                            <span
                                style="background-color: var(--bw-primary-100); color: var(--bw-primary-800); padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem;">@tag</span>
                        }
                    </BwFlow>
                </BwCard>
            </BwColumn>
        </BwTabItem>

        <BwTabItem Title="POS Screen" Icon="fa-solid fa-cash-register">
            <BwCard Title="POS Screen" Subtitle="Category and product selection" Icon="fa-solid fa-cash-register"
                Color="BwColor.Primary">
                <BwColumn Spacing="BwSpacing.Md">
                    @* Categories - Horizontal scroll with touch *@
                    <BwColumn Spacing="BwSpacing.Xs">
                        <BwTypography Size="BwSize.Small" Weight="BwFontWeight.Medium" Color="BwColor.Secondary">
                            Categories</BwTypography>
                        <BwFlow Wrap="false" ShowArrows="true" Gap="BwSpacing.Sm" Class="bw-flow-touch-scroll">
                            @foreach (var category in _categories)
                            {
                                var isSelected = category.Id == _selectedCategoryId;
                                var catId = category.Id;
                                <BwFlowItem Width="150px" Height="150px"
                                    Style="@($"background-color: {(isSelected ? "var(--bw-primary-600)" : "var(--bw-gray-100)")}; color: {(isSelected ? "white" : "var(--bw-color-text)")}; border-radius: var(--bw-radius-default); cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem; {(isSelected ? "box-shadow: 0 0 0 4px var(--bw-primary-300);" : "")}")"
                                    Class="@(!isSelected ? "hover:bg-gray-200" : "")" OnClick="() => SelectCategory(catId)">
                                    <i class="@category.Icon" style="font-size: 1.875rem;"></i>
                                    <span
                                        style="font-size: 0.875rem; font-weight: 500; text-align: center; padding: 0 0.5rem;">@category.Name</span>
                                </BwFlowItem>
                            }
                        </BwFlow>
                    </BwColumn>

                    @* Products - Wrap grid of 150x150 boxes *@
                    <BwColumn Spacing="BwSpacing.Xs">
                        <BwTypography Size="BwSize.Small" Weight="BwFontWeight.Medium" Color="BwColor.Secondary">
                            Products - @(_categories.First(c => c.Id ==
                                                        _selectedCategoryId).Name)</BwTypography>
                        <BwFlow Wrap="true" Gap="BwSpacing.Sm">
                            @foreach (var product in GetProductsForCategory(_selectedCategoryId))
                            {
                                <BwFlowItem Width="150px" Height="150px"
                                    Style="background-color: var(--bw-card-bg); border: 2px solid var(--bw-color-border); border-radius: var(--bw-radius-default); cursor: pointer; transition: all 0.2s; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem;"
                                    Class="hover:border-emerald-500 hover:shadow-lg">
                                    <div
                                        style="width: 3rem; height: 3rem; background-color: var(--bw-success-100); border-radius: 9999px; display: flex; align-items: center; justify-content: center;">
                                        <i class="@product.Icon"
                                            style="color: var(--bw-success-600); font-size: 1.25rem;"></i>
                                    </div>
                                    <span
                                        style="font-size: 0.875rem; font-weight: 500; text-align: center; padding: 0 0.5rem; color: var(--bw-color-text);">@product.Name</span>
                                    <span
                                        style="font-size: 1.125rem; font-weight: 700; color: var(--bw-success-600);">â‚º@product.Price</span>
                                </BwFlowItem>
                            }
                        </BwFlow>
                    </BwColumn>
                </BwColumn>
            </BwCard>
        </BwTabItem>
    </BwTabs>
</BwColumn>

@code {
    private int _selectedCategoryId = 1;

    private readonly List<Category> _categories = new()
{
new Category(1, "Foods", "fa-solid fa-utensils"),
new Category(2, "Beverages", "fa-solid fa-mug-hot"),
new Category(3, "Desserts", "fa-solid fa-cake-candles"),
new Category(4, "Snacks", "fa-solid fa-cookie"),
new Category(5, "Breakfast", "fa-solid fa-egg"),
new Category(6, "Ice Cream", "fa-solid fa-ice-cream"),
new Category(7, "Salads", "fa-solid fa-leaf"),
new Category(8, "Pizzas", "fa-solid fa-pizza-slice")
};

    private readonly List<Product> _products = new()
{
// Foods (1)
new Product(1, "Hamburger", "fa-solid fa-burger", 75, 1),
new Product(2, "Chicken Doner", "fa-solid fa-drumstick-bite", 55, 1),
new Product(3, "Lahmacun", "fa-solid fa-circle", 35, 1),
new Product(4, "Pide", "fa-solid fa-bread-slice", 65, 1),
new Product(5, "Kofte", "fa-solid fa-circle", 85, 1),
new Product(6, "Chicken Shish", "fa-solid fa-fire", 70, 1),

// Beverages (2)
new Product(7, "Tea", "fa-solid fa-mug-saucer", 10, 2),
new Product(8, "Turkish Coffee", "fa-solid fa-mug-hot", 25, 2),
new Product(9, "Ayran", "fa-solid fa-glass-water", 15, 2),
new Product(10, "Cola", "fa-solid fa-bottle-water", 20, 2),
new Product(11, "Lemonade", "fa-solid fa-lemon", 25, 2),

// Desserts (3)
new Product(12, "Baklava", "fa-solid fa-stroopwafel", 45, 3),
new Product(13, "Kunefe", "fa-solid fa-cheese", 55, 3),
new Product(14, "Rice Pudding", "fa-solid fa-bowl-food", 35, 3),
new Product(15, "Kazandibi", "fa-solid fa-bowl-food", 35, 3),

// Snacks (4)
new Product(16, "French Fries", "fa-solid fa-french-fries", 30, 4),
new Product(17, "Onion Rings", "fa-solid fa-ring", 35, 4),
new Product(18, "Nuggets", "fa-solid fa-shapes", 40, 4),

// Breakfast (5)
new Product(19, "Continental Breakfast", "fa-solid fa-plate-wheat", 150, 5),
new Product(20, "Menemen", "fa-solid fa-egg", 45, 5),
new Product(21, "Fried Eggs", "fa-solid fa-egg", 35, 5),
new Product(22, "Omelette", "fa-solid fa-egg", 40, 5),

// Ice Cream (6)
new Product(23, "Vanilla", "fa-solid fa-ice-cream", 25, 6),
new Product(24, "Chocolate", "fa-solid fa-ice-cream", 25, 6),
new Product(25, "Fruit", "fa-solid fa-ice-cream", 30, 6),

// Salads (7)
new Product(26, "Shepherd Salad", "fa-solid fa-carrot", 35, 7),
new Product(27, "Caesar Salad", "fa-solid fa-leaf", 55, 7),
new Product(28, "Seasonal Salad", "fa-solid fa-seedling", 40, 7),

// Pizzas (8)
new Product(29, "Margarita", "fa-solid fa-pizza-slice", 85, 8),
new Product(30, "Mixed", "fa-solid fa-pizza-slice", 110, 8),
new Product(31, "Sausage", "fa-solid fa-pizza-slice", 95, 8),
new Product(32, "Mushroom", "fa-solid fa-pizza-slice", 90, 8)
};

    private readonly List<string> _tags = new()
{
"Blazor", "C#", ".NET", "Tailwind", "CSS", "JavaScript", "TypeScript",
"Web", "Frontend", "Backend", "API", "Database", "Cloud", "Azure", "DevOps"
};

    private void SelectCategory(int categoryId)
    {
        _selectedCategoryId = categoryId;
    }

    private IEnumerable<Product> GetProductsForCategory(int categoryId)
    {
        return _products.Where(p => p.CategoryId == categoryId);
    }

    private record Category(int Id, string Name, string Icon);

    private record Product(int Id, string Name, string Icon, decimal Price, int CategoryId);

}