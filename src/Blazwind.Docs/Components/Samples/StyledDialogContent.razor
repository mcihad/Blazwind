@using Blazwind.Components.Button
@using Blazwind.Components.Shared
@using Blazwind.Components.Layout
@using Blazwind.Components.Dialog
@using Blazwind.Components.Typography
@using Blazwind.Components.Card
@using Blazwind.Components.Badge
@using Blazwind.Components.Border
@inject DialogService DialogService

<BwColumn Spacing="BwSpacing.Md">
    <BwTypography Tag="BwTypographyTag.P" Color="BwColor.Secondary">
        This dialog is displayed with customized header background color and header height.
    </BwTypography>

    <BwCard Color="BwColor.Secondary">
        <BwGrid Columns="2" Gap="BwSpacing.Md">
            <BwColumn Spacing="BwSpacing.Xs">
                <BwTypography Tag="BwTypographyTag.Span" Size="BwSize.ExtraSmall" Color="BwColor.Secondary">Header
                    Background:</BwTypography>
                <BwRow CrossAxisAlignment="BwCrossAxisAlignment.Center" Spacing="BwSpacing.Sm">
                    <div style="width: 1rem; height: 1rem; border-radius: var(--bw-radius-default); background-color: @GetColorValue();"></div>
                    <BwTypography Tag="BwTypographyTag.Span" Weight="BwFontWeight.Medium">@ColorName</BwTypography>
                </BwRow>
            </BwColumn>
            <BwColumn Spacing="BwSpacing.Xs">
                <BwTypography Tag="BwTypographyTag.Span" Size="BwSize.ExtraSmall" Color="BwColor.Secondary">Header
                    Height:</BwTypography>
                <BwTypography Tag="BwTypographyTag.Span" Weight="BwFontWeight.Medium">@SizeName</BwTypography>
            </BwColumn>
        </BwGrid>
    </BwCard>

    <BwCard Color="BwColor.Info">
        <BwRow CrossAxisAlignment="BwCrossAxisAlignment.Center" Spacing="BwSpacing.Sm">
            <i class="fa-solid fa-info-circle"></i>
            <BwTypography Tag="BwTypographyTag.Span" Size="BwSize.Small">
                <BwBadge Text="TitleColor" Color="BwColor.Info" /> changes header background,
                <BwBadge Text="TitleSize" Color="BwColor.Info" /> changes header height (padding).
            </BwTypography>
        </BwRow>
    </BwCard>

    <BwBorder Position="BwBorderPosition.Top" />
    <BwRow MainAxisAlignment="BwMainAxisAlignment.End" Spacing="BwSpacing.Sm">
        <BwButton Text="Close" Color="BwColor.Secondary" Variant="BwVariant.Outline" OnClick="Close" />
    </BwRow>
</BwColumn>

@code {
    [CascadingParameter] public DialogInstance? DialogInstance { get; set; }

    [Parameter] public string ColorName { get; set; } = "Default";
    [Parameter] public string SizeName { get; set; } = "Medium";
    [Parameter] public BwColor Color { get; set; } = BwColor.Primary;
    [Parameter] public BwSize Size { get; set; } = BwSize.Medium;

    private string GetColorValue() => Color switch
    {
        BwColor.Success => "var(--bw-color-success)",
        BwColor.Danger => "var(--bw-color-danger)",
        BwColor.Warning => "var(--bw-color-warning)",
        BwColor.Info => "var(--bw-color-info)",
        BwColor.Secondary => "var(--bw-color-secondary)",
        BwColor.Dark => "var(--bw-gray-800)",
        _ => "var(--bw-gray-200)"
    };

    private void Close()
    {
        if (DialogInstance != null) DialogService.Close(DialogInstance);
    }
}