@namespace Blazwind.Components.Layout
@using Blazwind.Components.Shared
@inherits BwBase

@{
    var positionClass = Position == BwDirection.Left ? "bw-sidebar-left" : "bw-sidebar-right";
    
    var colorClass = Color switch
    {
        BwColor.Dark => "bw-sidebar-dark",
        BwColor.Primary => "bw-sidebar-primary",
        _ => "" // Light/Default uses base .bw-sidebar styles
    };
}

@* Mobile Overlay *@
<div id="bw-sidebar-overlay" 
     class="bw-sidebar-overlay"
     onclick="Blazwind.Sidebar.close()">
</div>

@* Sidebar *@
<aside id="bw-sidebar" 
       class="@CombineClasses("bw-sidebar", positionClass, colorClass, Width)"
       @attributes="AdditionalAttributes">
    <CascadingValue Value="Color">
        @ChildContent
    </CascadingValue>
</aside>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }

    [Parameter] public string Width { get; set; } = "w-72";
    [Parameter] public BwDirection Position { get; set; } = BwDirection.Left;
    [Parameter] public BwColor Color { get; set; } = BwColor.Light;
}
