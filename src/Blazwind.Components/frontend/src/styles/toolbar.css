/* Toolbar */

.bw-toolbar {
    display: inline-flex;
    align-items: center;
    border: 1px solid var(--bw-color-border);
    background-color: var(--bw-color-surface-elevated);
    transition: all 0.2s ease;
}

.dark .bw-toolbar {
    background-color: var(--bw-color-surface-elevated);
    border-color: var(--bw-color-border);
}

/* Glass Effect */
.bw-toolbar.glass {
    backdrop-filter: blur(24px);
    background-color: rgba(255, 255, 255, 0.8);
    border-color: rgba(229, 231, 235, 0.6);
    /* gray-200/60 */
}

.dark .bw-toolbar.glass {
    background-color: rgba(17, 24, 39, 0.8);
    /* gray-900/80 */
    border-color: rgba(55, 65, 81, 0.6);
    /* gray-700/60 */
}

/* Rounding */
.bw-toolbar.rounded {
    border-radius: var(--bw-radius-default);
}

/* Shadow */
/* Shadow */
.bw-toolbar.shadow {
    box-shadow: var(--bw-shadow-md);
}

.dark .bw-toolbar.shadow {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
}

/* Orientation */
.bw-toolbar.vertical {
    flex-direction: column;
}

.bw-toolbar.horizontal {
    flex-direction: row;
}

/* Sizes */
.bw-toolbar.small {
    padding: 0.25rem;
    gap: 0.125rem;
}

.bw-toolbar.medium {
    padding: 0.375rem;
    gap: 0.125rem;
}

.bw-toolbar.large {
    padding: 0.5rem;
    gap: 0.25rem;
}

/* Positioning */
.bw-toolbar.fixed {
    position: fixed;
    z-index: 50;
}

/* Tool Button */
.bw-tool-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.375rem;
    border-radius: var(--bw-radius-md);
    /* Slightly smaller inner radius usually looks better, or use default */
    border: 1px solid transparent;
    background: transparent;
    color: var(--bw-color-text);
    transition: all 0.15s;
    cursor: pointer;
}

.bw-tool-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Button Sizes */
.bw-tool-btn.small {
    height: 1.75rem;
    /* 7 */
    padding: 0 0.375rem;
    font-size: 0.75rem;
    min-width: 1.75rem;
}

.bw-tool-btn.medium {
    height: 2.25rem;
    /* 9 */
    padding: 0 0.5rem;
    font-size: 0.75rem;
    min-width: 2.25rem;
}

.bw-tool-btn.large {
    height: 2.75rem;
    /* 11 */
    padding: 0 0.625rem;
    font-size: 0.875rem;
    min-width: 2.75rem;
}

/* Button Hover (Default) */
.bw-tool-btn:hover:not(:disabled) {
    background-color: var(--bw-control-hover-bg);
    color: var(--bw-color-text);
}

.dark .bw-tool-btn:hover:not(:disabled) {
    /* bw-control-hover-bg handles dark mode too */
    color: var(--bw-color-text);
}

/* Active State (and Variants) */
/* Active State (and Variants) */
.bw-tool-btn.active {
    background-color: var(--bw-color-primary-soft-bg);
    color: var(--bw-color-primary);
    border-color: transparent;
    /* Soft styles usually don't need border, or use soft-text as border? Standard is no border or very subtle. */
}

/* Specific Variants */
.bw-tool-btn.active.variant-primary {
    background-color: var(--bw-color-primary-soft-bg);
    color: var(--bw-color-primary);
}

.bw-tool-btn.active.variant-success {
    background-color: var(--bw-color-success-soft-bg);
    color: var(--bw-color-success);
}

.bw-tool-btn.active.variant-warning {
    background-color: var(--bw-color-warning-soft-bg);
    color: var(--bw-color-warning-soft-text);
    /* Warning often needs darker text on light bg */
}

.bw-tool-btn.active.variant-danger {
    background-color: var(--bw-color-danger-soft-bg);
    color: var(--bw-color-danger);
}

.bw-tool-btn.active.variant-info {
    background-color: var(--bw-color-info-soft-bg);
    color: var(--bw-color-info);
}

.bw-tool-btn.active.variant-secondary {
    background-color: var(--bw-color-secondary-soft-bg);
    color: var(--bw-color-text);
}

.dark .bw-tool-btn.active.variant-secondary {
    color: var(--bw-gray-200);
}

/* Dropdown Content */
.bw-tool-dropdown-content {
    position: absolute;
    z-index: 50;
    min-width: 9rem;
    max-width: calc(100vw - 2rem);
    padding: 0.375rem;
    background-color: var(--bw-color-surface-elevated);
    backdrop-filter: blur(12px);
    border-radius: var(--bw-radius-default);
    box-shadow: var(--bw-shadow-lg);
    border: 1px solid var(--bw-color-border);
}

.dark .bw-tool-dropdown-content {
    background-color: var(--bw-color-surface-elevated);
    border-color: var(--bw-color-border);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.3);
}

/* Dropdown Item */
.bw-tool-dropdown-item {
    display: flex;
    align-items: center;
    gap: 0.625rem;
    width: 100%;
    padding: 0.5rem 0.625rem;
    border-radius: var(--bw-radius-sm);
    font-size: 0.875rem;
    text-align: left;
    transition: all 0.1s;
    color: var(--bw-color-text);
    background: transparent;
    border: none;
    cursor: pointer;
    text-decoration: none;
}

.bw-tool-dropdown-item:hover:not(:disabled) {
    background-color: var(--bw-gray-100);
}

.dark .bw-tool-dropdown-item:hover:not(:disabled) {
    background-color: rgba(255, 255, 255, 0.1);
}

.bw-tool-dropdown-item.active {
    background-color: var(--bw-gray-100);
}

.dark .bw-tool-dropdown-item.active {
    background-color: rgba(255, 255, 255, 0.1);
}

.bw-tool-dropdown-item:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.bw-tool-dropdown-item i {
    color: var(--bw-color-text-secondary);
    font-size: 0.875rem;
    width: 1rem;
    text-align: center;
}

/* Tool Separator */
.bw-tool-separator {
    background-color: var(--bw-color-border);
}

.bw-tool-separator.vertical {
    width: 100%;
    height: 1px;
    margin: 0.25rem 0;
}

.bw-tool-separator.horizontal {
    height: 1.5rem;
    width: 1px;
    margin: 0 0.25rem;
}