@namespace Blazwind.Components.Toolbar
@using Blazwind.Components.Shared
@inherits BwBase

@if (!string.IsNullOrEmpty(Href))
{
    <a href="@Href" class="@CombineClasses(AllClasses)" style="@Style" id="@Id" @attributes="AdditionalAttributes">
        @RenderContent
    </a>
}
else
{
    <button type="button" class="@CombineClasses(AllClasses)" style="@Style" id="@Id" @attributes="AdditionalAttributes" disabled="@Disabled" @onclick="HandleClick">
        @RenderContent
    </button>
}

@code {
    [Parameter] public string? Label { get; set; }
    [Parameter] public string? Icon { get; set; }
    [Parameter] public string? Href { get; set; }
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public bool IsActive { get; set; }
    [Parameter] public EventCallback OnClick { get; set; }

    private string AllClasses => $"bw-tool-dropdown-item {(IsActive ? "active" : "")}";

    private RenderFragment RenderContent => __builder =>
    {
        @if (!string.IsNullOrEmpty(Icon))
        {
            <i class="@Icon"></i>
        }
        <span class="font-medium">@Label</span>
    };

    private async Task HandleClick()
    {
        if (!Disabled)
        {
            await OnClick.InvokeAsync();
        }
    }
}