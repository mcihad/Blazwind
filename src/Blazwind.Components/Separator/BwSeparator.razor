@namespace Blazwind.Components.Separator
@using Blazwind.Components.Shared
@inherits BwBase

@{
    var orientationClass = Orientation.ToString().ToLower();
    var containerClass = CombineClasses("bw-separator", orientationClass);
}

<div class="@containerClass" style="@Style" id="@Id" @attributes="AdditionalAttributes">
    @if (!string.IsNullOrEmpty(Text) && Orientation == BwOrientation.Horizontal)
    {
        <div class="@GetLineClass(true) bw-separator-line border-t @GetBorderClass()"></div>
        <span class="bw-separator-text @GetTextColorClass()">
            @Text
        </span>
        <div class="@GetLineClass(false) bw-separator-line border-t @GetBorderClass()"></div>
    }
    else
    {
        <div class="@GetBaseClass() bw-separator-line @GetBorderClass()"></div>
    }
</div>

@code {
    [Parameter] public BwOrientation Orientation { get; set; } = BwOrientation.Horizontal;
    [Parameter] public BwBorderStyle Variant { get; set; } = BwBorderStyle.Solid;
    [Parameter] public BwColor Color { get; set; } = BwColor.Gray;
    [Parameter] public BwAlignment TextAlignment { get; set; } = BwAlignment.Center;
    [Parameter] public string? Text { get; set; }
    // Removed Class and Style parameters (inherited)

    private string GetBaseClass()
    {
        return Orientation == BwOrientation.Horizontal ? "w-full border-t" : "h-full border-l";
    }

    private string GetLineClass(bool isLeft)
    {
        if (TextAlignment == BwAlignment.Center)
        {
            return "flex-grow";
        }

        if (TextAlignment == BwAlignment.Left)
        {
            return isLeft ? "w-8 flex-none" : "flex-grow";
        }

        if (TextAlignment == BwAlignment.Right)
        {
            return isLeft ? "flex-grow" : "w-8 flex-none";
        }

        return "flex-grow";
    }

    private string GetTextColorClass()
    {
        return Color.ToString().ToLower();
    }

    private string GetBorderClass()
    {
        var borderStyle = Variant.ToString().ToLower();
        var colorClass = Color.ToString().ToLower();

        return $"{borderStyle} {colorClass}";
    }
}
