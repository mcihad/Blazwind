@page "/components/printable"
@using Blazwind.Components.Printable

<PageTitle>Printable Demo - Blazwind</PageTitle>

<BwColumn Spacing="BwSpacing.Lg">
    <BwHero Title="Printable Area"
            Description="Content wrapper component for report and document printing."
            Icon="fa-solid fa-print"
            Color="BwColor.Primary"/>

    @* Description *@
    <div class="p-4 bg-blue-50 border border-blue-200 rounded">
        <div class="flex items-start gap-3">
            <i class="fa-solid fa-circle-info text-blue-600 text-xl mt-0.5"></i>
            <div>
                <h4 class="font-semibold text-blue-800 mb-1">What does BwPrintable do?</h4>
                <p class="text-sm text-blue-700 mb-2">
                    This component is a container that converts any content into a printable document and provides print
                    preview.
                    You can simulate the appearance on paper by marking your content with
                    <strong>ShowBorder="true"</strong>.
                    The accompanying <strong>"Print"</strong> button;
                </p>
                <ul class="text-sm text-blue-700 list-disc list-inside space-y-1">
                    <li>Content opens in a new window</li>
                    <li>Corporate header and footer can be added</li>
                    <li>Page size and orientation can be set</li>
                    <li>Browser's print dialog opens automatically</li>
                </ul>
            </div>
        </div>
    </div>

    @* Basic Usage *@
    <BwCard Title="Basic Usage" Subtitle="Simple printable area." Icon="fa-solid fa-file-lines" Color="BwColor.Primary">
        <BwPrintable Title="Sample Report" ShowBorder="true">
            <div class="p-4 border border-gray-200 rounded bg-white">
                <h2 class="text-xl font-bold mb-4">Daily Report</h2>
                <p class="text-gray-600 mb-4">This area is an example of printable content. You can see the print
                    preview by clicking the print button.</p>

                <table class="w-full border-collapse">
                    <thead>
                    <tr class="bg-gray-100">
                        <th class="border border-gray-300 px-4 py-2 text-left">Order</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Transaction</th>
                        <th class="border border-gray-300 px-4 py-2 text-left">Date</th>
                        <th class="border border-gray-300 px-4 py-2 text-right">Amount</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2">1</td>
                        <td class="border border-gray-300 px-4 py-2">Collection</td>
                        <td class="border border-gray-300 px-4 py-2">01.01.2026</td>
                        <td class="border border-gray-300 px-4 py-2 text-right">₺1.250,00</td>
                    </tr>
                    <tr>
                        <td class="border border-gray-300 px-4 py-2">2</td>
                        <td class="border border-gray-300 px-4 py-2">Payment</td>
                        <td class="border border-gray-300 px-4 py-2">01.01.2026</td>
                        <td class="border border-gray-300 px-4 py-2 text-right">₺850,00</td>
                    </tr>
                    <tr class="bg-gray-50 font-semibold">
                        <td colspan="3" class="border border-gray-300 px-4 py-2 text-right">Total:</td>
                        <td class="border border-gray-300 px-4 py-2 text-right">₺400,00</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </BwPrintable>
    </BwCard>

    @* Header and Footer *@
    <BwCard Title="Header and Footer" Subtitle="Printing with corporate header and footer." Icon="fa-solid fa-building"
            Color="BwColor.Success">
        <BwPrintable Title="Sivas Municipality - Official Letter"
                     PageSize="PrintPageSize.A4"
                     Orientation="PrintOrientation.Portrait"
                     ShowBorder="true">
            <HeaderTemplate>
                <div class="flex items-center justify-between border-b-2 border-gray-800 pb-4">
                    <div class="flex items-center gap-4">
                        <div
                            class="w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center text-white text-2xl font-bold">
                            SB
                        </div>
                        <div>
                            <h1 class="text-xl font-bold">SİVAS MUNICIPALITY</h1>
                            <p class="text-sm text-gray-600">Information Technology Department</p>
                        </div>
                    </div>
                    <div class="text-right text-sm text-gray-600">
                        <p>Number: @_documentNumber</p>
                        <p>Date: @DateTime.Now.ToString("dd.MM.yyyy")</p>
                    </div>
                </div>
            </HeaderTemplate>

            <ChildContent>
                <div class="py-6">
                    <h2 class="text-lg font-semibold mb-4">Subject: Regarding Software Development Project</h2>

                    <p class="mb-4 text-justify leading-relaxed">
                        Your letter of interest has been reviewed, and within the scope of the software development
                        project
                        carried out within our municipality, it has been deemed appropriate to evaluate the requested
                        information as presented below.
                    </p>

                    <p class="mb-4 text-justify leading-relaxed">
                        Within the scope of this project, corporate applications are being developed using the Blazwind
                        component library, and currently @_totalComponents components have been completed.
                    </p>

                    <p class="mb-4 text-justify leading-relaxed">
                        Please be informed accordingly.
                    </p>

                    <div class="mt-8 text-right">
                        <p class="font-semibold">Information Technology Manager</p>
                        <p class="text-gray-600">Emre AYDIN</p>
                    </div>
                </div>
            </ChildContent>

            <FooterTemplate>
                <div class="text-center text-xs text-gray-500 border-t border-gray-300 pt-4">
                    <p>Sivas Municipality • Akdeğirmen Mah. Atatürk Cad. No:1 58040 Sivas</p>
                    <p>Tel: (0346) 221 10 10 • Fax: (0346) 221 20 20 • www.sivas.bel.tr</p>
                </div>
            </FooterTemplate>
        </BwPrintable>
    </BwCard>

    <BwRow Spacing="BwSpacing.Md" Wrap="true" Cols="1" MdCols="2" LgCols="2">
        @* Page Settings *@
        <BwCard Title="Page Sizes" Subtitle="Different paper sizes." Icon="fa-solid fa-file" Color="BwColor.Info">
            <BwColumn Spacing="BwSpacing.Md">
                <BwPrintable Title="A5 Size" PageSize="PrintPageSize.A5" ShowToolbar="true" PrintButtonText="Print A5"
                             ShowBorder="true">
                    <div class="p-4 bg-blue-50 border border-blue-200 rounded text-center">
                        <p class="font-medium">A5 Size Content</p>
                        <p class="text-sm text-blue-600">148 × 210 mm</p>
                    </div>
                </BwPrintable>

                <BwPrintable Title="Letter Size" PageSize="PrintPageSize.Letter" ShowToolbar="true"
                             PrintButtonText="Print Letter" ShowBorder="true">
                    <div class="p-4 bg-green-50 border border-green-200 rounded text-center">
                        <p class="font-medium">Letter Size Content</p>
                        <p class="text-sm text-green-600">8.5 × 11 inch</p>
                    </div>
                </BwPrintable>
            </BwColumn>
        </BwCard>

        @* Landscape Printing *@
        <BwCard Title="Landscape Printing" Subtitle="Landscape orientation." Icon="fa-solid fa-arrows-left-right"
                Color="BwColor.Warning">
            <BwPrintable Title="Landscape Report"
                         PageSize="PrintPageSize.A4"
                         Orientation="PrintOrientation.Landscape"
                         ShowToolbar="true"
                         ShowBorder="true">
                <div class="p-4 bg-yellow-50 border border-yellow-200 rounded">
                    <h4 class="font-semibold mb-3">Wide Table Example</h4>
                    <table class="w-full text-sm">
                        <thead>
                        <tr class="bg-yellow-100">
                            <th class="border px-2 py-1">January</th>
                            <th class="border px-2 py-1">February</th>
                            <th class="border px-2 py-1">March</th>
                            <th class="border px-2 py-1">April</th>
                            <th class="border px-2 py-1">May</th>
                            <th class="border px-2 py-1">June</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="border px-2 py-1 text-center">1.200</td>
                            <td class="border px-2 py-1 text-center">1.350</td>
                            <td class="border px-2 py-1 text-center">1.480</td>
                            <td class="border px-2 py-1 text-center">1.620</td>
                            <td class="border px-2 py-1 text-center">1.750</td>
                            <td class="border px-2 py-1 text-center">1.890</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </BwPrintable>
        </BwCard>
    </BwRow>

    @* Custom Toolbar *@
    <BwCard Title="Custom Toolbar" Subtitle="Toolbar customization." Icon="fa-solid fa-toolbox" Color="BwColor.Danger">
        <BwPrintable ShowToolbar="true" ShowBorder="true">
            <ToolbarContent>
                <BwButton Text="Download PDF" Icon="fa-solid fa-file-pdf" Size="BwSize.Small"
                          Variant="BwVariant.Outline" Color="BwColor.Danger"/>
                <BwButton Text="Send Email" Icon="fa-solid fa-envelope" Size="BwSize.Small" Variant="BwVariant.Outline"
                          Color="BwColor.Info"/>
            </ToolbarContent>
            <ChildContent>
                <div class="p-4 bg-gray-50 border border-gray-200 rounded">
                    <p>This area can be printed along with custom toolbar buttons.</p>
                </div>
            </ChildContent>
        </BwPrintable>
    </BwCard>
</BwColumn>

@code {
    private readonly string _documentNumber = $"E-{DateTime.Now:yyyyMMdd}-{Random.Shared.Next(1000, 9999)}";
    private readonly int _totalComponents = 95;
}
