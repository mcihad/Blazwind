@using Blazwind.Components.Shared
@namespace Blazwind.Components.Result

<div class="flex flex-col items-center justify-center text-center p-8 lg:p-12 @Class">
    @* Icon *@
    @if (Icon != null)
    {
         <div class="mb-6 text-7xl">
             @Icon
         </div>
    }
    else
    {
        var (iconName, colorClass) = Status switch
        {
            BwResultStatus.Success => ("fa-circle-check", "text-emerald-500"),
            BwResultStatus.Error => ("fa-circle-xmark", "text-red-500"),
            BwResultStatus.Info => ("fa-circle-info", "text-blue-500"),
            BwResultStatus.Warning => ("fa-triangle-exclamation", "text-amber-500"),
            BwResultStatus.NotFound404 => ("fa-file-circle-question", "text-gray-400 dark:text-gray-500"),
            BwResultStatus.InternalError500 => ("fa-server", "text-red-500 dark:text-red-400"),
            BwResultStatus.Forbidden403 => ("fa-shield-halved", "text-gray-500 dark:text-gray-400"),
            _ => ("fa-circle-info", "text-blue-500 dark:text-blue-400")
        };
        
        <div class="mb-6">
            <i class="fa-solid @iconName @colorClass text-7xl"></i>
        </div>
    }

    @* Content *@
    <div class="max-w-md w-full">
        @if (!string.IsNullOrEmpty(Title))
        {
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2.5">@Title</h3>
        }
        
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <p class="text-gray-500 dark:text-gray-400 text-base leading-relaxed mb-8">@Subtitle</p>
        }
        
        @if (Extra != null)
        {
            <div class="flex flex-wrap items-center justify-center gap-3">
                @Extra
            </div>
        }
        
        @if (ChildContent != null)
        {
            <div class="mt-8 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-left text-sm border border-gray-100 dark:border-gray-700">
                @ChildContent
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public BwResultStatus Status { get; set; } = BwResultStatus.Info;
    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public RenderFragment? Icon { get; set; }
    [Parameter] public RenderFragment? Extra { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? Class { get; set; }

    public enum BwResultStatus
    {
        Success,
        Error,
        Info,
        Warning,
        NotFound404,
        Forbidden403,
        InternalError500
    }
}
