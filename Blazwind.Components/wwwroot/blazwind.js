(function(P){"use strict";const Ve=new Map,Pe=new Map,Ke={success:{icon:"fa-solid fa-circle-check",borderColor:"border-l-emerald-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-emerald-500",progressClass:"bg-emerald-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-emerald-600 text-white hover:bg-emerald-700 shadow-sm"},danger:{icon:"fa-solid fa-circle-xmark",borderColor:"border-l-red-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-red-500",progressClass:"bg-red-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-red-600 text-white hover:bg-red-700 shadow-sm"},warning:{icon:"fa-solid fa-triangle-exclamation",borderColor:"border-l-amber-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-amber-500",progressClass:"bg-amber-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-amber-500 text-white hover:bg-amber-600 shadow-sm"},info:{icon:"fa-solid fa-circle-info",borderColor:"border-l-blue-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-blue-500",progressClass:"bg-blue-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-blue-600 text-white hover:bg-blue-700 shadow-sm"},primary:{icon:"fa-solid fa-bell",borderColor:"border-l-indigo-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-indigo-500",progressClass:"bg-indigo-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-indigo-600 text-white hover:bg-indigo-700 shadow-sm"},secondary:{icon:"fa-solid fa-circle-info",borderColor:"border-l-gray-500",contentTitle:"text-gray-900 dark:text-gray-100",contentMessage:"text-gray-600 dark:text-gray-300",iconClass:"text-gray-500",progressClass:"bg-gray-500",closeClass:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",btnClass:"bg-gray-600 text-white hover:bg-gray-700 shadow-sm"},dark:{icon:"fa-solid fa-circle-info",borderColor:"border-l-gray-800",contentTitle:"text-gray-100",contentMessage:"text-gray-300",iconClass:"text-gray-100",progressClass:"bg-gray-400",closeClass:"text-gray-400 hover:text-white hover:bg-gray-700",btnClass:"bg-gray-700 text-white hover:bg-gray-600 shadow-sm",isDark:!0}},Ea={"top-right":"top-4 left-1/2 -translate-x-1/2 sm:left-auto sm:translate-x-0 sm:right-4 items-center sm:items-end","top-left":"top-4 left-1/2 -translate-x-1/2 sm:translate-x-0 sm:left-4 items-center sm:items-start","top-center":"top-4 left-1/2 -translate-x-1/2 items-center","bottom-right":"bottom-4 left-1/2 -translate-x-1/2 sm:left-auto sm:translate-x-0 sm:right-4 items-center sm:items-end","bottom-left":"bottom-4 left-1/2 -translate-x-1/2 sm:translate-x-0 sm:left-4 items-center sm:items-start","bottom-center":"bottom-4 left-1/2 -translate-x-1/2 items-center"};function xa(t){if(Pe.has(t))return Pe.get(t);const e=document.createElement("div");e.id=`bw-toast-container-${t}`;const i=t.startsWith("bottom")?"flex-col-reverse":"flex-col";return e.className=`fixed z-[9990] flex ${i} gap-3 w-[calc(100%-2rem)] max-w-sm pointer-events-none transition-all duration-300 ${Ea[t]}`,document.body.appendChild(e),Pe.set(t,e),e}function Sa(){return`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Re(t,e){const n=t.id||Sa();let i=t.variant||"info";const r=t.duration??5e3,s=t.showProgress??!0,d=t.showClose??!0,f=t.position||"top-right";Ke[i]||(i==="error"?i="danger":i="info");const u=Ke[i],o=xa(f),a=document.createElement("div");a.id=n;let l="animate-[slideIn_0.3s_cubic-bezier(0.16,1,0.3,1)]";f.includes("left")&&(l="animate-[slideInLeft_0.3s_cubic-bezier(0.16,1,0.3,1)]"),f.includes("center")&&(l="animate-[fadeIn_0.5s_ease-out]");const c=u.isDark?"bg-gray-900 shadow-gray-900/20":"bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black/5 dark:ring-white/10";a.className=`
        pointer-events-auto
        flex items-start gap-3 p-4
        ${c}
        border-l-4 ${u.borderColor}
        rounded-sm
        ${l}
        relative overflow-hidden
        w-full transition-all duration-300
        group
    `.replace(/\s+/g," ").trim();let h="";t.actions&&t.actions.length>0&&(h='<div class="mt-2 flex items-center gap-2">',t.actions.forEach(v=>{let p=u.btnClass;v.variant&&Ke[v.variant]&&(p=Ke[v.variant].btnClass),h+=`
                 <button type="button" class="bw-toast-action-${v.actionId} text-xs font-semibold px-2 py-1 rounded transition-colors ${p}">
                     ${v.text}
                 </button>
             `}),h+="</div>"),a.innerHTML=`
        <div class="flex-shrink-0 mt-0.5">
            <i class="${u.icon} ${u.iconClass} text-lg"></i>
        </div>
        <div class="flex-1 min-w-0">
            ${t.title?`<h4 class="font-semibold text-sm mb-0.5 leading-5 ${u.contentTitle}">${t.title}</h4>`:""}
            <p class="text-sm leading-5 font-normal ${u.contentMessage}">${t.message}</p>
            ${h}
        </div>
        ${d?`
            <div class="flex-shrink-0 -mr-1 -mt-1 ml-2">
                <button type="button" class="bw-toast-close ${u.closeClass} rounded p-1 inline-flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300" aria-label="Kapat">
                    <i class="fa-solid fa-xmark text-sm"></i>
                </button>
            </div>
        `:""}
        ${s&&r>0?`
            <div class="absolute bottom-0 left-0 right-0 h-[2px] bg-gray-100/50 dark:bg-gray-700/50">
                <div class="bw-toast-progress h-full ${u.progressClass}" style="width: 100%; animation: shrink ${r}ms linear forwards;"></div>
            </div>
        `:""}
    `,o.prepend(a),t.actions&&e&&t.actions.forEach(v=>{const p=a.querySelector(`.bw-toast-action-${v.actionId}`);p&&p.addEventListener("click",b=>{b.stopPropagation(),e.invokeMethodAsync("HandleToastAction",v.actionId),Ee(n,f)})});const g={id:n,element:a,duration:r,position:f,timer:void 0};s&&r>0&&(a.addEventListener("mouseenter",()=>{const v=a.querySelector(".bw-toast-progress");v&&(v.style.animationPlayState="paused"),g.timer&&clearTimeout(g.timer)}),a.addEventListener("mouseleave",()=>{const v=a.querySelector(".bw-toast-progress");v&&(v.style.animationPlayState="running"),g.duration>0&&(g.timer=window.setTimeout(()=>Ee(n,f),r))}));const m=a.querySelector(".bw-toast-close");m&&m.addEventListener("click",v=>{v.stopPropagation(),Ee(n,f)});let y;return r>0&&(y=window.setTimeout(()=>Ee(n,f),r)),g.timer=y,Ve.set(n,g),n}function Ee(t,e){const n=Ve.get(t);if(!n)return;n.timer&&clearTimeout(n.timer);const i=e||n.position;n.element.style.transition="all 0.3s ease-in",n.element.style.opacity="0",n.element.style.transform=i.includes("left")?"translateX(-100%)":i.includes("center")?"translateY(-20px)":"translateX(100%)",setTimeout(()=>{n.element.style.maxHeight="0",n.element.style.marginBottom="0",n.element.style.marginTop="0",n.element.style.padding="0",n.element.style.border="none"},150),setTimeout(()=>{n.element.remove(),Ve.delete(t);const r=Pe.get(i);r&&r.childElementCount===0&&(r.remove(),Pe.delete(i))},350)}function Ca(){Ve.forEach((t,e)=>Ee(e))}function Oa(t,e,n){return Re({message:t,title:e,variant:"success",duration:n})}function ka(t,e,n){return Re({message:t,title:e,variant:"danger",duration:n})}function Ma(t,e,n){return Re({message:t,title:e,variant:"warning",duration:n})}function Ta(t,e,n){return Re({message:t,title:e,variant:"info",duration:n})}const Wn=Object.freeze(Object.defineProperty({__proto__:null,clearToasts:Ca,error:ka,info:Ta,removeToast:Ee,showToast:Re,success:Oa,warning:Ma},Symbol.toStringTag,{value:"Module"}));function ne(t=9999,e=!0){const n=document.createElement("div"),i=e?"bg-gray-900/80 backdrop-blur-sm":"bg-gray-900/80";return n.className=`fixed inset-0 flex items-center justify-center p-4 ${i} transition-opacity duration-300 animate-fade-in`,n.style.zIndex=t.toString(),n}function Je(t="400px",e="p-0",n=!0){const i=n?"animate-scale-in":"",r=document.createElement("div");return r.className=`bg-white dark:bg-gray-800 rounded-xl shadow-2xl flex flex-col max-h-[90vh] ${i} transition-all duration-300 transform scale-100`,r.className+=" "+e,r.style.width=t,r.style.maxWidth="90vw",r.onclick=s=>s.stopPropagation(),r}function F(t){t.classList.add("opacity-0"),t.classList.remove("animate-fade-in");const e=t.firstElementChild;e&&(e.classList.remove("scale-100","animate-scale-in"),e.classList.add("scale-95","opacity-0")),setTimeout(()=>{document.body.contains(t)&&document.body.removeChild(t)},200)}function Aa(t){const e=ne(1e4),n=Je("380px","p-6");n.innerHTML=`
        <div class="mb-4 flex justify-between items-center">
            <h4 class="font-bold text-gray-800 dark:text-gray-100" id="progress-title">${t.Title||"İşlem Yapılıyor"}</h4>
            <span class="text-sm font-semibold text-blue-600" id="progress-percent">0%</span>
        </div>
        <div class="w-full bg-gray-100 dark:bg-gray-700 rounded-full h-3 mb-3 overflow-hidden">
            <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300 ease-out shadow-inner" style="width: 0%" id="progress-bar"></div>
        </div>
        <p class="text-xs text-gray-500 dark:text-gray-400 text-center font-medium" id="progress-msg">${t.Message||"Lütfen bekleyin..."}</p>
    `,e.appendChild(n),document.body.appendChild(e);const i=n.querySelector("#progress-bar"),r=n.querySelector("#progress-percent"),s=n.querySelector("#progress-msg");return{update:(d,f)=>{i.style.width=`${d}%`,r.innerText=`${d}%`,f&&(s.innerText=f)},close:()=>F(e)}}function Pa(t){const e=ne(1e4),n=document.createElement("div");return n.className="bg-white dark:bg-gray-800 rounded-2xl shadow-xl px-8 py-6 flex items-center gap-5 animate-scale-in border border-gray-200 dark:border-gray-700",n.innerHTML=`
        <div class="relative flex-shrink-0">
            <div class="animate-spin rounded-full h-12 w-12 border-4 border-blue-200 dark:border-blue-800 border-t-blue-600 dark:border-t-blue-400"></div>
        </div>
        <div>
            <h4 class="font-semibold text-gray-900 dark:text-gray-100 text-lg">Yükleniyor</h4>
            <p class="text-gray-500 dark:text-gray-400 text-sm">${t.Message||"Lütfen bekleyin..."}</p>
        </div>
    `,e.appendChild(n),document.body.appendChild(e),{call:()=>F(e)}}function Ra(t){const e=ne(1e4,!1),n="140px",i=document.createElement("div");return i.className="bg-white/90 dark:bg-gray-900/95 rounded-2xl shadow-2xl flex flex-col items-center justify-center text-gray-800 dark:text-white backdrop-blur-md animate-scale-in border border-gray-200 dark:border-gray-700/50",i.style.width=n,i.style.height=n,i.innerHTML=`
        <i class="fa-solid fa-circle-notch fa-spin text-4xl mb-4 text-blue-600 dark:text-blue-400"></i>
        <span class="text-xs font-semibold tracking-wide opacity-90 text-center px-2">${t.Message||"Yükleniyor"}</span>
    `,e.appendChild(i),document.body.appendChild(e),{call:()=>F(e)}}function La(t){const e=ne(11e3,!0);return e.innerHTML=`
        <div class="flex flex-col items-center justify-center text-white animate-fade-in text-center max-w-md p-6">
            <div class="relative mb-6">
                 <div class="absolute inset-0 bg-blue-500 rounded-full blur-xl opacity-20 animate-pulse"></div>
                 <i class="fa-solid fa-arrows-rotate fa-spin text-5xl relative z-10"></i>
            </div>
            <h2 class="text-2xl font-bold mb-2 tracking-tight">İşlem Sürüyor</h2>
            <p class="text-gray-300 font-light text-lg">${t.Message||"Lütfen bekleyiniz, işlem tamamlanana kadar sayfayı kapatmayınız."}</p>
        </div>
    `,document.body.appendChild(e),{call:()=>F(e)}}function Da(t){const e=ne(1050),n=Je("360px","p-8 text-center");let i=t.Seconds||5;n.innerHTML=`
        <div class="relative w-32 h-32 mx-auto mb-6 flex items-center justify-center">
             <svg class="w-full h-full transform -rotate-90 drop-shadow-lg">
                <circle cx="64" cy="64" r="56" stroke="CurrentColor" stroke-width="8" fill="transparent" class="text-gray-100 dark:text-gray-700" />
                <circle cx="64" cy="64" r="56" stroke="CurrentColor" stroke-width="8" fill="transparent" class="text-blue-500 transition-all duration-1000 ease-linear" stroke-linecap="round" stroke-dasharray="351.8" stroke-dashoffset="0" id="countdown-circle" />
            </svg>
            <div class="absolute inset-0 flex items-center justify-center flex-col">
                <span class="text-4xl font-black text-gray-800 dark:text-gray-100" id="countdown-text">${i}</span>
                <span class="text-xs font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mt-1">Saniye</span>
            </div>
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">${t.Title||"Otomatik Kapanış"}</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">${t.Message||"Pencere otomatik olarak kapanacak..."}</p>
    `,e.appendChild(n),document.body.appendChild(e);const r=n.querySelector("#countdown-circle"),s=n.querySelector("#countdown-text"),f=2*Math.PI*56;r.style.strokeDasharray=`${f}`;const u=setInterval(()=>{i--,s.innerText=i.toString();const o=f-i/(t.Seconds||5)*f;r.style.strokeDashoffset=o.toString(),i<=0&&(clearInterval(u),F(e))},1e3)}function Ia(t){const e=ne(1e4),n=Je("320px","p-8 text-center"),i=t.AutoClose??!0,r=t.Duration||2e3;n.innerHTML=`
        <div class="relative w-24 h-24 mx-auto mb-6">
            <svg class="w-full h-full" viewBox="0 0 52 52">
                <circle class="text-emerald-100 dark:text-emerald-900" cx="26" cy="26" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                <circle class="text-emerald-500 animate-[dash_0.6s_ease-in-out_forwards]" cx="26" cy="26" r="25" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="157" stroke-dashoffset="157" stroke-linecap="round" style="animation: dash 0.6s ease-in-out forwards;"/>
                <path class="text-emerald-500" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="32" stroke-dashoffset="32" d="M14 27l7 7 16-16" style="animation: checkmark 0.4s 0.4s ease-in-out forwards;"/>
            </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">${t.Title||"Başarılı!"}</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm">${t.Message||"İşlem başarıyla tamamlandı."}</p>
    `;const s=document.createElement("style");return s.textContent=`
        @keyframes dash { to { stroke-dashoffset: 0; } }
        @keyframes checkmark { to { stroke-dashoffset: 0; } }
    `,n.appendChild(s),e.appendChild(n),document.body.appendChild(e),i&&setTimeout(()=>F(e),r),{call:()=>F(e)}}function Ba(t){const e=ne(1e4),n=Je("320px","p-8 text-center"),i=t.AutoClose??!0,r=t.Duration||2500;n.innerHTML=`
        <div class="relative w-24 h-24 mx-auto mb-6">
            <svg class="w-full h-full" viewBox="0 0 52 52">
                <circle class="text-red-100 dark:text-red-900" cx="26" cy="26" r="25" fill="none" stroke="currentColor" stroke-width="2"/>
                <circle class="text-red-500 animate-[dash_0.6s_ease-in-out_forwards]" cx="26" cy="26" r="25" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="157" stroke-dashoffset="157" stroke-linecap="round" style="animation: dash 0.6s ease-in-out forwards;"/>
                <path class="text-red-500" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" stroke-dasharray="32" stroke-dashoffset="32" d="M16 16 36 36 M36 16 16 36" style="animation: checkmark 0.4s 0.4s ease-in-out forwards;"/>
            </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-2">${t.Title||"Hata!"}</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm">${t.Message||"Bir hata oluştu."}</p>
    `;const s=document.createElement("style");return s.textContent=`
        @keyframes dash { to { stroke-dashoffset: 0; } }
        @keyframes checkmark { to { stroke-dashoffset: 0; } }
    `,n.appendChild(s),e.appendChild(n),document.body.appendChild(e),i&&setTimeout(()=>F(e),r),{call:()=>F(e)}}function $a(t){const e=ne(1e4,!0);e.className+=" cursor-zoom-out",e.onclick=()=>F(e);const n=document.createElement("div");return n.className="relative max-w-[90vw] max-h-[90vh] animate-scale-in",n.onclick=i=>i.stopPropagation(),n.innerHTML=`
        <img src="${t.Src}" alt="${t.Alt||"Görsel"}" class="max-w-full max-h-[85vh] rounded-lg shadow-2xl object-contain" />
        ${t.Caption?`<p class="text-white text-center mt-4 text-sm font-medium drop-shadow-lg">${t.Caption}</p>`:""}
        <button class="absolute -top-3 -right-3 w-8 h-8 bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors" onclick="this.closest('.fixed').remove()">
            <i class="fa-solid fa-xmark"></i>
        </button>
    `,e.appendChild(n),document.body.appendChild(e),{call:()=>F(e)}}function Na(t){const e=ne(1e4),n=document.createElement("div");return n.className="flex flex-col items-center justify-center animate-scale-in",n.innerHTML=`
        <div class="relative mb-4">
            <div class="w-16 h-16 bg-blue-500 rounded-full animate-ping opacity-75"></div>
            <div class="absolute inset-0 w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center">
                <i class="fa-solid fa-${t.Icon||"sync"} text-white text-xl"></i>
            </div>
        </div>
        <p class="text-white font-medium text-lg drop-shadow-lg">${t.Message||"İşlem devam ediyor..."}</p>
    `,e.appendChild(n),document.body.appendChild(e),{call:()=>F(e)}}function za(t,e){const n=document.getElementById(t),i=document.getElementById(e);if(!n||!i)return;let r=!1,s=0,d=0,f=0,u=0;i.style.cursor="move",getComputedStyle(n).position==="static"&&(n.style.position="relative"),i.addEventListener("mousedown",l=>{l.button===0&&(r=!0,s=l.clientX,d=l.clientY,document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),l.preventDefault())});function o(l){if(!r)return;const c=l.clientX-s,h=l.clientY-d,g=f+c,m=u+h;n.style.left=`${g}px`,n.style.top=`${m}px`}function a(l){if(!r)return;const c=l.clientX-s,h=l.clientY-d;f+=c,u+=h,r=!1,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)}}function qa(t){const e=document.getElementById(t);if(!e)return;const n=`${t}-resize-handle`;let i=document.getElementById(n);if(!i)return;let r=!1,s=0,d=0,f=0,u=0;i.addEventListener("mousedown",l=>{if(l.button!==0)return;r=!0,f=l.clientX,u=l.clientY;const c=e.getBoundingClientRect();s=c.width,d=c.height,document.addEventListener("mousemove",o),document.addEventListener("mouseup",a),l.preventDefault()});function o(l){if(!r)return;const c=l.clientX-f,h=l.clientY-u;e.style.width=`${Math.max(s+c,200)}px`,e.style.height=`${Math.max(d+h,150)}px`,e.style.maxWidth="none",e.style.maxHeight="none"}function a(){r=!1,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)}}const Gn=Object.freeze(Object.defineProperty({__proto__:null,makeDraggable:za,makeResizable:qa,showBusy:La,showCountdown:Da,showError:Ba,showImagePreview:$a,showLoading:Pa,showProgress:Aa,showPulseLoading:Na,showSquareLoading:Ra,showSuccess:Ia},Symbol.toStringTag,{value:"Module"}));let le=new Map;function ja(t){const e=document.getElementById(t);if(!e)return!1;const n=e.querySelector("[data-nav-items]"),i=e.querySelector("[data-nav-chevron]");if(!n)return!1;const r=n.style.display!=="none";return r?(n.style.display="none",i?.classList.remove("rotate-90"),le.set(t,!1)):(n.style.display="flex",i?.classList.add("rotate-90"),le.set(t,!0)),!r}function Ha(t){const e=document.getElementById(t);if(!e)return;const n=e.querySelector("[data-nav-items]"),i=e.querySelector("[data-nav-chevron]");n&&(n.style.display="flex",i?.classList.add("rotate-90"),le.set(t,!0))}function Fa(t){const e=document.getElementById(t);if(!e)return;const n=e.querySelector("[data-nav-items]"),i=e.querySelector("[data-nav-chevron]");n&&(n.style.display="none",i?.classList.remove("rotate-90"),le.set(t,!1))}function Ua(t){return le.get(t)??!1}function Xn(t,e){const n=document.getElementById(t);if(!n)return;const i=n.querySelector("[data-nav-items]"),r=n.querySelector("[data-nav-chevron]");i&&(i.style.display=e?"flex":"none",e?r?.classList.add("rotate-90"):r?.classList.remove("rotate-90"),le.set(t,e))}function Yn(){document.querySelectorAll('[data-active="true"]').forEach(e=>{let n=e.parentElement;for(;n;){if(n.hasAttribute("data-nav-items")){n.style.display="flex";const r=n.parentElement;if(r&&r.hasAttribute("data-nav-group")){const s=r.id;r.querySelector("[data-nav-chevron]")?.classList.add("rotate-90"),le.set(s,!0)}}n=n.parentElement}})}function Wa(t){const e=t.toLowerCase().trim(),n=document.querySelectorAll("[data-nav-group]"),i=document.querySelectorAll("[data-nav-item]");if(!e){n.forEach(r=>r.style.display=""),i.forEach(r=>r.style.display=""),n.forEach(r=>{const s=r.id,d=le.get(s)||!1;Xn(s,d)});return}n.forEach(r=>r.style.display="none"),i.forEach(r=>r.style.display="none"),i.forEach(r=>{if((r.textContent?.toLowerCase()||"").includes(e)){r.style.display="";let d=r.parentElement;for(;d;){if(d.hasAttribute("data-nav-group")){d.style.display="";const f=d.querySelector("[data-nav-items]");f&&(f.style.display="flex")}if(d.hasAttribute("data-nav-items")&&(d.style.display="flex"),d=d.parentElement,d?.tagName==="NAV")break}}})}function Vn(){Yn()}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Vn):setTimeout(Vn,50));const Kn=Object.freeze(Object.defineProperty({__proto__:null,collapseGroup:Fa,expandGroup:Ha,expandParentsForActive:Yn,filterNav:Wa,initGroup:Xn,isGroupExpanded:Ua,toggleGroup:ja},Symbol.toStringTag,{value:"Module"}));let ce=!1;function Ga(){ce=!ce,Yt()}function Xa(){ce=!0,Yt()}function Ze(){ce=!1,Yt()}function Ya(){return ce}function Yt(){const t=document.getElementById("bw-sidebar"),e=document.getElementById("bw-sidebar-overlay");if(!t)return;const n=t.classList.contains("right-0");ce?(n?t.classList.remove("translate-x-full"):t.classList.remove("-translate-x-full"),t.classList.add("translate-x-0"),e?.classList.remove("hidden"),e?.classList.add("block"),document.body.style.overflow="hidden"):(t.classList.remove("translate-x-0"),n?t.classList.add("translate-x-full"):t.classList.add("-translate-x-full"),e?.classList.add("hidden"),e?.classList.remove("block"),document.body.style.overflow="")}typeof document<"u"&&(document.addEventListener("click",t=>{t.target.id==="bw-sidebar-overlay"&&Ze()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&ce&&Ze()}),window.addEventListener("resize",()=>{window.innerWidth>=1024&&ce&&Ze()}));const Jn=Object.freeze(Object.defineProperty({__proto__:null,close:Ze,isOpen:Ya,open:Xa,toggle:Ga},Symbol.toStringTag,{value:"Module"}));let ue=null,Zn=-1;function Va(t,e,n=!0){const i=document.getElementById(t);if(i){if(i.dataset.sortableInitialized==="true"){Vt(t,n);return}i.dataset.sortableInitialized="true",Vt(t,n),i.addEventListener("dragover",r=>{if(i.dataset.sortableEnabled!=="true")return;const s=r;if(s.preventDefault(),!ue)return;const d=Za(i,s.clientY);d==null?i.appendChild(ue):i.insertBefore(ue,d)}),i.addEventListener("drop",()=>{if(i.dataset.sortableEnabled==="true"&&ue){const r=Array.from(i.children).indexOf(ue);e.invokeMethodAsync("HandleDrop",Zn,r),ue.classList.remove("opacity-50","bg-gray-50","dark:bg-gray-800"),ue=null}})}}function Vt(t,e){const n=document.getElementById(t);n&&(n.dataset.sortableEnabled=e.toString(),e?Ja(n):Ka(n))}function Ka(t){const e=t.children;for(let n=0;n<e.length;n++)e[n].removeAttribute("draggable")}function Ja(t){t.querySelectorAll(".bw-draggable").forEach((n,i)=>{const r=n;r.setAttribute("draggable","true"),r.dataset.index=i.toString(),r.dataset.dragBound!=="true"&&(r.dataset.dragBound="true",r.addEventListener("dragstart",s=>{if(t.dataset.sortableEnabled!=="true"){s.preventDefault();return}ue=r,Zn=Array.from(t.children).indexOf(r),s.dataTransfer.effectAllowed="move",requestAnimationFrame(()=>{r.classList.add("opacity-50","bg-gray-50","dark:bg-gray-800")})}),r.addEventListener("dragend",()=>{r.classList.remove("opacity-50","bg-gray-50","dark:bg-gray-800")}))})}function Za(t,e){return[...t.querySelectorAll(".bw-draggable:not(.opacity-50)")].reduce((i,r)=>{const s=r.getBoundingClientRect(),d=e-s.top-s.height/2;return d<0&&d>i.offset?{offset:d,element:r}:i},{offset:Number.NEGATIVE_INFINITY,element:null}).element}const Qn=Object.freeze(Object.defineProperty({__proto__:null,initializeSortable:Va,updateSortable:Vt},Symbol.toStringTag,{value:"Module"}));function er(t,e,n=200,i=800){const r=document.getElementById(t);if(!r)return null;const s=e==="Left"||e==="Right";let d=!1,f=0,u=0;const o=r.querySelector("[data-resize-handle]");if(!o)return null;const a=h=>{d=!0,f=s?h.clientX:h.clientY,u=s?r.offsetWidth:r.offsetHeight,document.body.style.cursor=s?e==="Left"?"e-resize":"w-resize":e==="Top"?"s-resize":"n-resize",document.body.style.userSelect="none",h.preventDefault()},l=h=>{if(!d)return;let m=(s?h.clientX:h.clientY)-f;(e==="Right"||e==="Bottom")&&(m=-m);let y=u+m;y=Math.max(n,Math.min(i,y)),s?r.style.width=`${y}px`:r.style.height=`${y}px`},c=()=>{d&&(d=!1,document.body.style.cursor="",document.body.style.userSelect="")};return o.addEventListener("mousedown",a),document.addEventListener("mousemove",l),document.addEventListener("mouseup",c),{destroy:()=>{o.removeEventListener("mousedown",a),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)}}}typeof window<"u"&&(window.BlazwindDrawer={initializeResize:er});const tr=Object.freeze(Object.defineProperty({__proto__:null,initializeDrawerResize:er},Symbol.toStringTag,{value:"Module"}));class nr{static getPositionAdjusted(e,n,i=200,r=200){const s=window.innerWidth,d=window.innerHeight;let f=e,u=n;return e+i>s&&(f=Math.max(0,e-i)),n+r>d&&(u=Math.max(0,n-r)),f<0&&(f=0),u<0&&(u=0),{x:f,y:u}}static adjustSubmenuPosition(e,n){if(!e||!n)return;const i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),s=window.innerWidth,d=window.innerHeight;let f=i.width,u=0;const o=i.right+r.width,a=i.top+r.height;o>s&&(f=-r.width),a>d&&(u=i.height-r.height),n.style.left=`${f}px`,n.style.top=`${u}px`,n.style.opacity="1"}static calculateMenuPosition(e,n,i){if(!e)return{x:n,y:i};const r=e.getBoundingClientRect(),s=r.width,d=r.height,f=window.innerWidth,u=window.innerHeight;let o=n,a=i;return n+s>f&&(o=Math.max(0,n-s)),i+d>u&&(a=Math.max(0,i-d)),{x:o,y:a}}static adjustMenuPosition(e,n,i){if(!e)return;const r=e.getBoundingClientRect(),s=r.width,d=r.height,f=window.innerWidth,u=window.innerHeight;let o=n,a=i;n+s>f&&(o=Math.max(0,n-s)),i+d>u&&(a=Math.max(0,i-d)),e.style.left=`${o}px`,e.style.top=`${a}px`,e.style.opacity="1"}}let Kt=!1,Qe=null;function Qa(t){if(Kt)return;const e=n=>{(n.ctrlKey||n.metaKey)&&n.key==="k"&&(n.preventDefault(),t.invokeMethodAsync("OnShortcutPressed")),n.key==="Escape"&&t.invokeMethodAsync("OnEscapePressed")};document.addEventListener("keydown",e),Qe=()=>document.removeEventListener("keydown",e),Kt=!0}function es(){Qe&&(Qe(),Qe=null),Kt=!1}function ts(t){setTimeout(()=>{const e=document.getElementById(t);if(e){e.focus();const n=e.value.length;e.setSelectionRange(n,n)}},50)}function ns(t){const e=document.getElementById(t);if(e&&document.activeElement===e){const n=e.selectionStart??e.value.length;requestAnimationFrame(()=>{e.focus(),e.setSelectionRange(n,n)})}}function rs(t,e,n){const i=document.getElementById(e);if(!i)return;const r=i.querySelectorAll(".bw-command-item"),s=i.querySelector(".bw-command-item.active");if(!r.length)return;let d=-1;r.forEach((u,o)=>{u===s&&(d=o)});let f;n==="down"?f=d<r.length-1?d+1:0:f=d>0?d-1:r.length-1,t.invokeMethodAsync("SetActiveIndex",f)}const rr=Object.freeze(Object.defineProperty({__proto__:null,focusInput:ts,handleArrowNavigation:rs,preserveCursor:ns,registerKeyboardShortcut:Qa,unregisterKeyboardShortcut:es},Symbol.toStringTag,{value:"Module"}));let D=null,I=null,re=null,me=[];const os=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4"];function or(){D||(D=document.createElement("canvas"),D.id="bw-confetti-canvas",D.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 9999;
    `,document.body.appendChild(D),I=D.getContext("2d"),Jt(),window.addEventListener("resize",Jt))}function Jt(){D&&(D.width=window.innerWidth,D.height=window.innerHeight)}function ir(){D&&(document.body.removeChild(D),D=null,I=null),window.removeEventListener("resize",Jt)}function ar(t,e,n){const i=n.colors||os,r=n.spread||70,s=(Math.random()*r-r/2)*(Math.PI/180),d=8+Math.random()*8,f=["square","circle","triangle"];return{x:t,y:e,vx:Math.sin(s)*d*(Math.random()>.5?1:-1),vy:-Math.cos(s)*d-Math.random()*4,color:i[Math.floor(Math.random()*i.length)],size:6+Math.random()*6,rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*10,shape:f[Math.floor(Math.random()*f.length)]}}function is(t){if(I){switch(I.save(),I.translate(t.x,t.y),I.rotate(t.rotation*Math.PI/180),I.fillStyle=t.color,t.shape){case"circle":I.beginPath(),I.arc(0,0,t.size/2,0,Math.PI*2),I.fill();break;case"triangle":I.beginPath(),I.moveTo(0,-t.size/2),I.lineTo(-t.size/2,t.size/2),I.lineTo(t.size/2,t.size/2),I.closePath(),I.fill();break;default:I.fillRect(-t.size/2,-t.size/2,t.size,t.size)}I.restore()}}function Zt(t,e,n){if(!I||!D)return;if(Date.now()-t>e&&me.every(r=>r.y>D.height)){re&&(cancelAnimationFrame(re),re=null),ir();return}I.clearRect(0,0,D.width,D.height),me=me.filter(r=>r.y<D.height+100);for(const r of me)r.x+=r.vx,r.y+=r.vy,r.vy+=n,r.vx*=.99,r.rotation+=r.rotationSpeed,is(r);re=requestAnimationFrame(()=>Zt(t,e,n))}function sr(t={}){const{particleCount:e=100,duration:n=3e3,gravity:i=.3}=t;if(or(),!D)return;const r=D.width/2,s=D.height*.6;for(let d=0;d<e;d++)me.push(ar(r,s,t));re||Zt(Date.now(),n,i)}function as(t,e={}){const n=document.getElementById(t);if(!n){sr(e);return}const i=n.getBoundingClientRect(),{particleCount:r=50,duration:s=2500,gravity:d=.25}=e;if(or(),!D)return;const f=i.left+i.width/2,u=i.top+i.height/2;for(let o=0;o<r;o++)me.push(ar(f,u,e));re||Zt(Date.now(),s,d)}function ss(){re&&(cancelAnimationFrame(re),re=null),me=[],ir()}const lr=Object.freeze(Object.defineProperty({__proto__:null,launchConfetti:sr,launchConfettiFromElement:as,stopConfetti:ss},Symbol.toStringTag,{value:"Module"}));let R=null,B=null,xe=null,cr=!1;function ls(t){xe=t,cr||(cs(),cr=!0)}function cs(){document.addEventListener("mousemove",ur),document.addEventListener("mouseup",hr),document.addEventListener("touchmove",dr,{passive:!1}),document.addEventListener("touchend",gr)}function us(){document.removeEventListener("mousemove",ur),document.removeEventListener("mouseup",hr),document.removeEventListener("touchmove",dr),document.removeEventListener("touchend",gr),xe=null,R=null,B=null}function ds(t,e,n,i,r,s){console.log("startDrag called:",{eventId:t,startDayIndex:e,clientX:n,clientY:i,slotHeight:r,slotMinutes:s});const d=document.querySelector(`[data-event-id="${t}"]`);if(!d){console.error("Event element not found:",t);return}document.body.style.userSelect="none",document.body.style.webkitUserSelect="none";const f=d.closest(".bw-event-container");if(!f){console.error("Container not found for event:",t);return}const u=f.parentElement;if(!u){console.error("Day column not found for event:",t);return}const o=f.offsetTop,a=f.getBoundingClientRect(),l=u.getBoundingClientRect(),c=l.width,h=Math.round((a.left-l.left)/c);console.log("Drag setup:",{initialOffsetTop:o,initialDayOffset:h,containerClasses:f.className}),R={isDragging:!0,eventId:t,eventElement:f,dayColumnElement:u,startDayIndex:e,startX:n,startY:i,originalTop:o,slotHeight:r,slotMinutes:s,currentDayDelta:0,initialDayOffset:h,hasMoved:!1}}function fs(t,e,n,i){const r=document.querySelector(`[data-event-id="${t}"]`);if(!r)return;const s=r.closest(".bw-event-container");s&&(document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",B={isResizing:!0,eventId:t,eventElement:s,startY:e,originalHeight:s.offsetHeight,slotHeight:n,slotMinutes:i},s.classList.add("bw-calendar-resizing"),document.body.style.cursor="ns-resize")}function ur(t){fr(t.clientX,t.clientY)}function dr(t){(R?.isDragging||B?.isResizing)&&t.preventDefault(),t.touches.length>0&&fr(t.touches[0].clientX,t.touches[0].clientY)}function fr(t,e){if(R?.isDragging&&R.eventElement){const n=e-R.startY,i=t-R.startX;if(!R.hasMoved){if(Math.sqrt(i*i+n*n)<10)return;R.hasMoved=!0;const g=R.eventElement;g.classList.add("bw-calendar-dragging"),g.style.zIndex="100",g.style.opacity="0.9",g.style.cursor="grabbing",g.style.boxShadow="0 8px 25px rgba(0,0,0,0.2)",g.style.transition="none"}const r=Math.round(n/R.slotHeight)*R.slotHeight,s=Math.max(0,R.originalTop+r);R.eventElement.style.top=`${s}px`;const d=R.dayColumnElement.offsetWidth,f=Math.round(i/d),u=R.initialDayOffset+f,o=R.startDayIndex-R.initialDayOffset,a=Math.max(-o,Math.min(6-o,u)),l=a-R.initialDayOffset;l!==R.currentDayDelta&&(R.currentDayDelta=l);const c=a*d;R.eventElement.style.transform=`translateX(${c}px)`}if(B?.isResizing&&B.eventElement){const n=e-B.startY,i=Math.max(B.slotHeight,B.originalHeight+n),r=Math.round(i/B.slotHeight)*B.slotHeight;B.eventElement.style.height=`${r}px`}}function hr(){mr()}function gr(){mr()}async function mr(){if(console.log("handleEnd called, dragState:",R?{isDragging:R.isDragging,eventId:R.eventId}:null),document.body.style.userSelect="",document.body.style.webkitUserSelect="",R?.isDragging&&R.eventElement){const t=R.eventElement,e=R;if(R=null,e.hasMoved){const n=t.offsetTop,i=Math.round(n/e.slotHeight),r=Math.round(e.originalTop/e.slotHeight),s=(i-r)*e.slotMinutes,d=e.currentDayDelta;if(console.log("Drag end calculation:",{newTop:n,slotIndex:i,originalSlotIndex:r,minutesDelta:s,dayDelta:d}),xe&&(s!==0||d!==0))try{Qt(t,e.originalTop),await xe.invokeMethodAsync("OnEventDragged",e.eventId,s,d)}catch(f){console.error("Error calling OnEventDragged:",f),Qt(t,e.originalTop)}else Qt(t,e.originalTop)}}if(B?.isResizing&&B.eventElement){const t=B.eventElement;t.classList.remove("bw-calendar-resizing"),document.body.style.cursor="";const e=t.offsetHeight,n=Math.round(e/B.slotHeight),i=n*B.slotMinutes;console.log("Resize end:",{newHeight:e,slotsCount:n,newDurationMinutes:i,originalHeight:B.originalHeight});const r=B;if(B=null,xe)try{console.log("Calling .NET OnEventResized"),await xe.invokeMethodAsync("OnEventResized",r.eventId,i)}catch(s){console.error("Error calling OnEventResized:",s)}}}function Qt(t,e){t.classList.remove("bw-calendar-dragging"),t.style.zIndex="",t.style.opacity="",t.style.cursor="",t.style.boxShadow="",t.style.transform="",t.style.transition="",t.style.top=`${e}px`}function en(t){const e=document.getElementById(t);if(!e)return;const n=e.querySelector(".bw-time-indicator");if(!n)return;const i=new Date,r=i.getHours(),s=i.getMinutes(),d=r*60+s,f=parseInt(e.dataset.startHour||"0"),u=parseInt(e.dataset.slotMinutes||"30"),o=parseInt(e.dataset.slotHeight||"48"),a=f*60,l=d-a;if(l>=0){const c=l/u*o;n.style.top=`${c}px`,n.style.display="flex"}else n.style.display="none"}function vr(t,e){const n=document.getElementById(t);if(!n)return;const i=n.querySelector(".flex-1.overflow-y-auto");if(!i)return;const r=parseInt(n.dataset.startHour||"0"),s=parseInt(n.dataset.slotMinutes||"30"),d=parseInt(n.dataset.slotHeight||"48"),u=(e-r)*60/s*d;i.scrollTop>0||i.scrollTo({top:Math.max(0,u-100),behavior:"smooth"})}function hs(t){vr(t,new Date().getHours())}let Se=null;function gs(t){en(t),Se&&clearInterval(Se),Se=window.setInterval(()=>{en(t)},6e4)}function ms(){Se&&(clearInterval(Se),Se=null)}function vs(t){const e=document.getElementById(t);if(!e)return;const n=e.closest(".bw-calendar-wrapper");n&&(n.classList.contains("bw-calendar-fullscreen")?(n.classList.remove("bw-calendar-fullscreen"),document.body.style.overflow=""):(n.classList.add("bw-calendar-fullscreen"),document.body.style.overflow="hidden"))}const yr=Object.freeze(Object.defineProperty({__proto__:null,dispose:us,initialize:ls,scrollToNow:hs,scrollToTime:vr,startDrag:ds,startResize:fs,startTimeIndicatorUpdate:gs,stopTimeIndicatorUpdate:ms,toggleFullscreen:vs,updateTimeIndicator:en},Symbol.toStringTag,{value:"Module"}));let $=null;function ys(t,e,n){const i=t.querySelector('[class*="cursor-col-resize"], [class*="cursor-row-resize"]');if(!i){console.error("SplitPanel: divider not found");return}const r={container:t,dotNetRef:e,isHorizontal:n,isResizing:!1};i.addEventListener("mousedown",s=>{s.preventDefault(),s.stopPropagation(),r.isResizing=!0,$=r,document.body.style.cursor=n?"col-resize":"row-resize",document.body.style.userSelect="none"}),i.addEventListener("touchstart",s=>{s.preventDefault(),r.isResizing=!0,$=r},{passive:!1})}function ps(t){if(!$||!$.isResizing)return;const e=$.container.getBoundingClientRect();let n;$.isHorizontal?n=(t.clientX-e.left)/e.width*100:n=(t.clientY-e.top)/e.height*100,n=Math.max(5,Math.min(95,n)),$.dotNetRef.invokeMethodAsync("UpdateSize",n)}function pr(){$&&($.isResizing=!1,document.body.style.cursor="",document.body.style.userSelect="",$=null)}function bs(t){if(!$||!$.isResizing||t.touches.length===0)return;const e=t.touches[0],n=$.container.getBoundingClientRect();let i;$.isHorizontal?i=(e.clientX-n.left)/n.width*100:i=(e.clientY-n.top)/n.height*100,i=Math.max(5,Math.min(95,i)),$.dotNetRef.invokeMethodAsync("UpdateSize",i)}document.addEventListener("mousemove",ps),document.addEventListener("mouseup",pr),document.addEventListener("touchmove",bs,{passive:!0}),document.addEventListener("touchend",pr);function ws(){$=null}const br=Object.freeze(Object.defineProperty({__proto__:null,dispose:ws,initialize:ys},Symbol.toStringTag,{value:"Module"}));let wr=new Map;function _s(t,e){const n={container:t,dotNetRef:e,lastScrollTop:0};wr.set(t,n);const i=()=>{const r=Math.round(t.scrollTop);Math.abs(r-n.lastScrollTop)>10&&(n.lastScrollTop=r,n.dotNetRef.invokeMethodAsync("OnScroll",r))};t.addEventListener("scroll",i,{passive:!0})}function Es(){wr.clear()}const _r=Object.freeze(Object.defineProperty({__proto__:null,dispose:Es,initialize:_s},Symbol.toStringTag,{value:"Module"}));let tn=new Map;function xs(t,e,n){if(!t){console.error("InfiniteScroll: sentinel element not found");return}const i={root:null,rootMargin:`${n}px`,threshold:.1},r={sentinel:t,dotNetRef:e,observer:null,isLoading:!1},s=new IntersectionObserver(d=>{d.forEach(f=>{f.isIntersecting&&!r.isLoading&&r.dotNetRef&&(r.isLoading=!0,r.dotNetRef.invokeMethodAsync("TriggerLoadMore").then(()=>{setTimeout(()=>{r.isLoading=!1},100)}).catch(()=>{r.isLoading=!1}))})},i);r.observer=s,tn.set(t,r),s.observe(t)}function Ss(){tn.forEach(t=>{t.observer&&t.observer.disconnect()}),tn.clear()}const Er=Object.freeze(Object.defineProperty({__proto__:null,dispose:Ss,initialize:xs},Symbol.toStringTag,{value:"Module"}));let W=null,Ce=-1,Le=-1,et=null;function Cs(t,e){et=t;const n=document.getElementById(e.containerId);if(!n)return;const i=n.querySelector("thead tr:first-child");if(!i)return;i.querySelectorAll('th[data-draggable="true"]').forEach((s,d)=>{const f=s;f.setAttribute("draggable","true"),f.style.cursor="grab",f.dataset.columnIndex=d.toString(),f.addEventListener("dragstart",xr),f.addEventListener("dragend",Sr),f.addEventListener("dragover",Cr),f.addEventListener("drop",Mr),f.addEventListener("dragenter",Or),f.addEventListener("dragleave",kr)})}function xr(t){W=t.target,Ce=parseInt(W.dataset.columnIndex||"-1"),W.style.opacity="0.5",W.style.cursor="grabbing",t.dataTransfer&&(t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",Ce.toString()))}function Sr(t){W&&(W.style.opacity="1",W.style.cursor="grab"),document.querySelectorAll(".column-drop-indicator").forEach(e=>e.remove()),document.querySelectorAll(".drag-over").forEach(e=>e.classList.remove("drag-over")),W=null,Ce=-1,Le=-1}function Cr(t){t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move")}function Or(t){t.preventDefault();const n=t.target.closest("th");n&&n!==W&&(n.classList.add("drag-over"),n.style.borderLeft="3px solid #3b82f6")}function kr(t){const n=t.target.closest("th");n&&(n.classList.remove("drag-over"),n.style.borderLeft="")}function Mr(t){t.preventDefault();const n=t.target.closest("th");n&&W&&n!==W&&(Le=parseInt(n.dataset.columnIndex||"-1"),Ce>=0&&Le>=0&&Ce!==Le&&et&&et.invokeMethodAsync("OnColumnReorder",Ce,Le)),n&&(n.classList.remove("drag-over"),n.style.borderLeft="")}function Os(t){const e=document.getElementById(t);if(!e)return;e.querySelectorAll('th[data-draggable="true"]').forEach(i=>{const r=i;r.removeAttribute("draggable"),r.style.cursor="",r.removeEventListener("dragstart",xr),r.removeEventListener("dragend",Sr),r.removeEventListener("dragover",Cr),r.removeEventListener("drop",Mr),r.removeEventListener("dragenter",Or),r.removeEventListener("dragleave",kr)}),et=null}const Tr=Object.freeze(Object.defineProperty({__proto__:null,disposeColumnDrag:Os,initColumnDrag:Cs},Symbol.toStringTag,{value:"Module"})),De=new Map;let tt=!1,G=null,nt=null,Ar=0,Pr=0,K=null;function ks(t,e){De.set(e.containerId,{dotNetRef:t,options:e});const n=document.getElementById(e.containerId);if(!n){console.warn("ColumnResize: Container not found:",e.containerId);return}const i=n.querySelectorAll("[data-resize-handle]");if(i.length===0){console.warn("ColumnResize: No resize handles found in container");return}i.forEach(r=>{const s=r,d=s.getAttribute("data-resize-handle"),f=s.closest("th");f&&(f.style.position="relative"),s.addEventListener("mousedown",u=>Ms(u,f,d,e.containerId))}),De.size===1&&(document.addEventListener("mousemove",Rr),document.addEventListener("mouseup",Lr))}function Ms(t,e,n,i){if(!e||!n)return;const r=De.get(i);if(!r)return;K=r,t.preventDefault(),t.stopPropagation();const s=e.closest("tr");if(s&&(s.querySelectorAll("th").forEach(f=>{const u=f.getBoundingClientRect().width;f.style.width=`${u}px`,f.style.minWidth=`${u}px`}),K&&K.options.autoFit)){const f=s.closest("table");f&&(f.style.tableLayout="fixed",f.style.width="auto")}G=e,nt=n,tt=!0,Ar=t.pageX,Pr=e.getBoundingClientRect().width,G.style.userSelect="none",document.body.style.cursor="col-resize",document.body.style.userSelect="none",G.classList.add("resizing")}function Rr(t){if(!tt||!G||!K)return;const e=t.pageX-Ar;let n=Pr+e;n=Math.max(K.options.minWidth,n),K.options.maxWidth>0&&(n=Math.min(K.options.maxWidth,n)),G.style.width=`${n}px`,G.style.minWidth=`${n}px`}function Lr(t){if(!tt||!G)return;tt=!1,document.body.style.cursor="",document.body.style.userSelect="",G.style.userSelect="",G.classList.remove("resizing");const e=G.getBoundingClientRect().width;nt&&K&&K.dotNetRef.invokeMethodAsync("OnColumnResized",nt,e),G=null,nt=null,K=null}function Ts(t){De.delete(t),De.size===0&&(document.removeEventListener("mousemove",Rr),document.removeEventListener("mouseup",Lr))}const Dr=Object.freeze(Object.defineProperty({__proto__:null,disposeColumnResize:Ts,initColumnResize:ks},Symbol.toStringTag,{value:"Module"}));function Ir(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oe={},nn,Br;function As(){return Br||(Br=1,nn=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),nn}var rn={},de={},$r;function ve(){if($r)return de;$r=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return de.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},de.getSymbolTotalCodewords=function(i){return e[i]},de.getBCHDigit=function(n){let i=0;for(;n!==0;)i++,n>>>=1;return i},de.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');t=i},de.isKanjiModeEnabled=function(){return typeof t<"u"},de.toSJIS=function(i){return t(i)},de}var on={},Nr;function an(){return Nr||(Nr=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},t.from=function(i,r){if(t.isValid(i))return i;try{return e(i)}catch{return r}}})(on)),on}var sn,zr;function Ps(){if(zr)return sn;zr=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let i=0;i<n;i++)this.putBit((e>>>n-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},sn=t,sn}var ln,qr;function Rs(){if(qr)return ln;qr=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,i,r){const s=e*this.size+n;this.data[s]=i,r&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,i){this.data[e*this.size+n]^=i},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},ln=t,ln}var cn={},jr;function Ls(){return jr||(jr=1,(function(t){const e=ve().getSymbolSize;t.getRowColCoords=function(i){if(i===1)return[];const r=Math.floor(i/7)+2,s=e(i),d=s===145?26:Math.ceil((s-13)/(2*r-2))*2,f=[s-7];for(let u=1;u<r-1;u++)f[u]=f[u-1]-d;return f.push(6),f.reverse()},t.getPositions=function(i){const r=[],s=t.getRowColCoords(i),d=s.length;for(let f=0;f<d;f++)for(let u=0;u<d;u++)f===0&&u===0||f===0&&u===d-1||f===d-1&&u===0||r.push([s[f],s[u]]);return r}})(cn)),cn}var un={},Hr;function Ds(){if(Hr)return un;Hr=1;const t=ve().getSymbolSize,e=7;return un.getPositions=function(i){const r=t(i);return[[0,0],[r-e,0],[0,r-e]]},un}var dn={},Fr;function Is(){return Fr||(Fr=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const s=r.size;let d=0,f=0,u=0,o=null,a=null;for(let l=0;l<s;l++){f=u=0,o=a=null;for(let c=0;c<s;c++){let h=r.get(l,c);h===o?f++:(f>=5&&(d+=e.N1+(f-5)),o=h,f=1),h=r.get(c,l),h===a?u++:(u>=5&&(d+=e.N1+(u-5)),a=h,u=1)}f>=5&&(d+=e.N1+(f-5)),u>=5&&(d+=e.N1+(u-5))}return d},t.getPenaltyN2=function(r){const s=r.size;let d=0;for(let f=0;f<s-1;f++)for(let u=0;u<s-1;u++){const o=r.get(f,u)+r.get(f,u+1)+r.get(f+1,u)+r.get(f+1,u+1);(o===4||o===0)&&d++}return d*e.N2},t.getPenaltyN3=function(r){const s=r.size;let d=0,f=0,u=0;for(let o=0;o<s;o++){f=u=0;for(let a=0;a<s;a++)f=f<<1&2047|r.get(o,a),a>=10&&(f===1488||f===93)&&d++,u=u<<1&2047|r.get(a,o),a>=10&&(u===1488||u===93)&&d++}return d*e.N3},t.getPenaltyN4=function(r){let s=0;const d=r.data.length;for(let u=0;u<d;u++)s+=r.data[u];return Math.abs(Math.ceil(s*100/d/5)-10)*e.N4};function n(i,r,s){switch(i){case t.Patterns.PATTERN000:return(r+s)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(r+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return r*s%2+r*s%3===0;case t.Patterns.PATTERN110:return(r*s%2+r*s%3)%2===0;case t.Patterns.PATTERN111:return(r*s%3+(r+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}t.applyMask=function(r,s){const d=s.size;for(let f=0;f<d;f++)for(let u=0;u<d;u++)s.isReserved(u,f)||s.xor(u,f,n(r,u,f))},t.getBestMask=function(r,s){const d=Object.keys(t.Patterns).length;let f=0,u=1/0;for(let o=0;o<d;o++){s(o),t.applyMask(o,r);const a=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(o,r),a<u&&(u=a,f=o)}return f}})(dn)),dn}var rt={},Ur;function Wr(){if(Ur)return rt;Ur=1;const t=an(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return rt.getBlocksCount=function(r,s){switch(s){case t.L:return e[(r-1)*4+0];case t.M:return e[(r-1)*4+1];case t.Q:return e[(r-1)*4+2];case t.H:return e[(r-1)*4+3];default:return}},rt.getTotalCodewordsCount=function(r,s){switch(s){case t.L:return n[(r-1)*4+0];case t.M:return n[(r-1)*4+1];case t.Q:return n[(r-1)*4+2];case t.H:return n[(r-1)*4+3];default:return}},rt}var fn={},Ie={},Gr;function Bs(){if(Gr)return Ie;Gr=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let r=0;r<255;r++)t[r]=i,e[i]=r,i<<=1,i&256&&(i^=285);for(let r=255;r<512;r++)t[r]=t[r-255]})(),Ie.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},Ie.exp=function(i){return t[i]},Ie.mul=function(i,r){return i===0||r===0?0:t[e[i]+e[r]]},Ie}var Xr;function $s(){return Xr||(Xr=1,(function(t){const e=Bs();t.mul=function(i,r){const s=new Uint8Array(i.length+r.length-1);for(let d=0;d<i.length;d++)for(let f=0;f<r.length;f++)s[d+f]^=e.mul(i[d],r[f]);return s},t.mod=function(i,r){let s=new Uint8Array(i);for(;s.length-r.length>=0;){const d=s[0];for(let u=0;u<r.length;u++)s[u]^=e.mul(r[u],d);let f=0;for(;f<s.length&&s[f]===0;)f++;s=s.slice(f)}return s},t.generateECPolynomial=function(i){let r=new Uint8Array([1]);for(let s=0;s<i;s++)r=t.mul(r,new Uint8Array([1,e.exp(s)]));return r}})(fn)),fn}var hn,Yr;function Ns(){if(Yr)return hn;Yr=1;const t=$s();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(i.length+this.degree);r.set(i);const s=t.mod(r,this.genPoly),d=this.degree-s.length;if(d>0){const f=new Uint8Array(this.degree);return f.set(s,d),f}return s},hn=e,hn}var gn={},mn={},vn={},Vr;function Kr(){return Vr||(Vr=1,vn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),vn}var J={},Jr;function Zr(){if(Jr)return J;Jr=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;J.KANJI=new RegExp(n,"g"),J.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),J.BYTE=new RegExp(i,"g"),J.NUMERIC=new RegExp(t,"g"),J.ALPHANUMERIC=new RegExp(e,"g");const r=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),d=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return J.testKanji=function(u){return r.test(u)},J.testNumeric=function(u){return s.test(u)},J.testAlphanumeric=function(u){return d.test(u)},J}var Qr;function ye(){return Qr||(Qr=1,(function(t){const e=Kr(),n=Zr();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,d){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?s.ccBits[0]:d<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function i(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(s,d){if(t.isValid(s))return s;try{return i(s)}catch{return d}}})(mn)),mn}var eo;function zs(){return eo||(eo=1,(function(t){const e=ve(),n=Wr(),i=an(),r=ye(),s=Kr(),d=7973,f=e.getBCHDigit(d);function u(c,h,g){for(let m=1;m<=40;m++)if(h<=t.getCapacity(m,g,c))return m}function o(c,h){return r.getCharCountIndicator(c,h)+4}function a(c,h){let g=0;return c.forEach(function(m){const y=o(m.mode,h);g+=y+m.getBitsLength()}),g}function l(c,h){for(let g=1;g<=40;g++)if(a(c,g)<=t.getCapacity(g,h,r.MIXED))return g}t.from=function(h,g){return s.isValid(h)?parseInt(h,10):g},t.getCapacity=function(h,g,m){if(!s.isValid(h))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=r.BYTE);const y=e.getSymbolTotalCodewords(h),v=n.getTotalCodewordsCount(h,g),p=(y-v)*8;if(m===r.MIXED)return p;const b=p-o(m,h);switch(m){case r.NUMERIC:return Math.floor(b/10*3);case r.ALPHANUMERIC:return Math.floor(b/11*2);case r.KANJI:return Math.floor(b/13);case r.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(h,g){let m;const y=i.from(g,i.M);if(Array.isArray(h)){if(h.length>1)return l(h,y);if(h.length===0)return 1;m=h[0]}else m=h;return u(m.mode,m.getLength(),y)},t.getEncodedBits=function(h){if(!s.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;e.getBCHDigit(g)-f>=0;)g^=d<<e.getBCHDigit(g)-f;return h<<12|g}})(gn)),gn}var yn={},to;function qs(){if(to)return yn;to=1;const t=ve(),e=1335,n=21522,i=t.getBCHDigit(e);return yn.getEncodedBits=function(s,d){const f=s.bit<<3|d;let u=f<<10;for(;t.getBCHDigit(u)-i>=0;)u^=e<<t.getBCHDigit(u)-i;return(f<<10|u)^n},yn}var pn={},bn,no;function js(){if(no)return bn;no=1;const t=ye();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let r,s,d;for(r=0;r+3<=this.data.length;r+=3)s=this.data.substr(r,3),d=parseInt(s,10),i.put(d,10);const f=this.data.length-r;f>0&&(s=this.data.substr(r),d=parseInt(s,10),i.put(d,f*3+1))},bn=e,bn}var wn,ro;function Hs(){if(ro)return wn;ro=1;const t=ye(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(i){this.mode=t.ALPHANUMERIC,this.data=i}return n.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let s;for(s=0;s+2<=this.data.length;s+=2){let d=e.indexOf(this.data[s])*45;d+=e.indexOf(this.data[s+1]),r.put(d,11)}this.data.length%2&&r.put(e.indexOf(this.data[s]),6)},wn=n,wn}var _n,oo;function Fs(){if(oo)return _n;oo=1;const t=ye();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let i=0,r=this.data.length;i<r;i++)n.put(this.data[i],8)},_n=e,_n}var En,io;function Us(){if(io)return En;io=1;const t=ye(),e=ve();function n(i){this.mode=t.KANJI,this.data=i}return n.getBitsLength=function(r){return r*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let r;for(r=0;r<this.data.length;r++){let s=e.toSJIS(this.data[r]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),i.put(s,13)}},En=n,En}var xn={exports:{}},ao;function Ws(){return ao||(ao=1,(function(t){var e={single_source_shortest_paths:function(n,i,r){var s={},d={};d[i]=0;var f=e.PriorityQueue.make();f.push(i,0);for(var u,o,a,l,c,h,g,m,y;!f.empty();){u=f.pop(),o=u.value,l=u.cost,c=n[o]||{};for(a in c)c.hasOwnProperty(a)&&(h=c[a],g=l+h,m=d[a],y=typeof d[a]>"u",(y||m>g)&&(d[a]=g,f.push(a,g),s[a]=o))}if(typeof r<"u"&&typeof d[r]>"u"){var v=["Could not find a path from ",i," to ",r,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,i){for(var r=[],s=i;s;)r.push(s),n[s],s=n[s];return r.reverse(),r},find_path:function(n,i,r){var s=e.single_source_shortest_paths(n,i,r);return e.extract_shortest_path_from_predecessor_list(s,r)},PriorityQueue:{make:function(n){var i=e.PriorityQueue,r={},s;n=n||{};for(s in i)i.hasOwnProperty(s)&&(r[s]=i[s]);return r.queue=[],r.sorter=n.sorter||i.default_sorter,r},default_sorter:function(n,i){return n.cost-i.cost},push:function(n,i){var r={value:n,cost:i};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(xn)),xn.exports}var so;function Gs(){return so||(so=1,(function(t){const e=ye(),n=js(),i=Hs(),r=Fs(),s=Us(),d=Zr(),f=ve(),u=Ws();function o(v){return unescape(encodeURIComponent(v)).length}function a(v,p,b){const _=[];let A;for(;(A=v.exec(b))!==null;)_.push({data:A[0],index:A.index,mode:p,length:A[0].length});return _}function l(v){const p=a(d.NUMERIC,e.NUMERIC,v),b=a(d.ALPHANUMERIC,e.ALPHANUMERIC,v);let _,A;return f.isKanjiModeEnabled()?(_=a(d.BYTE,e.BYTE,v),A=a(d.KANJI,e.KANJI,v)):(_=a(d.BYTE_KANJI,e.BYTE,v),A=[]),p.concat(b,_,A).sort(function(k,M){return k.index-M.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function c(v,p){switch(p){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return i.getBitsLength(v);case e.KANJI:return s.getBitsLength(v);case e.BYTE:return r.getBitsLength(v)}}function h(v){return v.reduce(function(p,b){const _=p.length-1>=0?p[p.length-1]:null;return _&&_.mode===b.mode?(p[p.length-1].data+=b.data,p):(p.push(b),p)},[])}function g(v){const p=[];for(let b=0;b<v.length;b++){const _=v[b];switch(_.mode){case e.NUMERIC:p.push([_,{data:_.data,mode:e.ALPHANUMERIC,length:_.length},{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.ALPHANUMERIC:p.push([_,{data:_.data,mode:e.BYTE,length:_.length}]);break;case e.KANJI:p.push([_,{data:_.data,mode:e.BYTE,length:o(_.data)}]);break;case e.BYTE:p.push([{data:_.data,mode:e.BYTE,length:o(_.data)}])}}return p}function m(v,p){const b={},_={start:{}};let A=["start"];for(let E=0;E<v.length;E++){const k=v[E],M=[];for(let w=0;w<k.length;w++){const x=k[w],S=""+E+w;M.push(S),b[S]={node:x,lastCount:0},_[S]={};for(let O=0;O<A.length;O++){const C=A[O];b[C]&&b[C].node.mode===x.mode?(_[C][S]=c(b[C].lastCount+x.length,x.mode)-c(b[C].lastCount,x.mode),b[C].lastCount+=x.length):(b[C]&&(b[C].lastCount=x.length),_[C][S]=c(x.length,x.mode)+4+e.getCharCountIndicator(x.mode,p))}}A=M}for(let E=0;E<A.length;E++)_[A[E]].end=0;return{map:_,table:b}}function y(v,p){let b;const _=e.getBestModeForData(v);if(b=e.from(p,_),b!==e.BYTE&&b.bit<_.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(b)+`.
 Suggested mode is: `+e.toString(_));switch(b===e.KANJI&&!f.isKanjiModeEnabled()&&(b=e.BYTE),b){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new i(v);case e.KANJI:return new s(v);case e.BYTE:return new r(v)}}t.fromArray=function(p){return p.reduce(function(b,_){return typeof _=="string"?b.push(y(_,null)):_.data&&b.push(y(_.data,_.mode)),b},[])},t.fromString=function(p,b){const _=l(p,f.isKanjiModeEnabled()),A=g(_),E=m(A,b),k=u.find_path(E.map,"start","end"),M=[];for(let w=1;w<k.length-1;w++)M.push(E.table[k[w]].node);return t.fromArray(h(M))},t.rawSplit=function(p){return t.fromArray(l(p,f.isKanjiModeEnabled()))}})(pn)),pn}var lo;function Xs(){if(lo)return rn;lo=1;const t=ve(),e=an(),n=Ps(),i=Rs(),r=Ls(),s=Ds(),d=Is(),f=Wr(),u=Ns(),o=zs(),a=qs(),l=ye(),c=Gs();function h(E,k){const M=E.size,w=s.getPositions(k);for(let x=0;x<w.length;x++){const S=w[x][0],O=w[x][1];for(let C=-1;C<=7;C++)if(!(S+C<=-1||M<=S+C))for(let T=-1;T<=7;T++)O+T<=-1||M<=O+T||(C>=0&&C<=6&&(T===0||T===6)||T>=0&&T<=6&&(C===0||C===6)||C>=2&&C<=4&&T>=2&&T<=4?E.set(S+C,O+T,!0,!0):E.set(S+C,O+T,!1,!0))}}function g(E){const k=E.size;for(let M=8;M<k-8;M++){const w=M%2===0;E.set(M,6,w,!0),E.set(6,M,w,!0)}}function m(E,k){const M=r.getPositions(k);for(let w=0;w<M.length;w++){const x=M[w][0],S=M[w][1];for(let O=-2;O<=2;O++)for(let C=-2;C<=2;C++)O===-2||O===2||C===-2||C===2||O===0&&C===0?E.set(x+O,S+C,!0,!0):E.set(x+O,S+C,!1,!0)}}function y(E,k){const M=E.size,w=o.getEncodedBits(k);let x,S,O;for(let C=0;C<18;C++)x=Math.floor(C/3),S=C%3+M-8-3,O=(w>>C&1)===1,E.set(x,S,O,!0),E.set(S,x,O,!0)}function v(E,k,M){const w=E.size,x=a.getEncodedBits(k,M);let S,O;for(S=0;S<15;S++)O=(x>>S&1)===1,S<6?E.set(S,8,O,!0):S<8?E.set(S+1,8,O,!0):E.set(w-15+S,8,O,!0),S<8?E.set(8,w-S-1,O,!0):S<9?E.set(8,15-S-1+1,O,!0):E.set(8,15-S-1,O,!0);E.set(w-8,8,1,!0)}function p(E,k){const M=E.size;let w=-1,x=M-1,S=7,O=0;for(let C=M-1;C>0;C-=2)for(C===6&&C--;;){for(let T=0;T<2;T++)if(!E.isReserved(x,C-T)){let te=!1;O<k.length&&(te=(k[O]>>>S&1)===1),E.set(x,C-T,te),S--,S===-1&&(O++,S=7)}if(x+=w,x<0||M<=x){x-=w,w=-w;break}}}function b(E,k,M){const w=new n;M.forEach(function(T){w.put(T.mode.bit,4),w.put(T.getLength(),l.getCharCountIndicator(T.mode,E)),T.write(w)});const x=t.getSymbolTotalCodewords(E),S=f.getTotalCodewordsCount(E,k),O=(x-S)*8;for(w.getLengthInBits()+4<=O&&w.put(0,4);w.getLengthInBits()%8!==0;)w.putBit(0);const C=(O-w.getLengthInBits())/8;for(let T=0;T<C;T++)w.put(T%2?17:236,8);return _(w,E,k)}function _(E,k,M){const w=t.getSymbolTotalCodewords(k),x=f.getTotalCodewordsCount(k,M),S=w-x,O=f.getBlocksCount(k,M),C=w%O,T=O-C,te=Math.floor(w/O),_e=Math.floor(S/O),ru=_e+1,pa=te-_e,ou=new u(pa);let qn=0;const Xt=new Array(O),ba=new Array(O);let jn=0;const iu=new Uint8Array(E.buffer);for(let Ae=0;Ae<O;Ae++){const Fn=Ae<T?_e:ru;Xt[Ae]=iu.slice(qn,qn+Fn),ba[Ae]=ou.encode(Xt[Ae]),qn+=Fn,jn=Math.max(jn,Fn)}const Hn=new Uint8Array(w);let wa=0,ae,se;for(ae=0;ae<jn;ae++)for(se=0;se<O;se++)ae<Xt[se].length&&(Hn[wa++]=Xt[se][ae]);for(ae=0;ae<pa;ae++)for(se=0;se<O;se++)Hn[wa++]=ba[se][ae];return Hn}function A(E,k,M,w){let x;if(Array.isArray(E))x=c.fromArray(E);else if(typeof E=="string"){let te=k;if(!te){const _e=c.rawSplit(E);te=o.getBestVersionForData(_e,M)}x=c.fromString(E,te||40)}else throw new Error("Invalid data");const S=o.getBestVersionForData(x,M);if(!S)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=S;else if(k<S)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+S+`.
`);const O=b(k,M,x),C=t.getSymbolSize(k),T=new i(C);return h(T,k),g(T),m(T,k),v(T,M,0),k>=7&&y(T,k),p(T,O),isNaN(w)&&(w=d.getBestMask(T,v.bind(null,T,M))),d.applyMask(w,T),v(T,M,w),{modules:T,version:k,errorCorrectionLevel:M,maskPattern:w,segments:x}}return rn.create=function(k,M){if(typeof k>"u"||k==="")throw new Error("No input text");let w=e.M,x,S;return typeof M<"u"&&(w=e.from(M.errorCorrectionLevel,e.M),x=o.from(M.version),S=d.from(M.maskPattern),M.toSJISFunc&&t.setToSJISFunction(M.toSJISFunc)),A(k,x,w,S)},rn}var Sn={},Cn={},co;function uo(){return co||(co=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let i=n.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+n);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const r=parseInt(i.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+i.slice(0,6).join("")}}t.getOptions=function(i){i||(i={}),i.color||(i.color={});const r=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,d=i.scale||4;return{width:s,scale:s?4:d,margin:r,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},t.getScale=function(i,r){return r.width&&r.width>=i+r.margin*2?r.width/(i+r.margin*2):r.scale},t.getImageWidth=function(i,r){const s=t.getScale(i,r);return Math.floor((i+r.margin*2)*s)},t.qrToImageData=function(i,r,s){const d=r.modules.size,f=r.modules.data,u=t.getScale(d,s),o=Math.floor((d+s.margin*2)*u),a=s.margin*u,l=[s.color.light,s.color.dark];for(let c=0;c<o;c++)for(let h=0;h<o;h++){let g=(c*o+h)*4,m=s.color.light;if(c>=a&&h>=a&&c<o-a&&h<o-a){const y=Math.floor((c-a)/u),v=Math.floor((h-a)/u);m=l[f[y*d+v]?1:0]}i[g++]=m.r,i[g++]=m.g,i[g++]=m.b,i[g]=m.a}}})(Cn)),Cn}var fo;function Ys(){return fo||(fo=1,(function(t){const e=uo();function n(r,s,d){r.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=d,s.width=d,s.style.height=d+"px",s.style.width=d+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,d,f){let u=f,o=d;typeof u>"u"&&(!d||!d.getContext)&&(u=d,d=void 0),d||(o=i()),u=e.getOptions(u);const a=e.getImageWidth(s.modules.size,u),l=o.getContext("2d"),c=l.createImageData(a,a);return e.qrToImageData(c.data,s,u),n(l,o,a),l.putImageData(c,0,0),o},t.renderToDataURL=function(s,d,f){let u=f;typeof u>"u"&&(!d||!d.getContext)&&(u=d,d=void 0),u||(u={});const o=t.render(s,d,u),a=u.type||"image/png",l=u.rendererOpts||{};return o.toDataURL(a,l.quality)}})(Sn)),Sn}var On={},ho;function Vs(){if(ho)return On;ho=1;const t=uo();function e(r,s){const d=r.a/255,f=s+'="'+r.hex+'"';return d<1?f+" "+s+'-opacity="'+d.toFixed(2).slice(1)+'"':f}function n(r,s,d){let f=r+s;return typeof d<"u"&&(f+=" "+d),f}function i(r,s,d){let f="",u=0,o=!1,a=0;for(let l=0;l<r.length;l++){const c=Math.floor(l%s),h=Math.floor(l/s);!c&&!o&&(o=!0),r[l]?(a++,l>0&&c>0&&r[l-1]||(f+=o?n("M",c+d,.5+h+d):n("m",u,0),u=0,o=!1),c+1<s&&r[l+1]||(f+=n("h",a),a=0)):u++}return f}return On.render=function(s,d,f){const u=t.getOptions(d),o=s.modules.size,a=s.modules.data,l=o+u.margin*2,c=u.color.light.a?"<path "+e(u.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",h="<path "+e(u.color.dark,"stroke")+' d="'+i(a,o,u.margin)+'"/>',g='viewBox="0 0 '+l+" "+l+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(u.width?'width="'+u.width+'" height="'+u.width+'" ':"")+g+' shape-rendering="crispEdges">'+c+h+`</svg>
`;return typeof f=="function"&&f(null,y),y},On}var go;function Ks(){if(go)return Oe;go=1;const t=As(),e=Xs(),n=Ys(),i=Vs();function r(s,d,f,u,o){const a=[].slice.call(arguments,1),l=a.length,c=typeof a[l-1]=="function";if(!c&&!t())throw new Error("Callback required as last argument");if(c){if(l<2)throw new Error("Too few arguments provided");l===2?(o=f,f=d,d=u=void 0):l===3&&(d.getContext&&typeof o>"u"?(o=u,u=void 0):(o=u,u=f,f=d,d=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(f=d,d=u=void 0):l===2&&!d.getContext&&(u=f,f=d,d=void 0),new Promise(function(h,g){try{const m=e.create(f,u);h(s(m,d,u))}catch(m){g(m)}})}try{const h=e.create(f,u);o(null,s(h,d,u))}catch(h){o(h)}}return Oe.create=e.create,Oe.toCanvas=r.bind(null,n.render),Oe.toDataURL=r.bind(null,n.renderToDataURL),Oe.toString=r.bind(null,function(s,d,f){return i.render(s,f)}),Oe}var Js=Ks();const kn=Ir(Js);async function Zs(t,e,n={}){const i=document.getElementById(t);if(!i)return;const r=i.querySelector("canvas.bw-qr-canvas");if(!r)return;const s=i.querySelector(".bw-qr-loading");s&&(s.style.display="none"),r.style.display="";try{await kn.toCanvas(r,e,{width:n.width||200,margin:n.margin||2,color:{dark:n.color?.dark||"#000000",light:n.color?.light||"#ffffff"},errorCorrectionLevel:n.errorCorrectionLevel||"M"})}catch(d){console.error("QR Code generation failed:",d)}}async function Qs(t,e={}){try{return await kn.toDataURL(t,{width:e.width||200,margin:e.margin||2,color:{dark:e.color?.dark||"#000000",light:e.color?.light||"#ffffff"},errorCorrectionLevel:e.errorCorrectionLevel||"M"})}catch(n){return console.error("QR Code generation failed:",n),""}}async function el(t,e,n={}){const i=document.getElementById(t);if(i)try{const r=await kn.toString(e,{type:"svg",width:n.width||200,margin:n.margin||2,color:{dark:n.color?.dark||"#000000",light:n.color?.light||"#ffffff"},errorCorrectionLevel:n.errorCorrectionLevel||"M"}),s=i.querySelector(".bw-qr-svg");s&&(s.innerHTML=r)}catch(r){console.error("QR Code generation failed:",r)}}const mo=Object.freeze(Object.defineProperty({__proto__:null,generateSVG:el,generateToCanvas:Zs,generateToDataURL:Qs},Symbol.toStringTag,{value:"Module"})),Mn=new Map;let fe=null,vo=0;const tl=16;function nl(t,e,n,i,r=5){const s=document.getElementById(t);if(!s)return;const d=s.querySelector(".bw-brush-selection"),f=s.querySelector(".bw-brush-handle-left"),u=s.querySelector(".bw-brush-handle-right"),o=s.querySelector(".bw-brush-track");if(!d||!f||!u||!o)return;d.style.left=`${n}%`,d.style.width=`${i-n}%`;const a={element:s,brush:d,leftHandle:f,rightHandle:u,track:o,minWidthPercent:r,dotNetRef:e};Mn.set(t,a),Eo(a,n,i-n),f.addEventListener("mousedown",l=>yo(l,a,"resize-left")),f.addEventListener("touchstart",l=>po(l,a,"resize-left"),{passive:!1}),u.addEventListener("mousedown",l=>yo(l,a,"resize-right")),u.addEventListener("touchstart",l=>po(l,a,"resize-right"),{passive:!1}),d.addEventListener("mousedown",l=>rl(l,a)),d.addEventListener("touchstart",l=>ol(l,a),{passive:!1})}function rl(t,e){const n=t.target;n.closest(".bw-brush-handle-left")||n.closest(".bw-brush-handle-right")||(t.preventDefault(),t.stopPropagation(),ot(t.clientX,e,"drag"))}function ol(t,e){if(t.touches.length!==1)return;const n=t.target;n.closest(".bw-brush-handle-left")||n.closest(".bw-brush-handle-right")||(t.preventDefault(),t.stopPropagation(),ot(t.touches[0].clientX,e,"drag"))}function yo(t,e,n){t.preventDefault(),t.stopPropagation(),ot(t.clientX,e,n)}function po(t,e,n){t.touches.length===1&&(t.preventDefault(),t.stopPropagation(),ot(t.touches[0].clientX,e,n))}function ot(t,e,n){const i=parseFloat(e.brush.style.left)||0,r=parseFloat(e.brush.style.width)||50;fe={instance:e,mode:n,initialMouseX:t,initialLeft:i,initialWidth:r,trackWidth:e.track.getBoundingClientRect().width},document.body.style.userSelect="none",document.body.style.cursor=n==="drag"?"grabbing":"ew-resize",e.brush.classList.add("bw-brush-active"),e.dotNetRef.invokeMethodAsync("HandleDragStart"),document.addEventListener("mousemove",bo),document.addEventListener("mouseup",xo),document.addEventListener("touchmove",wo,{passive:!1}),document.addEventListener("touchend",So)}function bo(t){fe&&(t.preventDefault(),_o(t.clientX))}function wo(t){!fe||t.touches.length!==1||(t.preventDefault(),_o(t.touches[0].clientX))}function _o(t){if(!fe)return;const{instance:e,mode:n,initialMouseX:i,initialLeft:r,initialWidth:s,trackWidth:d}=fe,u=(t-i)/d*100;let o=r,a=s;if(n==="drag")o=r+u,a=s,o<0&&(o=0),o+a>100&&(o=100-a);else if(n==="resize-left"){const c=r+s;o=r+u,a=c-o,a<e.minWidthPercent&&(a=e.minWidthPercent,o=c-e.minWidthPercent),o<0&&(o=0,a=c)}else n==="resize-right"&&(o=r,a=s+u,a<e.minWidthPercent&&(a=e.minWidthPercent),o+a>100&&(a=100-o));Eo(e,o,a);const l=Date.now();l-vo>=tl&&(vo=l,Oo(e))}function Eo(t,e,n){t.brush.style.left=`${e}%`,t.brush.style.width=`${n}%`;const i=t.track.querySelector(".absolute.inset-y-0.left-0"),r=t.track.querySelector(".absolute.inset-y-0.right-0");i&&(i.style.width=`${e}%`),r&&(r.style.width=`${100-(e+n)}%`)}function xo(){Co()}function So(){Co()}function Co(){if(!fe)return;const{instance:t}=fe;document.body.style.userSelect="",document.body.style.cursor="",t.brush.classList.remove("bw-brush-active"),document.removeEventListener("mousemove",bo),document.removeEventListener("mouseup",xo),document.removeEventListener("touchmove",wo),document.removeEventListener("touchend",So),Oo(t),t.dotNetRef.invokeMethodAsync("HandleDragEnd"),fe=null}async function Oo(t){const e=parseFloat(t.brush.style.left)||0,n=parseFloat(t.brush.style.width)||50,i=e+n;try{await t.dotNetRef.invokeMethodAsync("HandleBrushChanged",e,i)}catch(r){console.error("Error calling HandleBrushChanged:",r)}}function ko(t,e,n){const i=Mn.get(t);i&&(i.brush.style.left=`${e}%`,i.brush.style.width=`${n-e}%`)}const il=ko;function al(t){Mn.delete(t)}const Mo=Object.freeze(Object.defineProperty({__proto__:null,dispose:al,initialize:nl,updateBrushPosition:ko,updatePosition:il},Symbol.toStringTag,{value:"Module"})),To=new Map;let oe=null;function sl(t,e,n,i,r,s,d){const f=document.getElementById(t);if(!f)return;const u=f.querySelector(".bw-range-track"),o=f.querySelector(".bw-range-thumb-start"),a=f.querySelector(".bw-range-thumb-end"),l=u.querySelector(".bw-active-range");if(!u||!o||!a||!l)return;const c=o.querySelector(".bw-tooltip-start"),h=a.querySelector(".bw-tooltip-end"),g={element:f,track:u,startThumb:o,endThumb:a,activeRange:l,startTooltip:c,endTooltip:h,min:n,max:i,step:r,dotNetRef:e};To.set(t,g),o.addEventListener("mousedown",m=>Ao(m,g,"start")),o.addEventListener("touchstart",m=>Po(m,g,"start"),{passive:!1}),a.addEventListener("mousedown",m=>Ao(m,g,"end")),a.addEventListener("touchstart",m=>Po(m,g,"end"),{passive:!1}),u.addEventListener("mousedown",m=>ll(m,g))}function Ao(t,e,n){t.preventDefault(),t.stopPropagation();const i=n==="start"?e.startTooltip:e.endTooltip;i&&i.classList.remove("opacity-0");const r=n==="start"?e.startThumb:e.endThumb,s=e.track.getBoundingClientRect(),d=r.getBoundingClientRect(),u=(d.left+d.width/2-s.left)/s.width*100;oe={instance:e,thumb:n,initialMouseX:t.clientX,initialPercent:u,trackWidth:s.width,trackLeft:s.left},document.body.style.userSelect="none",document.body.style.cursor="grabbing",document.addEventListener("mousemove",Ro),document.addEventListener("mouseup",Bo)}function Po(t,e,n){if(t.touches.length!==1)return;t.preventDefault(),t.stopPropagation();const i=n==="start"?e.startTooltip:e.endTooltip;i&&i.classList.remove("opacity-0");const r=n==="start"?e.startThumb:e.endThumb,s=e.track.getBoundingClientRect(),d=r.getBoundingClientRect(),u=(d.left+d.width/2-s.left)/s.width*100;oe={instance:e,thumb:n,initialMouseX:t.touches[0].clientX,initialPercent:u,trackWidth:s.width,trackLeft:s.left},document.addEventListener("touchmove",Lo,{passive:!1}),document.addEventListener("touchend",$o)}function ll(t,e){const n=t.target;if(n.closest(".bw-range-thumb-start")||n.closest(".bw-range-thumb-end"))return;const i=e.track.getBoundingClientRect(),r=(t.clientX-i.left)/i.width*100,s=e.startThumb.getBoundingClientRect(),d=e.endThumb.getBoundingClientRect(),f=(s.left+s.width/2-i.left)/i.width*100,u=(d.left+d.width/2-i.left)/i.width*100,o=Math.abs(r-f),a=Math.abs(r-u),l=o<a?"start":"end",c=Math.max(0,Math.min(100,r));Io(e,l,c),zo(e,l,c)}function Ro(t){oe&&(t.preventDefault(),Do(t.clientX))}function Lo(t){!oe||t.touches.length!==1||(t.preventDefault(),Do(t.touches[0].clientX))}function Do(t){if(!oe)return;const{instance:e,thumb:n,trackWidth:i,trackLeft:r}=oe;let s=(t-r)/i*100;s=Math.max(0,Math.min(100,s)),Io(e,n,s),zo(e,n,s)}function Io(t,e,n){let i,r;if(e==="start"){const d=parseFloat(t.endThumb.style.left)||100;n>d&&(n=d),i=n,r=d,t.startThumb.style.left=`${n}%`}else{const d=parseFloat(t.startThumb.style.left)||0;n<d&&(n=d),i=d,r=n,t.endThumb.style.left=`${n}%`}t.activeRange.style.left=`${i}%`,t.activeRange.style.width=`${r-i}%`;const s=e==="start"?t.startTooltip:t.endTooltip;if(s){const d=t.min+(t.max-t.min)*(n/100),f=Math.round(d/t.step)*t.step,u=Number.isInteger(f)?f.toString():f.toFixed(2);s.textContent=u}}function Bo(){No()}function $o(){No()}function No(){if(!oe)return;const{instance:t,thumb:e}=oe,n=e==="start"?t.startTooltip:t.endTooltip;n&&n.classList.add("opacity-0"),document.body.style.userSelect="",document.body.style.cursor="",document.removeEventListener("mousemove",Ro),document.removeEventListener("mouseup",Bo),document.removeEventListener("touchmove",Lo),document.removeEventListener("touchend",$o),t.dotNetRef.invokeMethodAsync("HandleDragEnd"),oe=null}async function zo(t,e,n){try{await t.dotNetRef.invokeMethodAsync("HandleThumbChanged",e,n)}catch(i){console.error("Error calling HandleThumbChanged:",i)}}function cl(t){To.delete(t)}const qo=Object.freeze(Object.defineProperty({__proto__:null,dispose:cl,initialize:sl},Symbol.toStringTag,{value:"Module"}));var it=class{x;y;pressure;time;constructor(t,e,n,i){if(isNaN(t)||isNaN(e))throw new Error(`Point is invalid: (${t}, ${e})`);this.x=+t,this.y=+e,this.pressure=n||0,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}},ul=class _a{constructor(e,n,i,r,s,d){this.startPoint=e,this.control2=n,this.control1=i,this.endPoint=r,this.startWidth=s,this.endWidth=d}static fromPoints(e,n){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new _a(e[1],i,r,e[2],n.start,n.end)}static calculateControlPoints(e,n,i){const r=e.x-n.x,s=e.y-n.y,d=n.x-i.x,f=n.y-i.y,u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},o={x:(n.x+i.x)/2,y:(n.y+i.y)/2},a=Math.sqrt(r*r+s*s),l=Math.sqrt(d*d+f*f),c=u.x-o.x,h=u.y-o.y,g=a+l==0?0:l/(a+l),m={x:o.x+c*g,y:o.y+h*g},y=n.x-m.x,v=n.y-m.y;return{c1:new it(u.x+y,u.y+v),c2:new it(o.x+y,o.y+v)}}length(){let n=0,i,r;for(let s=0;s<=10;s+=1){const d=s/10,f=this.point(d,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),u=this.point(d,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const o=f-i,a=u-r;n+=Math.sqrt(o*o+a*a)}i=f,r=u}return n}point(e,n,i,r,s){return n*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*r*(1-e)*e*e+s*e*e*e}},dl=class{_et;constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,e,n){this._et.addEventListener(t,e,n)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,e,n){this._et.removeEventListener(t,e,n)}};function fl(t,e=250){let n=0,i=null,r,s,d;const f=()=>{n=Date.now(),i=null,r=t.apply(s,d),i||(s=null,d=[])};return function(...o){const a=Date.now(),l=e-(a-n);return s=this,d=o,l<=0||l>e?(i&&(clearTimeout(i),i=null),n=a,r=t.apply(s,d),i||(s=null,d=[])):i||(i=window.setTimeout(f,l)),r}}var hl=class Un extends dl{constructor(e,n={}){super(),this.canvas=e,this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle=n.throttle??16,this.minDistance=n.minDistance??5,this.dotSize=n.dotSize||0,this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=n.compositeOperation||"source-over",this.canvasContextOptions=n.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?fl(Un.prototype._strokeUpdate,this.throttle):Un.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}dotSize;minWidth;maxWidth;penColor;minDistance;velocityFilterWeight;compositeOperation;backgroundColor;throttle;canvasContextOptions;_ctx;_drawingStroke=!1;_isEmpty=!0;_dataUrl;_dataUrlOptions;_lastPoints=[];_data=[];_lastVelocity=0;_lastWidth=0;_strokeMoveUpdate;_strokePointerId;clear(){const{_ctx:e,canvas:n}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,n.width,n.height),e.fillRect(0,0,n.width,n.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const e=this._data,n=this._dataUrl,i=this._dataUrlOptions;this.clear(),n&&this.fromDataURL(n,i),this.fromData(e,{clear:!1})}fromDataURL(e,n={}){return new Promise((i,r)=>{const s=new Image,d=n.ratio||window.devicePixelRatio||1,f=n.width||this.canvas.width/d,u=n.height||this.canvas.height/d,o=n.xOffset||0,a=n.yOffset||0;this._reset(this._getPointGroupOptions()),s.onload=()=>{this._ctx.drawImage(s,o,a,f,u),i()},s.onerror=l=>{r(l)},s.crossOrigin="anonymous",s.src=e,this._isEmpty=!1,this._dataUrl=e,this._dataUrlOptions={...n}})}toDataURL(e="image/png",n){return e==="image/svg+xml"?(typeof n!="object"&&(n=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(n))}`):(typeof n!="number"&&(n=void 0),this.canvas.toDataURL(e,n))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const e=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){const{removeEventListener:e}=this._getListenerFunctions();e("pointermove",this._handlePointerMove),e("pointerup",this._handlePointerUp),e("pointercancel",this._handlePointerCancel),e("mousemove",this._handleMouseMove),e("mouseup",this._handleMouseUp),e("touchmove",this._handleTouchMove),e("touchend",this._handleTouchEnd),e("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(e,{clear:n=!0}={}){n&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_isLeftButtonPressed(e,n){return n?e.buttons===1:(e.buttons&1)===1}_pointerEventToSignatureEvent(e){return{event:e,type:e.type,x:e.clientX,y:e.clientY,pressure:"pressure"in e?e.pressure:0}}_touchEventToSignatureEvent(e){const n=e.changedTouches[0];return{event:e,type:e.type,x:n.clientX,y:n.clientY,pressure:n.force}}_handleMouseDown(e){!this._isLeftButtonPressed(e,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(e))}_handleMouseMove(e){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}_handleMouseUp(e){this._isLeftButtonPressed(e)||this._strokeEnd(this._pointerEventToSignatureEvent(e))}_handleTouchStart(e){e.targetTouches.length!==1||this._drawingStroke||(e.cancelable&&e.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(e)))}_handleTouchMove(e){if(e.targetTouches.length===1){if(e.cancelable&&e.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(e))}}_handleTouchEnd(e){e.targetTouches.length===0&&(e.cancelable&&e.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(e)))}_handlePointerCancel(e){this._allowPointerId(e)&&(e.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(e),!1))}_handleTouchCancel(e){e.cancelable&&e.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(e),!1)}_getPointerId(e){return e.persistentDeviceId||e.pointerId}_allowPointerId(e,n=!1){return typeof this._strokePointerId>"u"?n:this._getPointerId(e)===this._strokePointerId}_handlePointerDown(e){this._drawingStroke||!this._isLeftButtonPressed(e)||!this._allowPointerId(e,!0)||(this._strokePointerId=this._getPointerId(e),e.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(e)))}_handlePointerMove(e){if(this._allowPointerId(e)){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}e.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}}_handlePointerUp(e){this._isLeftButtonPressed(e)||!this._allowPointerId(e)||(e.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(e)))}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;const{addEventListener:i}=this._getListenerFunctions();switch(e.event.type){case"mousedown":i("mousemove",this._handleMouseMove,{passive:!1}),i("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":i("touchmove",this._handleTouchMove,{passive:!1}),i("touchend",this._handleTouchEnd,{passive:!1}),i("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":i("pointermove",this._handlePointerMove,{passive:!1}),i("pointerup",this._handlePointerUp,{passive:!1}),i("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;const r=this._getPointGroupOptions(),s={...r,points:[]};this._data.push(s),this._reset(r),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const n=this._createPoint(e.x,e.y,e.pressure),i=this._data[this._data.length-1],r=i.points,s=r.length>0&&r[r.length-1],d=s?n.distanceTo(s)<=this.minDistance:!1,f=this._getPointGroupOptions(i);if(!s||!(s&&d)){const u=this._addPoint(n,f);s?u&&this._drawCurve(u,f):this._drawDot(n,f),r.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e,n=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(n&&this._strokeUpdate(e),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,n,i){const r=this.canvas.getBoundingClientRect();return new it(e-r.left,n-r.top,i,new Date().getTime())}_addPoint(e,n){const{_lastPoints:i}=this;if(i.push(e),i.length>2){i.length===3&&i.unshift(i[0]);const r=this._calculateCurveWidths(i[1],i[2],n),s=ul.fromPoints(i,r);return i.shift(),s}return null}_calculateCurveWidths(e,n,i){const r=i.velocityFilterWeight*n.velocityFrom(e)+(1-i.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(r,i),d={end:s,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=s,d}_strokeWidth(e,n){return Math.max(n.maxWidth/(e+1),n.minWidth)}_drawCurveSegment(e,n,i){const r=this._ctx;r.moveTo(e,n),r.arc(e,n,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,n){const i=this._ctx,r=e.endWidth-e.startWidth,s=Math.ceil(e.length())*2;i.beginPath(),i.fillStyle=n.penColor;for(let d=0;d<s;d+=1){const f=d/s,u=f*f,o=u*f,a=1-f,l=a*a,c=l*a;let h=c*e.startPoint.x;h+=3*l*f*e.control1.x,h+=3*a*u*e.control2.x,h+=o*e.endPoint.x;let g=c*e.startPoint.y;g+=3*l*f*e.control1.y,g+=3*a*u*e.control2.y,g+=o*e.endPoint.y;const m=Math.min(e.startWidth+o*r,n.maxWidth);this._drawCurveSegment(h,g,m)}i.closePath(),i.fill()}_drawDot(e,n){const i=this._ctx,r=n.dotSize>0?n.dotSize:(n.minWidth+n.maxWidth)/2;i.beginPath(),this._drawCurveSegment(e.x,e.y,r),i.closePath(),i.fillStyle=n.penColor,i.fill()}_fromData(e,n,i){for(const r of e){const{points:s}=r,d=this._getPointGroupOptions(r);if(s.length>1)for(let f=0;f<s.length;f+=1){const u=s[f],o=new it(u.x,u.y,u.pressure,u.time);f===0&&this._reset(d);const a=this._addPoint(o,d);a&&n(a,d)}else this._reset(d),i(s[0],d)}}toSVG({includeBackgroundColor:e=!1,includeDataUrl:n=!1}={}){const i=this._data,r=Math.max(window.devicePixelRatio||1,1),s=0,d=0,f=this.canvas.width/r,u=this.canvas.height/r,o=document.createElementNS("http://www.w3.org/2000/svg","svg");if(o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("viewBox",`${s} ${d} ${f} ${u}`),o.setAttribute("width",f.toString()),o.setAttribute("height",u.toString()),e&&this.backgroundColor){const a=document.createElement("rect");a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("fill",this.backgroundColor),o.appendChild(a)}if(n&&this._dataUrl){const a=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,l=this._dataUrlOptions?.width||this.canvas.width/a,c=this._dataUrlOptions?.height||this.canvas.height/a,h=this._dataUrlOptions?.xOffset||0,g=this._dataUrlOptions?.yOffset||0,m=document.createElement("image");m.setAttribute("x",h.toString()),m.setAttribute("y",g.toString()),m.setAttribute("width",l.toString()),m.setAttribute("height",c.toString()),m.setAttribute("preserveAspectRatio","none"),m.setAttribute("href",this._dataUrl),o.appendChild(m)}return this._fromData(i,(a,{penColor:l})=>{const c=document.createElement("path");if(!isNaN(a.control1.x)&&!isNaN(a.control1.y)&&!isNaN(a.control2.x)&&!isNaN(a.control2.y)){const h=`M ${a.startPoint.x.toFixed(3)},${a.startPoint.y.toFixed(3)} C ${a.control1.x.toFixed(3)},${a.control1.y.toFixed(3)} ${a.control2.x.toFixed(3)},${a.control2.y.toFixed(3)} ${a.endPoint.x.toFixed(3)},${a.endPoint.y.toFixed(3)}`;c.setAttribute("d",h),c.setAttribute("stroke-width",(a.endWidth*2.25).toFixed(3)),c.setAttribute("stroke",l),c.setAttribute("fill","none"),c.setAttribute("stroke-linecap","round"),o.appendChild(c)}},(a,{penColor:l,dotSize:c,minWidth:h,maxWidth:g})=>{const m=document.createElement("circle"),y=c>0?c:(h+g)/2;m.setAttribute("r",y.toString()),m.setAttribute("cx",a.x.toString()),m.setAttribute("cy",a.y.toString()),m.setAttribute("fill",l),o.appendChild(m)}),o.outerHTML}};const Z=new Map;function gl(t,e,n){const i=`sig-${crypto.randomUUID()}`,r=()=>{const f=Math.max(window.devicePixelRatio||1,1),u=t.getBoundingClientRect();t.width=u.width*f,t.height=u.height*f;const o=t.getContext("2d");o&&o.scale(f,f)};r();const s=new hl(t,{penColor:e.penColor||"#000000",backgroundColor:e.backgroundColor||"#ffffff",minWidth:e.minWidth||.5,maxWidth:e.maxWidth||2.5});e.readOnly&&s.off(),e.initialData&&s.fromDataURL(e.initialData),s.addEventListener("endStroke",()=>{n.invokeMethodAsync("HandleEndStroke")});const d=new ResizeObserver(()=>{const f=s.toData();r(),s.clear(),f.length>0&&s.fromData(f)});return d.observe(t.parentElement||t),Z.set(i,{signaturePad:s,canvas:t,netRef:n,resizeObserver:d}),i}function ml(t){const e=Z.get(t);e&&e.signaturePad.clear()}function vl(t){const e=Z.get(t);if(e){const n=e.signaturePad.toData();n.length>0&&(n.pop(),e.signaturePad.fromData(n))}}function yl(t,e="image/png"){const n=Z.get(t);return n?n.signaturePad.toDataURL(e):""}function pl(t){const e=Z.get(t);return e?e.signaturePad.toSVG():""}function bl(t){const e=Z.get(t);return e?e.signaturePad.isEmpty():!0}function wl(t,e){const n=Z.get(t);n&&n.signaturePad.fromDataURL(e)}function _l(t,e){const n=Z.get(t);n&&(e?n.signaturePad.off():n.signaturePad.on())}function El(t){const e=Z.get(t);e&&(e.resizeObserver.disconnect(),e.signaturePad.off(),Z.delete(t))}const jo=Object.freeze(Object.defineProperty({__proto__:null,clear:ml,dispose:El,fromDataURL:wl,init:gl,isEmpty:bl,setReadOnly:_l,toDataURL:yl,toSVG:pl,undo:vl},Symbol.toStringTag,{value:"Module"}));var at={},Be={},st={},Ho;function z(){if(Ho)return st;Ho=1,Object.defineProperty(st,"__esModule",{value:!0});function t(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function n(i,r){t(this,n),this.data=i,this.text=r.text||i,this.options=r};return st.default=e,st}var Fo;function xl(){if(Fo)return Be;Fo=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.CODE39=void 0;var t=(function(){function m(y,v){for(var p=0;p<v.length;p++){var b=v[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,v,p){return v&&m(y.prototype,v),p&&m(y,p),y}})(),e=z(),n=i(e);function i(m){return m&&m.__esModule?m:{default:m}}function r(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function s(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function d(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var f=(function(m){d(y,m);function y(v,p){return r(this,y),v=v.toUpperCase(),p.mod43&&(v+=c(g(v))),s(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,v,p))}return t(y,[{key:"encode",value:function(){for(var p=a("*"),b=0;b<this.data.length;b++)p+=a(this.data[b])+"0";return p+=a("*"),{data:p,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),y})(n.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],o=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function a(m){return l(h(m))}function l(m){return o[m].toString(2)}function c(m){return u[m]}function h(m){return u.indexOf(m)}function g(m){for(var y=0,v=0;v<m.length;v++)y+=h(m[v]);return y=y%43,y}return Be.CODE39=f,Be}var X={},lt={},ct={},L={},Uo;function $e(){if(Uo)return L;Uo=1,Object.defineProperty(L,"__esModule",{value:!0});var t;function e(u,o,a){return o in u?Object.defineProperty(u,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[o]=a,u}var n=L.SET_A=0,i=L.SET_B=1,r=L.SET_C=2;L.SHIFT=98;var s=L.START_A=103,d=L.START_B=104,f=L.START_C=105;return L.MODULO=103,L.STOP=106,L.FNC1=207,L.SET_BY_CODE=(t={},e(t,s,n),e(t,d,i),e(t,f,r),t),L.SWAP={101:n,100:i,99:r},L.A_START_CHAR="Ð",L.B_START_CHAR="Ñ",L.C_START_CHAR="Ò",L.A_CHARS="[\0-_È-Ï]",L.B_CHARS="[ -È-Ï]",L.C_CHARS="(Ï*[0-9]{2}Ï*)",L.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],L}var Wo;function ut(){if(Wo)return ct;Wo=1,Object.defineProperty(ct,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=z(),n=r(e),i=$e();function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){s(this,a);var h=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l.substring(1),c));return h.bytes=l.split("").map(function(g){return g.charCodeAt(0)}),h}return t(a,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var c=this.bytes,h=c.shift()-105,g=i.SET_BY_CODE[h];if(g===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&c.unshift(i.FNC1);var m=a.next(c,1,g);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:a.getBar(h)+m.result+a.getBar((m.checksum+h)%i.MODULO)+a.getBar(i.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var c=this.options.ean128||!1;return typeof c=="string"&&(c=c.toLowerCase()==="true"),c}}],[{key:"getBar",value:function(c){return i.BARS[c]?i.BARS[c].toString():""}},{key:"correctIndex",value:function(c,h){if(h===i.SET_A){var g=c.shift();return g<32?g+64:g-32}else return h===i.SET_B?c.shift()-32:(c.shift()-48)*10+c.shift()-48}},{key:"next",value:function(c,h,g){if(!c.length)return{result:"",checksum:0};var m=void 0,y=void 0;if(c[0]>=200){y=c.shift()-105;var v=i.SWAP[y];v!==void 0?m=a.next(c,h+1,v):((g===i.SET_A||g===i.SET_B)&&y===i.SHIFT&&(c[0]=g===i.SET_A?c[0]>95?c[0]-96:c[0]:c[0]<32?c[0]+96:c[0]),m=a.next(c,h+1,g))}else y=a.correctIndex(c,g),m=a.next(c,h+1,g);var p=a.getBar(y),b=y*h;return{result:p+m.result,checksum:b+m.checksum}}}]),a})(n.default);return ct.default=u,ct}var dt={},Go;function Sl(){if(Go)return dt;Go=1,Object.defineProperty(dt,"__esModule",{value:!0});var t=$e(),e=function(f){return f.match(new RegExp("^"+t.A_CHARS+"*"))[0].length},n=function(f){return f.match(new RegExp("^"+t.B_CHARS+"*"))[0].length},i=function(f){return f.match(new RegExp("^"+t.C_CHARS+"*"))[0]};function r(d,f){var u=f?t.A_CHARS:t.B_CHARS,o=d.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(o)return o[1]+"Ì"+s(d.substring(o[1].length));var a=d.match(new RegExp("^"+u+"+"))[0];return a.length===d.length?d:a+String.fromCharCode(f?205:206)+r(d.substring(a.length),!f)}function s(d){var f=i(d),u=f.length;if(u===d.length)return d;d=d.substring(u);var o=e(d)>=n(d);return f+String.fromCharCode(o?206:205)+r(d,o)}return dt.default=function(d){var f=void 0,u=i(d).length;if(u>=2)f=t.C_START_CHAR+s(d);else{var o=e(d)>n(d);f=(o?t.A_START_CHAR:t.B_START_CHAR)+r(d,o)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,l){return"Ë"+l})},dt}var Xo;function Cl(){if(Xo)return lt;Xo=1,Object.defineProperty(lt,"__esModule",{value:!0});var t=ut(),e=r(t),n=Sl(),i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){if(s(this,a),/^[\x00-\x7F\xC8-\xD3]+$/.test(l))var h=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,(0,i.default)(l),c));else var h=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,c));return d(h)}return a})(e.default);return lt.default=u,lt}var ft={},Yo;function Ol(){if(Yo)return ft;Yo=1,Object.defineProperty(ft,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=ut(),n=r(e),i=$e();function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){return s(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.A_START_CHAR+l,c))}return t(a,[{key:"valid",value:function(){return new RegExp("^"+i.A_CHARS+"+$").test(this.data)}}]),a})(n.default);return ft.default=u,ft}var ht={},Vo;function kl(){if(Vo)return ht;Vo=1,Object.defineProperty(ht,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=ut(),n=r(e),i=$e();function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){return s(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.B_START_CHAR+l,c))}return t(a,[{key:"valid",value:function(){return new RegExp("^"+i.B_CHARS+"+$").test(this.data)}}]),a})(n.default);return ht.default=u,ht}var gt={},Ko;function Ml(){if(Ko)return gt;Ko=1,Object.defineProperty(gt,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=ut(),n=r(e),i=$e();function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){return s(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.C_START_CHAR+l,c))}return t(a,[{key:"valid",value:function(){return new RegExp("^"+i.C_CHARS+"+$").test(this.data)}}]),a})(n.default);return gt.default=u,gt}var Jo;function Tl(){if(Jo)return X;Jo=1,Object.defineProperty(X,"__esModule",{value:!0}),X.CODE128C=X.CODE128B=X.CODE128A=X.CODE128=void 0;var t=Cl(),e=u(t),n=Ol(),i=u(n),r=kl(),s=u(r),d=Ml(),f=u(d);function u(o){return o&&o.__esModule?o:{default:o}}return X.CODE128=e.default,X.CODE128A=i.default,X.CODE128B=s.default,X.CODE128C=f.default,X}var N={},mt={},ie={},Zo;function Ne(){return Zo||(Zo=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.SIDE_BIN="101",ie.MIDDLE_BIN="01010",ie.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},ie.EAN2_STRUCTURE=["LL","LG","GL","GG"],ie.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ie.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),ie}var vt={},yt={},Qo;function ze(){if(Qo)return yt;Qo=1,Object.defineProperty(yt,"__esModule",{value:!0});var t=Ne(),e=function(i,r,s){var d=i.split("").map(function(u,o){return t.BINARIES[r[o]]}).map(function(u,o){return u?u[i[o]]:""});if(s){var f=i.length-1;d=d.map(function(u,o){return o<f?u+s:u})}return d.join("")};return yt.default=e,yt}var ei;function ti(){if(ei)return vt;ei=1,Object.defineProperty(vt,"__esModule",{value:!0});var t=(function(){function l(c,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,g){return h&&l(c.prototype,h),g&&l(c,g),c}})(),e=Ne(),n=ze(),i=d(n),r=z(),s=d(r);function d(l){return l&&l.__esModule?l:{default:l}}function f(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function u(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function o(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var a=(function(l){o(c,l);function c(h,g){f(this,c);var m=u(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g));return m.fontSize=!g.flat&&g.fontSize>g.width*10?g.width*10:g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return t(c,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(g,m){return this.text.substr(g,m)}},{key:"leftEncode",value:function(g,m){return(0,i.default)(g,m)}},{key:"rightText",value:function(g,m){return this.text.substr(g,m)}},{key:"rightEncode",value:function(g,m){return(0,i.default)(g,m)}},{key:"encodeGuarded",value:function(){var g={fontSize:this.fontSize},m={height:this.guardHeight};return[{data:e.SIDE_BIN,options:m},{data:this.leftEncode(),text:this.leftText(),options:g},{data:e.MIDDLE_BIN,options:m},{data:this.rightEncode(),text:this.rightText(),options:g},{data:e.SIDE_BIN,options:m}]}},{key:"encodeFlat",value:function(){var g=[e.SIDE_BIN,this.leftEncode(),e.MIDDLE_BIN,this.rightEncode(),e.SIDE_BIN];return{data:g.join(""),text:this.text}}}]),c})(s.default);return vt.default=a,vt}var ni;function Al(){if(ni)return mt;ni=1,Object.defineProperty(mt,"__esModule",{value:!0});var t=(function(){function l(c,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,g){return h&&l(c.prototype,h),g&&l(c,g),c}})(),e=function l(c,h,g){c===null&&(c=Function.prototype);var m=Object.getOwnPropertyDescriptor(c,h);if(m===void 0){var y=Object.getPrototypeOf(c);return y===null?void 0:l(y,h,g)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(g)}},n=Ne(),i=ti(),r=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function f(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function u(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var o=function(c){var h=c.substr(0,12).split("").map(function(g){return+g}).reduce(function(g,m,y){return y%2?g+m*3:g+m},0);return(10-h%10)%10},a=(function(l){u(c,l);function c(h,g){d(this,c),h.search(/^[0-9]{12}$/)!==-1&&(h+=o(h));var m=f(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g));return m.lastChar=g.lastChar,m}return t(c,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===o(this.data)}},{key:"leftText",value:function(){return e(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var g=this.data.substr(1,6),m=n.EAN13_STRUCTURE[this.data[0]];return e(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"leftEncode",this).call(this,g,m)}},{key:"rightText",value:function(){return e(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var g=this.data.substr(7,6);return e(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"rightEncode",this).call(this,g,"RRRRRR")}},{key:"encodeGuarded",value:function(){var g=e(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(g.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(g.push({data:"00"}),g.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),g}}]),c})(r.default);return mt.default=a,mt}var pt={},ri;function Pl(){if(ri)return pt;ri=1,Object.defineProperty(pt,"__esModule",{value:!0});var t=(function(){function a(l,c){for(var h=0;h<c.length;h++){var g=c[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}return function(l,c,h){return c&&a(l.prototype,c),h&&a(l,h),l}})(),e=function a(l,c,h){l===null&&(l=Function.prototype);var g=Object.getOwnPropertyDescriptor(l,c);if(g===void 0){var m=Object.getPrototypeOf(l);return m===null?void 0:a(m,c,h)}else{if("value"in g)return g.value;var y=g.get;return y===void 0?void 0:y.call(h)}},n=ti(),i=r(n);function r(a){return a&&a.__esModule?a:{default:a}}function s(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function d(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function f(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var u=function(l){var c=l.substr(0,7).split("").map(function(h){return+h}).reduce(function(h,g,m){return m%2?h+g:h+g*3},0);return(10-c%10)%10},o=(function(a){f(l,a);function l(c,h){return s(this,l),c.search(/^[0-9]{7}$/)!==-1&&(c+=u(c)),d(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,c,h))}return t(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return e(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var h=this.data.substr(0,4);return e(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"leftEncode",this).call(this,h,"LLLL")}},{key:"rightText",value:function(){return e(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var h=this.data.substr(4,4);return e(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"rightEncode",this).call(this,h,"RRRR")}}]),l})(i.default);return pt.default=o,pt}var bt={},oi;function Rl(){if(oi)return bt;oi=1,Object.defineProperty(bt,"__esModule",{value:!0});var t=(function(){function c(h,g){for(var m=0;m<g.length;m++){var y=g[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,g,m){return g&&c(h.prototype,g),m&&c(h,m),h}})(),e=Ne(),n=ze(),i=d(n),r=z(),s=d(r);function d(c){return c&&c.__esModule?c:{default:c}}function f(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function o(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var a=function(h){var g=h.split("").map(function(m){return+m}).reduce(function(m,y,v){return v%2?m+y*9:m+y*3},0);return g%10},l=(function(c){o(h,c);function h(g,m){return f(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g,m))}return t(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var m=e.EAN5_STRUCTURE[a(this.data)];return{data:"1011"+(0,i.default)(this.data,m,"01"),text:this.text}}}]),h})(s.default);return bt.default=l,bt}var wt={},ii;function Ll(){if(ii)return wt;ii=1,Object.defineProperty(wt,"__esModule",{value:!0});var t=(function(){function l(c,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,g){return h&&l(c.prototype,h),g&&l(c,g),c}})(),e=Ne(),n=ze(),i=d(n),r=z(),s=d(r);function d(l){return l&&l.__esModule?l:{default:l}}function f(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function u(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function o(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var a=(function(l){o(c,l);function c(h,g){return f(this,c),u(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g))}return t(c,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var g=e.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,i.default)(this.data,g,"01"),text:this.text}}}]),c})(s.default);return wt.default=a,wt}var qe={},ai;function si(){if(ai)return qe;ai=1,Object.defineProperty(qe,"__esModule",{value:!0});var t=(function(){function l(c,h){for(var g=0;g<h.length;g++){var m=h[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,g){return h&&l(c.prototype,h),g&&l(c,g),c}})();qe.checksum=a;var e=ze(),n=s(e),i=z(),r=s(i);function s(l){return l&&l.__esModule?l:{default:l}}function d(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function f(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:l}function u(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);l.prototype=Object.create(c&&c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(l,c):l.__proto__=c)}var o=(function(l){u(c,l);function c(h,g){d(this,c),h.search(/^[0-9]{11}$/)!==-1&&(h+=a(h));var m=f(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,h,g));return m.displayValue=g.displayValue,g.fontSize>g.width*10?m.fontSize=g.width*10:m.fontSize=g.fontSize,m.guardHeight=g.height+m.fontSize/2+g.textMargin,m}return t(c,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==a(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var g="";return g+="101",g+=(0,n.default)(this.data.substr(0,6),"LLLLLL"),g+="01010",g+=(0,n.default)(this.data.substr(6,6),"RRRRRR"),g+="101",{data:g,text:this.text}}},{key:"guardedEncoding",value:function(){var g=[];return this.displayValue&&g.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),g.push({data:"101"+(0,n.default)(this.data[0],"L"),options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),g.push({data:"01010",options:{height:this.guardHeight}}),g.push({data:(0,n.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),g.push({data:(0,n.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&g.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),g}}]),c})(r.default);function a(l){var c=0,h;for(h=1;h<11;h+=2)c+=parseInt(l[h]);for(h=0;h<11;h+=2)c+=parseInt(l[h])*3;return(10-c%10)%10}return qe.default=o,qe}var _t={},li;function Dl(){if(li)return _t;li=1,Object.defineProperty(_t,"__esModule",{value:!0});var t=(function(){function g(m,y){for(var v=0;v<y.length;v++){var p=y[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,y,v){return y&&g(m.prototype,y),v&&g(m,v),m}})(),e=ze(),n=d(e),i=z(),r=d(i),s=si();function d(g){return g&&g.__esModule?g:{default:g}}function f(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}function u(g,m){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:g}function o(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);g.prototype=Object.create(m&&m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(g,m):g.__proto__=m)}var a=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],l=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],c=(function(g){o(m,g);function m(y,v){f(this,m);var p=u(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,y,v));if(p.isValid=!1,y.search(/^[0-9]{6}$/)!==-1)p.middleDigits=y,p.upcA=h(y,"0"),p.text=v.text||""+p.upcA[0]+y+p.upcA[p.upcA.length-1],p.isValid=!0;else if(y.search(/^[01][0-9]{7}$/)!==-1)if(p.middleDigits=y.substring(1,y.length-1),p.upcA=h(p.middleDigits,y[0]),p.upcA[p.upcA.length-1]===y[y.length-1])p.isValid=!0;else return u(p);else return u(p);return p.displayValue=v.displayValue,v.fontSize>v.width*10?p.fontSize=v.width*10:p.fontSize=v.fontSize,p.guardHeight=v.height+p.fontSize/2+v.textMargin,p}return t(m,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var v="";return v+="101",v+=this.encodeMiddleDigits(),v+="010101",{data:v,text:this.text}}},{key:"guardedEncoding",value:function(){var v=[];return this.displayValue&&v.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),v.push({data:"101",options:{height:this.guardHeight}}),v.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),v.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&v.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),v}},{key:"encodeMiddleDigits",value:function(){var v=this.upcA[0],p=this.upcA[this.upcA.length-1],b=l[parseInt(p)][parseInt(v)];return(0,n.default)(this.middleDigits,b)}}]),m})(r.default);function h(g,m){for(var y=parseInt(g[g.length-1]),v=a[y],p="",b=0,_=0;_<v.length;_++){var A=v[_];A==="X"?p+=g[b++]:p+=A}return p=""+m+p,""+p+(0,s.checksum)(p)}return _t.default=c,_t}var ci;function Il(){if(ci)return N;ci=1,Object.defineProperty(N,"__esModule",{value:!0}),N.UPCE=N.UPC=N.EAN2=N.EAN5=N.EAN8=N.EAN13=void 0;var t=Al(),e=c(t),n=Pl(),i=c(n),r=Rl(),s=c(r),d=Ll(),f=c(d),u=si(),o=c(u),a=Dl(),l=c(a);function c(h){return h&&h.__esModule?h:{default:h}}return N.EAN13=e.default,N.EAN8=i.default,N.EAN5=s.default,N.EAN2=f.default,N.UPC=o.default,N.UPCE=l.default,N}var pe={},Et={},ke={},ui;function Bl(){return ui||(ui=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.START_BIN="1010",ke.END_BIN="11101",ke.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),ke}var di;function fi(){if(di)return Et;di=1,Object.defineProperty(Et,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=Bl(),n=z(),i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(){return s(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return t(a,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var c=this,h=this.data.match(/.{2}/g).map(function(g){return c.encodePair(g)}).join("");return{data:e.START_BIN+h+e.END_BIN,text:this.text}}},{key:"encodePair",value:function(c){var h=e.BINARIES[c[1]];return e.BINARIES[c[0]].split("").map(function(g,m){return(g==="1"?"111":"1")+(h[m]==="1"?"000":"0")}).join("")}}]),a})(i.default);return Et.default=u,Et}var xt={},hi;function $l(){if(hi)return xt;hi=1,Object.defineProperty(xt,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=fi(),n=i(e);function i(o){return o&&o.__esModule?o:{default:o}}function r(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function s(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function d(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var f=function(a){var l=a.substr(0,13).split("").map(function(c){return parseInt(c,10)}).reduce(function(c,h,g){return c+h*(3-g%2*2)},0);return Math.ceil(l/10)*10-l},u=(function(o){d(a,o);function a(l,c){return r(this,a),l.search(/^[0-9]{13}$/)!==-1&&(l+=f(l)),s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,c))}return t(a,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),a})(n.default);return xt.default=u,xt}var gi;function Nl(){if(gi)return pe;gi=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.ITF14=pe.ITF=void 0;var t=fi(),e=r(t),n=$l(),i=r(n);function r(s){return s&&s.__esModule?s:{default:s}}return pe.ITF=e.default,pe.ITF14=i.default,pe}var q={},St={},mi;function je(){if(mi)return St;mi=1,Object.defineProperty(St,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=z(),n=i(e);function i(o){return o&&o.__esModule?o:{default:o}}function r(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function s(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function d(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var f=(function(o){d(a,o);function a(l,c){return r(this,a),s(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,c))}return t(a,[{key:"encode",value:function(){for(var c="110",h=0;h<this.data.length;h++){var g=parseInt(this.data[h]),m=g.toString(2);m=u(m,4-m.length);for(var y=0;y<m.length;y++)c+=m[y]=="0"?"100":"110"}return c+="1001",{data:c,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),a})(n.default);function u(o,a){for(var l=0;l<a;l++)o="0"+o;return o}return St.default=f,St}var Ct={},He={},vi;function Ot(){if(vi)return He;vi=1,Object.defineProperty(He,"__esModule",{value:!0}),He.mod10=t,He.mod11=e;function t(n){for(var i=0,r=0;r<n.length;r++){var s=parseInt(n[r]);(r+n.length)%2===0?i+=s:i+=s*2%10+Math.floor(s*2/10)}return(10-i%10)%10}function e(n){for(var i=0,r=[2,3,4,5,6,7],s=0;s<n.length;s++){var d=parseInt(n[n.length-1-s]);i+=r[s%r.length]*d}return(11-i%11)%11}return He}var yi;function zl(){if(yi)return Ct;yi=1,Object.defineProperty(Ct,"__esModule",{value:!0});var t=je(),e=i(t),n=Ot();function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a+(0,n.mod10)(a),l))}return o})(e.default);return Ct.default=f,Ct}var kt={},pi;function ql(){if(pi)return kt;pi=1,Object.defineProperty(kt,"__esModule",{value:!0});var t=je(),e=i(t),n=Ot();function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a+(0,n.mod11)(a),l))}return o})(e.default);return kt.default=f,kt}var Mt={},bi;function jl(){if(bi)return Mt;bi=1,Object.defineProperty(Mt,"__esModule",{value:!0});var t=je(),e=i(t),n=Ot();function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),a+=(0,n.mod10)(a),a+=(0,n.mod10)(a),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,l))}return o})(e.default);return Mt.default=f,Mt}var Tt={},wi;function Hl(){if(wi)return Tt;wi=1,Object.defineProperty(Tt,"__esModule",{value:!0});var t=je(),e=i(t),n=Ot();function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),a+=(0,n.mod11)(a),a+=(0,n.mod10)(a),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,l))}return o})(e.default);return Tt.default=f,Tt}var _i;function Fl(){if(_i)return q;_i=1,Object.defineProperty(q,"__esModule",{value:!0}),q.MSI1110=q.MSI1010=q.MSI11=q.MSI10=q.MSI=void 0;var t=je(),e=a(t),n=zl(),i=a(n),r=ql(),s=a(r),d=jl(),f=a(d),u=Hl(),o=a(u);function a(l){return l&&l.__esModule?l:{default:l}}return q.MSI=e.default,q.MSI10=i.default,q.MSI11=s.default,q.MSI1010=f.default,q.MSI1110=o.default,q}var Fe={},Ei;function Ul(){if(Ei)return Fe;Ei=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.pharmacode=void 0;var t=(function(){function u(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,l){return a&&u(o.prototype,a),l&&u(o,l),o}})(),e=z(),n=i(e);function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){r(this,o);var c=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,l));return c.number=parseInt(a,10),c}return t(o,[{key:"encode",value:function(){for(var l=this.number,c="";!isNaN(l)&&l!=0;)l%2===0?(c="11100"+c,l=(l-2)/2):(c="100"+c,l=(l-1)/2);return c=c.slice(0,-2),{data:c,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),o})(n.default);return Fe.pharmacode=f,Fe}var Ue={},xi;function Wl(){if(xi)return Ue;xi=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.codabar=void 0;var t=(function(){function u(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,l){return a&&u(o.prototype,a),l&&u(o,l),o}})(),e=z(),n=i(e);function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){r(this,o),a.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(a="A"+a+"A");var c=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a.toUpperCase(),l));return c.text=c.options.text||c.text.replace(/[A-D]/g,""),c}return t(o,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var l=[],c=this.getEncodings(),h=0;h<this.data.length;h++)l.push(c[this.data.charAt(h)]),h!==this.data.length-1&&l.push("0");return{text:this.text,data:l.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),o})(n.default);return Ue.codabar=f,Ue}var be={},At={},Me={},Si;function Gl(){return Si||(Si=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"],Me.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],Me.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),Me}var Ci;function Oi(){if(Ci)return At;Ci=1,Object.defineProperty(At,"__esModule",{value:!0});var t=(function(){function o(a,l){for(var c=0;c<l.length;c++){var h=l[c];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,l,c){return l&&o(a.prototype,l),c&&o(a,c),a}})(),e=Gl(),n=z(),i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}function s(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function d(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:o}function f(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}var u=(function(o){f(a,o);function a(l,c){return s(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,c))}return t(a,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var c=this.data.split("").flatMap(function(y){return e.MULTI_SYMBOLS[y]||y}),h=c.map(function(y){return a.getEncoding(y)}).join(""),g=a.checksum(c,20),m=a.checksum(c.concat(g),15);return{text:this.text,data:a.getEncoding("ÿ")+h+a.getEncoding(g)+a.getEncoding(m)+a.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(c){return e.BINARIES[a.symbolValue(c)]}},{key:"getSymbol",value:function(c){return e.SYMBOLS[c]}},{key:"symbolValue",value:function(c){return e.SYMBOLS.indexOf(c)}},{key:"checksum",value:function(c,h){var g=c.slice().reverse().reduce(function(m,y,v){var p=v%h+1;return m+a.symbolValue(y)*p},0);return a.getSymbol(g%47)}}]),a})(i.default);return At.default=u,At}var Pt={},ki;function Xl(){if(ki)return Pt;ki=1,Object.defineProperty(Pt,"__esModule",{value:!0});var t=(function(){function u(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,l){return a&&u(o.prototype,a),l&&u(o,l),o}})(),e=Oi(),n=i(e);function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,l))}return t(o,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),o})(n.default);return Pt.default=f,Pt}var Mi;function Yl(){if(Mi)return be;Mi=1,Object.defineProperty(be,"__esModule",{value:!0}),be.CODE93FullASCII=be.CODE93=void 0;var t=Oi(),e=r(t),n=Xl(),i=r(n);function r(s){return s&&s.__esModule?s:{default:s}}return be.CODE93=e.default,be.CODE93FullASCII=i.default,be}var We={},Ti;function Vl(){if(Ti)return We;Ti=1,Object.defineProperty(We,"__esModule",{value:!0}),We.GenericBarcode=void 0;var t=(function(){function u(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,l){return a&&u(o.prototype,a),l&&u(o,l),o}})(),e=z(),n=i(e);function i(u){return u&&u.__esModule?u:{default:u}}function r(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function s(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function d(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var f=(function(u){d(o,u);function o(a,l){return r(this,o),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,l))}return t(o,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),o})(n.default);return We.GenericBarcode=f,We}var Ai;function Kl(){if(Ai)return at;Ai=1,Object.defineProperty(at,"__esModule",{value:!0});var t=xl(),e=Tl(),n=Il(),i=Nl(),r=Fl(),s=Ul(),d=Wl(),f=Yl(),u=Vl();return at.default={CODE39:t.CODE39,CODE128:e.CODE128,CODE128A:e.CODE128A,CODE128B:e.CODE128B,CODE128C:e.CODE128C,EAN13:n.EAN13,EAN8:n.EAN8,EAN5:n.EAN5,EAN2:n.EAN2,UPC:n.UPC,UPCE:n.UPCE,ITF14:i.ITF14,ITF:i.ITF,MSI:r.MSI,MSI10:r.MSI10,MSI11:r.MSI11,MSI1010:r.MSI1010,MSI1110:r.MSI1110,pharmacode:s.pharmacode,codabar:d.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:u.GenericBarcode},at}var Rt={},Pi;function Lt(){if(Pi)return Rt;Pi=1,Object.defineProperty(Rt,"__esModule",{value:!0});var t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};return Rt.default=function(e,n){return t({},e,n)},Rt}var Dt={},Ri;function Jl(){if(Ri)return Dt;Ri=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=t;function t(e){var n=[];function i(r){if(Array.isArray(r))for(var s=0;s<r.length;s++)i(r[s]);else r.text=r.text||"",r.data=r.data||"",n.push(r)}return i(e),n}return Dt}var It={},Li;function Zl(){if(Li)return It;Li=1,Object.defineProperty(It,"__esModule",{value:!0}),It.default=t;function t(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}return It}var Bt={},$t={},Nt={},Di;function Ii(){if(Di)return Nt;Di=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=t;function t(e){var n=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var i in n)n.hasOwnProperty(i)&&(i=n[i],typeof e[i]=="string"&&(e[i]=parseInt(e[i],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}return Nt}var zt={},Bi;function $i(){if(Bi)return zt;Bi=1,Object.defineProperty(zt,"__esModule",{value:!0});var t={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return zt.default=t,zt}var Ni;function Ql(){if(Ni)return $t;Ni=1,Object.defineProperty($t,"__esModule",{value:!0});var t=Ii(),e=r(t),n=$i(),i=r(n);function r(d){return d&&d.__esModule?d:{default:d}}function s(d){var f={};for(var u in i.default)i.default.hasOwnProperty(u)&&(d.hasAttribute("jsbarcode-"+u.toLowerCase())&&(f[u]=d.getAttribute("jsbarcode-"+u.toLowerCase())),d.hasAttribute("data-"+u.toLowerCase())&&(f[u]=d.getAttribute("data-"+u.toLowerCase())));return f.value=d.getAttribute("jsbarcode-value")||d.getAttribute("data-value"),f=(0,e.default)(f),f}return $t.default=s,$t}var qt={},jt={},j={},zi;function qi(){if(zi)return j;zi=1,Object.defineProperty(j,"__esModule",{value:!0}),j.getTotalWidthOfEncodings=j.calculateEncodingAttributes=j.getBarcodePadding=j.getEncodingHeight=j.getMaximumHeightOfEncodings=void 0;var t=Lt(),e=n(t);function n(o){return o&&o.__esModule?o:{default:o}}function i(o,a){return a.height+(a.displayValue&&o.text.length>0?a.fontSize+a.textMargin:0)+a.marginTop+a.marginBottom}function r(o,a,l){if(l.displayValue&&a<o){if(l.textAlign=="center")return Math.floor((o-a)/2);if(l.textAlign=="left")return 0;if(l.textAlign=="right")return Math.floor(o-a)}return 0}function s(o,a,l){for(var c=0;c<o.length;c++){var h=o[c],g=(0,e.default)(a,h.options),m;g.displayValue?m=u(h.text,g,l):m=0;var y=h.data.length*g.width;h.width=Math.ceil(Math.max(m,y)),h.height=i(h,g),h.barcodePadding=r(m,y,g)}}function d(o){for(var a=0,l=0;l<o.length;l++)a+=o[l].width;return a}function f(o){for(var a=0,l=0;l<o.length;l++)o[l].height>a&&(a=o[l].height);return a}function u(o,a,l){var c;if(l)c=l;else if(typeof document<"u")c=document.createElement("canvas").getContext("2d");else return 0;c.font=a.fontOptions+" "+a.fontSize+"px "+a.font;var h=c.measureText(o);if(!h)return 0;var g=h.width;return g}return j.getMaximumHeightOfEncodings=f,j.getEncodingHeight=i,j.getBarcodePadding=r,j.calculateEncodingAttributes=s,j.getTotalWidthOfEncodings=d,j}var ji;function ec(){if(ji)return jt;ji=1,Object.defineProperty(jt,"__esModule",{value:!0});var t=(function(){function f(u,o){for(var a=0;a<o.length;a++){var l=o[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(u,l.key,l)}}return function(u,o,a){return o&&f(u.prototype,o),a&&f(u,a),u}})(),e=Lt(),n=r(e),i=qi();function r(f){return f&&f.__esModule?f:{default:f}}function s(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}var d=(function(){function f(u,o,a){s(this,f),this.canvas=u,this.encodings=o,this.options=a}return t(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var o=0;o<this.encodings.length;o++){var a=(0,n.default)(this.options,this.encodings[o].options);this.drawCanvasBarcode(a,this.encodings[o]),this.drawCanvasText(a,this.encodings[o]),this.moveCanvasDrawing(this.encodings[o])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var o=this.canvas.getContext("2d");o.save(),(0,i.calculateEncodingAttributes)(this.encodings,this.options,o);var a=(0,i.getTotalWidthOfEncodings)(this.encodings),l=(0,i.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=a+this.options.marginLeft+this.options.marginRight,this.canvas.height=l,o.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(o.fillStyle=this.options.background,o.fillRect(0,0,this.canvas.width,this.canvas.height)),o.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(o,a){var l=this.canvas.getContext("2d"),c=a.data,h;o.textPosition=="top"?h=o.marginTop+o.fontSize+o.textMargin:h=o.marginTop,l.fillStyle=o.lineColor;for(var g=0;g<c.length;g++){var m=g*o.width+a.barcodePadding;c[g]==="1"?l.fillRect(m,h,o.width,o.height):c[g]&&l.fillRect(m,h,o.width,o.height*c[g])}}},{key:"drawCanvasText",value:function(o,a){var l=this.canvas.getContext("2d"),c=o.fontOptions+" "+o.fontSize+"px "+o.font;if(o.displayValue){var h,g;o.textPosition=="top"?g=o.marginTop+o.fontSize-o.textMargin:g=o.height+o.textMargin+o.marginTop+o.fontSize,l.font=c,o.textAlign=="left"||a.barcodePadding>0?(h=0,l.textAlign="left"):o.textAlign=="right"?(h=a.width-1,l.textAlign="right"):(h=a.width/2,l.textAlign="center"),l.fillText(a.text,h,g)}}},{key:"moveCanvasDrawing",value:function(o){var a=this.canvas.getContext("2d");a.translate(o.width,0)}},{key:"restoreCanvas",value:function(){var o=this.canvas.getContext("2d");o.restore()}}]),f})();return jt.default=d,jt}var Ht={},Hi;function tc(){if(Hi)return Ht;Hi=1,Object.defineProperty(Ht,"__esModule",{value:!0});var t=(function(){function u(o,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,a,l){return a&&u(o.prototype,a),l&&u(o,l),o}})(),e=Lt(),n=r(e),i=qi();function r(u){return u&&u.__esModule?u:{default:u}}function s(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}var d="http://www.w3.org/2000/svg",f=(function(){function u(o,a,l){s(this,u),this.svg=o,this.encodings=a,this.options=l,this.document=l.xmlDocument||document}return t(u,[{key:"render",value:function(){var a=this.options.marginLeft;this.prepareSVG();for(var l=0;l<this.encodings.length;l++){var c=this.encodings[l],h=(0,n.default)(this.options,c.options),g=this.createGroup(a,h.marginTop,this.svg);this.setGroupOptions(g,h),this.drawSvgBarcode(g,h,c),this.drawSVGText(g,h,c),a+=c.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,i.calculateEncodingAttributes)(this.encodings,this.options);var a=(0,i.getTotalWidthOfEncodings)(this.encodings),l=(0,i.getMaximumHeightOfEncodings)(this.encodings),c=a+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(c,l),this.options.background&&this.drawRect(0,0,c,l,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(a,l,c){var h=c.data,g;l.textPosition=="top"?g=l.fontSize+l.textMargin:g=0;for(var m=0,y=0,v=0;v<h.length;v++)y=v*l.width+c.barcodePadding,h[v]==="1"?m++:m>0&&(this.drawRect(y-l.width*m,g,l.width*m,l.height,a),m=0);m>0&&this.drawRect(y-l.width*(m-1),g,l.width*m,l.height,a)}},{key:"drawSVGText",value:function(a,l,c){var h=this.document.createElementNS(d,"text");if(l.displayValue){var g,m;h.setAttribute("style","font:"+l.fontOptions+" "+l.fontSize+"px "+l.font),l.textPosition=="top"?m=l.fontSize-l.textMargin:m=l.height+l.textMargin+l.fontSize,l.textAlign=="left"||c.barcodePadding>0?(g=0,h.setAttribute("text-anchor","start")):l.textAlign=="right"?(g=c.width-1,h.setAttribute("text-anchor","end")):(g=c.width/2,h.setAttribute("text-anchor","middle")),h.setAttribute("x",g),h.setAttribute("y",m),h.appendChild(this.document.createTextNode(c.text)),a.appendChild(h)}}},{key:"setSvgAttributes",value:function(a,l){var c=this.svg;c.setAttribute("width",a+"px"),c.setAttribute("height",l+"px"),c.setAttribute("x","0px"),c.setAttribute("y","0px"),c.setAttribute("viewBox","0 0 "+a+" "+l),c.setAttribute("xmlns",d),c.setAttribute("version","1.1"),c.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(a,l,c){var h=this.document.createElementNS(d,"g");return h.setAttribute("transform","translate("+a+", "+l+")"),c.appendChild(h),h}},{key:"setGroupOptions",value:function(a,l){a.setAttribute("style","fill:"+l.lineColor+";")}},{key:"drawRect",value:function(a,l,c,h,g){var m=this.document.createElementNS(d,"rect");return m.setAttribute("x",a),m.setAttribute("y",l),m.setAttribute("width",c),m.setAttribute("height",h),g.appendChild(m),m}}]),u})();return Ht.default=f,Ht}var Ft={},Fi;function nc(){if(Fi)return Ft;Fi=1,Object.defineProperty(Ft,"__esModule",{value:!0});var t=(function(){function i(r,s){for(var d=0;d<s.length;d++){var f=s[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,d){return s&&i(r.prototype,s),d&&i(r,d),r}})();function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}var n=(function(){function i(r,s,d){e(this,i),this.object=r,this.encodings=s,this.options=d}return t(i,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),i})();return Ft.default=n,Ft}var Ui;function rc(){if(Ui)return qt;Ui=1,Object.defineProperty(qt,"__esModule",{value:!0});var t=ec(),e=d(t),n=tc(),i=d(n),r=nc(),s=d(r);function d(f){return f&&f.__esModule?f:{default:f}}return qt.default={CanvasRenderer:e.default,SVGRenderer:i.default,ObjectRenderer:s.default},qt}var Te={},Wi;function Gi(){if(Wi)return Te;Wi=1,Object.defineProperty(Te,"__esModule",{value:!0});function t(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function e(d,f){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:d}function n(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(d,f):d.__proto__=f)}var i=(function(d){n(f,d);function f(u,o){t(this,f);var a=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return a.name="InvalidInputException",a.symbology=u,a.input=o,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return f})(Error),r=(function(d){n(f,d);function f(){t(this,f);var u=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return f})(Error),s=(function(d){n(f,d);function f(){t(this,f);var u=e(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return f})(Error);return Te.InvalidInputException=i,Te.InvalidElementException=r,Te.NoElementException=s,Te}var Xi;function oc(){if(Xi)return Bt;Xi=1,Object.defineProperty(Bt,"__esModule",{value:!0});var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=Ql(),n=d(e),i=rc(),r=d(i),s=Gi();function d(a){return a&&a.__esModule?a:{default:a}}function f(a){if(typeof a=="string")return u(a);if(Array.isArray(a)){for(var l=[],c=0;c<a.length;c++)l.push(f(a[c]));return l}else{if(typeof HTMLCanvasElement<"u"&&a instanceof HTMLImageElement)return o(a);if(a&&a.nodeName&&a.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&a instanceof SVGElement)return{element:a,options:(0,n.default)(a),renderer:r.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement)return{element:a,options:(0,n.default)(a),renderer:r.default.CanvasRenderer};if(a&&a.getContext)return{element:a,renderer:r.default.CanvasRenderer};if(a&&(typeof a>"u"?"undefined":t(a))==="object"&&!a.nodeName)return{element:a,renderer:r.default.ObjectRenderer};throw new s.InvalidElementException}}function u(a){var l=document.querySelectorAll(a);if(l.length!==0){for(var c=[],h=0;h<l.length;h++)c.push(f(l[h]));return c}}function o(a){var l=document.createElement("canvas");return{element:l,options:(0,n.default)(a),renderer:r.default.CanvasRenderer,afterRender:function(){a.setAttribute("src",l.toDataURL())}}}return Bt.default=f,Bt}var Ut={},Yi;function ic(){if(Yi)return Ut;Yi=1,Object.defineProperty(Ut,"__esModule",{value:!0});var t=(function(){function i(r,s){for(var d=0;d<s.length;d++){var f=s[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(r,f.key,f)}}return function(r,s,d){return s&&i(r.prototype,s),d&&i(r,d),r}})();function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}var n=(function(){function i(r){e(this,i),this.api=r}return t(i,[{key:"handleCatch",value:function(s){if(s.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw s.message;else throw s;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(s){try{var d=s.apply(void 0,arguments);return this.api._options.valid(!0),d}catch(f){return this.handleCatch(f),this.api}}}]),i})();return Ut.default=n,Ut}var Tn,Vi;function ac(){if(Vi)return Tn;Vi=1;var t=Kl(),e=v(t),n=Lt(),i=v(n),r=Jl(),s=v(r),d=Zl(),f=v(d),u=oc(),o=v(u),a=Ii(),l=v(a),c=ic(),h=v(c),g=Gi(),m=$i(),y=v(m);function v(w){return w&&w.__esModule?w:{default:w}}var p=function(){},b=function(x,S,O){var C=new p;if(typeof x>"u")throw Error("No element to render on was provided.");return C._renderProperties=(0,o.default)(x),C._encodings=[],C._options=y.default,C._errorHandler=new h.default(C),typeof S<"u"&&(O=O||{},O.format||(O.format=k()),C.options(O)[O.format](S,O).render()),C};b.getModule=function(w){return e.default[w]};for(var _ in e.default)e.default.hasOwnProperty(_)&&A(e.default,_);function A(w,x){p.prototype[x]=p.prototype[x.toUpperCase()]=p.prototype[x.toLowerCase()]=function(S,O){var C=this;return C._errorHandler.wrapBarcodeCall(function(){O.text=typeof O.text>"u"?void 0:""+O.text;var T=(0,i.default)(C._options,O);T=(0,l.default)(T);var te=w[x],_e=E(S,te,T);return C._encodings.push(_e),C})}}function E(w,x,S){w=""+w;var O=new x(w,S);if(!O.valid())throw new g.InvalidInputException(O.constructor.name,w);var C=O.encode();C=(0,s.default)(C);for(var T=0;T<C.length;T++)C[T].options=(0,i.default)(S,C[T].options);return C}function k(){return e.default.CODE128?"CODE128":Object.keys(e.default)[0]}p.prototype.options=function(w){return this._options=(0,i.default)(this._options,w),this},p.prototype.blank=function(w){var x=new Array(w+1).join("0");return this._encodings.push({data:x}),this},p.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var w;for(var x in this._renderProperties){w=this._renderProperties[x];var S=(0,i.default)(this._options,w.options);S.format=="auto"&&(S.format=k()),this._errorHandler.wrapBarcodeCall(function(){var O=S.value,C=e.default[S.format.toUpperCase()],T=E(O,C,S);M(w,T,S)})}}},p.prototype.render=function(){if(!this._renderProperties)throw new g.NoElementException;if(Array.isArray(this._renderProperties))for(var w=0;w<this._renderProperties.length;w++)M(this._renderProperties[w],this._encodings,this._options);else M(this._renderProperties,this._encodings,this._options);return this},p.prototype._defaults=y.default;function M(w,x,S){x=(0,s.default)(x);for(var O=0;O<x.length;O++)x[O].options=(0,i.default)(S,x[O].options),(0,f.default)(x[O].options);(0,f.default)(S);var C=w.renderer,T=new C(w.element,x,S);T.render(),w.afterRender&&w.afterRender()}return typeof window<"u"&&(window.JsBarcode=b),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(w,x){var S=[];return jQuery(this).each(function(){S.push(this)}),b(S,w,x)}),Tn=b,Tn}var sc=ac();const lc=Ir(sc);function cc(t,e,n){try{return lc(t,e,{format:n.format||"CODE128",width:n.width||2,height:n.height||100,displayValue:n.displayValue!==!1,text:n.text,fontOptions:n.fontOptions||"",font:n.font||"monospace",textAlign:n.textAlign||"center",textPosition:n.textPosition||"bottom",textMargin:n.textMargin||2,fontSize:n.fontSize||14,background:n.background||"#ffffff",lineColor:n.lineColor||"#000000",margin:n.margin||10,marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight}),!0}catch(i){return console.error("[BwBarcode] Error generating barcode:",i),!1}}function uc(t){if(t instanceof HTMLCanvasElement)return t.toDataURL("image/png");if(t instanceof SVGElement){const n=new XMLSerializer().serializeToString(t);return"data:image/svg+xml;base64,"+btoa(n)}return""}const Ki=Object.freeze(Object.defineProperty({__proto__:null,generate:cc,toDataURL:uc},Symbol.toStringTag,{value:"Module"})),Y=new Map;function Ji(t){return!t.children||t.children.length===0?0:t.children.reduce((e,n)=>e+1+Ji(n),0)}function dc(t,e,n,i){const r=`org-${crypto.randomUUID()}`,s={container:t,data:e,options:{nodeWidth:n.nodeWidth||180,nodeHeight:n.nodeHeight||80,horizontalSpacing:n.horizontalSpacing||20,verticalSpacing:n.verticalSpacing||40,direction:n.direction||"top-to-bottom",expandable:n.expandable!==!1,showChildCount:n.showChildCount!==!1,...n},netRef:i,expandedNodes:new Set};return An(e,s.expandedNodes),Y.set(r,s),he(r),r}function An(t,e){e.add(t.id),t.children&&t.children.forEach(n=>An(n,e))}function he(t){const e=Y.get(t);if(!e)return;const{container:n,data:i}=e;n.innerHTML="",n.className="bw-orgchart overflow-auto";const r=document.createElement("div");r.className="inline-flex flex-col items-center p-6 min-w-full";const s=Zi(t,i);r.appendChild(s),n.appendChild(r)}function Zi(t,e,n){const i=Y.get(t);if(!i)return document.createElement("div");const{options:r,expandedNodes:s,netRef:d}=i,f=s.has(e.id),u=e.children&&e.children.length>0,o=u?Ji(e):0,a=document.createElement("div");a.className="flex flex-col items-center";const l=document.createElement("div");l.className="bw-org-node relative flex flex-col items-center justify-center text-center transition-all duration-200 cursor-pointer",l.style.width=`${r.nodeWidth}px`,l.style.minHeight=`${r.nodeHeight}px`,l.style.padding="12px",l.style.borderRadius="8px",e.color?(l.style.background=`linear-gradient(135deg, ${e.color}, ${Pn(e.color,-20)})`,l.style.border=`2px solid ${e.borderColor||Pn(e.color,-30)}`,l.style.boxShadow=`0 4px 12px ${e.color}40`,l.classList.add("text-white")):l.classList.add("bg-gradient-to-br","from-white","to-slate-50","dark:from-gray-800","dark:to-gray-900","border","border-slate-200","dark:border-gray-700","shadow-sm","dark:shadow-gray-900/20");const c=document.createElement("div");if(c.className="relative mb-2",e.avatar){const g=document.createElement("img");g.src=e.avatar,g.className="w-12 h-12 rounded-full object-cover ring-3 ring-white dark:ring-gray-800 shadow-md",g.alt=e.name,c.appendChild(g)}else{const g=document.createElement("div");g.className="w-12 h-12 rounded-full flex items-center justify-center font-bold text-sm shadow-md ring-3 ring-white dark:ring-gray-800",e.color?(g.style.backgroundColor=Pn(e.color,30),g.style.color="white"):(g.style.backgroundColor="#dbeafe",g.style.color="#1e40af"),g.textContent=e.name.split(" ").map(m=>m[0]).join("").substring(0,2).toUpperCase(),c.appendChild(g)}if(u&&r.showChildCount){const g=document.createElement("div");g.className="absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-indigo-500 text-white text-[10px] font-bold flex items-center justify-center shadow ring-2 ring-white dark:ring-gray-800",g.textContent=o.toString(),g.title=`${o} alt öğe`,c.appendChild(g)}l.appendChild(c);const h=document.createElement("div");if(h.className=`font-semibold text-sm truncate w-full ${e.color?"text-white":"text-gray-900 dark:text-gray-100"}`,h.textContent=e.name,l.appendChild(h),e.title){const g=document.createElement("div");g.className=`text-xs truncate w-full mt-0.5 ${e.color?"text-white/80":"text-gray-500 dark:text-gray-400"}`,g.textContent=e.title,l.appendChild(g)}if(e.department&&!e.title){const g=document.createElement("div");g.className=`text-[10px] mt-1 px-2 py-0.5 rounded-full truncate ${e.color?"bg-white/20 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,g.textContent=e.department,l.appendChild(g)}if(u&&r.expandable){const g=document.createElement("button");g.className="absolute -bottom-4 left-1/2 -translate-x-1/2 h-7 px-2 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 flex items-center justify-center gap-1 text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-500 hover:shadow-md transition-all text-xs shadow-sm";const m=document.createElement("i");if(m.className=f?"fa-solid fa-chevron-up text-[10px]":"fa-solid fa-chevron-down text-[10px]",g.appendChild(m),!f){const y=document.createElement("span");y.className="font-medium",y.textContent=o.toString(),g.appendChild(y)}g.onclick=y=>{y.stopPropagation(),f?s.delete(e.id):s.add(e.id),he(t)},l.appendChild(g)}if(l.onmouseenter=()=>{l.style.transform="translateY(-2px)",l.style.boxShadow=e.color?`0 8px 20px ${e.color}50`:"0 8px 20px rgba(0,0,0,0.12)"},l.onmouseleave=()=>{l.style.transform="translateY(0)",l.style.boxShadow=e.color?`0 4px 12px ${e.color}40`:"0 2px 8px rgba(0,0,0,0.08)"},l.onclick=()=>{d.invokeMethodAsync("HandleNodeClick",e.id,JSON.stringify(e))},a.appendChild(l),u&&f){const g=document.createElement("div");if(g.style.width="2px",g.style.height=`${r.verticalSpacing/2}px`,g.style.background="linear-gradient(to bottom, #94a3b8, #cbd5e1)",g.style.borderRadius="1px",a.appendChild(g),e.children.length>1){const y=document.createElement("div");y.style.height="2px",y.style.width="calc(100% - 60px)",y.style.background="linear-gradient(to right, #cbd5e1, #94a3b8, #cbd5e1)",y.style.borderRadius="1px",a.appendChild(y)}const m=document.createElement("div");m.className="flex items-start justify-center",m.style.gap=`${r.horizontalSpacing}px`,e.children.forEach(y=>{const v=document.createElement("div");v.className="flex flex-col items-center";const p=document.createElement("div");p.style.width="2px",p.style.height=`${r.verticalSpacing/2}px`,p.style.background="linear-gradient(to bottom, #cbd5e1, #94a3b8)",p.style.borderRadius="1px",v.appendChild(p);const b=Zi(t,y);v.appendChild(b),m.appendChild(v)}),a.appendChild(m)}return a}function Pn(t,e){const n=t.replace("#",""),i=Math.max(0,Math.min(255,parseInt(n.substr(0,2),16)+e)),r=Math.max(0,Math.min(255,parseInt(n.substr(2,2),16)+e)),s=Math.max(0,Math.min(255,parseInt(n.substr(4,2),16)+e));return`#${i.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}function fc(t,e){const n=Y.get(t);n&&(n.data=e,he(t))}function hc(t,e){const n=Y.get(t);n&&(n.options={...n.options,...e},he(t))}function gc(t,e){const n=Y.get(t);n&&(n.expandedNodes.add(e),he(t))}function mc(t,e){const n=Y.get(t);n&&(n.expandedNodes.delete(e),he(t))}function vc(t){const e=Y.get(t);e&&(An(e.data,e.expandedNodes),he(t))}function yc(t){const e=Y.get(t);e&&(e.expandedNodes.clear(),e.expandedNodes.add(e.data.id),he(t))}function pc(t){const e=Y.get(t);e&&(e.container.innerHTML="",Y.delete(t))}const Qi=Object.freeze(Object.defineProperty({__proto__:null,collapseAll:yc,collapseNode:mc,dispose:pc,expandAll:vc,expandNode:gc,init:dc,update:fc,updateOptions:hc},Symbol.toStringTag,{value:"Module"}));function ea(t,e={}){const n=window.open("","_blank");if(!n){console.error("[BwPrintable] Could not open print window");return}const i=e.pageSize||"A4",r=e.orientation||"portrait",s=e.margin||"20mm",d=`
        @page {
            size: ${i} ${r};
            margin: ${s};
        }
        
        @media print {
            body {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .no-print {
                display: none !important;
            }
            
            .page-break {
                page-break-before: always;
            }
            
            .page-break-after {
                page-break-after: always;
            }
            
            .avoid-break {
                page-break-inside: avoid;
            }
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.5;
            color: #111827;
            margin: 0;
            padding: 0;
        }
        
        table {
            border-collapse: collapse;
            width: 100%;
        }
        
        th, td {
            border: 1px solid #e5e7eb;
            padding: 8px 12px;
            text-align: left;
        }
        
        th {
            background-color: #f9fafb;
            font-weight: 600;
        }
        
        .header {
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .footer {
            border-top: 1px solid #e5e7eb;
            padding-top: 16px;
            margin-top: 24px;
            font-size: 12px;
            color: #6b7280;
        }
        
        ${e.styles||""}
    `,f=e.headerHtml||"",u=e.footerHtml||"";n.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset="utf-8">
            <title>${e.title||"Yazdır"}</title>
            <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
            <style>${d}</style>
        </head>
        <body>
            ${f?`<div class="header">${f}</div>`:""}
            ${t.innerHTML}
            ${u?`<div class="footer">${u}</div>`:""}
            ${e.showPageNumbers,`
                <script>
                    window.onload = function() {
                        window.print();
                        window.onafterprint = function() {
                            window.close();
                        };
                    };
                <\/script>
            `}
        </body>
        </html>
    `),n.document.close()}function bc(t){return t.innerHTML}function wc(t,e,n={}){console.log(`[BwPrintable] Exporting to PDF: ${e}`),ea(t,n)}const ta=Object.freeze(Object.defineProperty({__proto__:null,exportToPdf:wc,getElementHtml:bc,print:ea},Symbol.toStringTag,{value:"Module"})),na={nodeWidth:180,nodeHeight:70,horizontalSpacing:100,verticalSpacing:80,direction:"horizontal",showLabels:!0,interactive:!0,draggable:!0,animated:!0,fitToScreen:!0,minZoom:.1,maxZoom:4},Wt={pending:{bgStart:"#ffffff",bgEnd:"#f9fafb",border:"#e5e7eb",text:"#374151",shadow:"rgba(0,0,0,0.05)",iconColor:"#9ca3af"},active:{bgStart:"#eff6ff",bgEnd:"#dbeafe",border:"#3b82f6",text:"#1e40af",shadow:"rgba(59, 130, 246, 0.25)",iconColor:"#2563eb"},completed:{bgStart:"#f0fdf4",bgEnd:"#dcfce7",border:"#22c55e",text:"#166534",shadow:"rgba(34, 197, 94, 0.2)",iconColor:"#16a34a"},error:{bgStart:"#fef2f2",bgEnd:"#fee2e2",border:"#ef4444",text:"#991b1b",shadow:"rgba(239, 68, 68, 0.2)",iconColor:"#dc2626"},skipped:{bgStart:"#f3f4f6",bgEnd:"#e5e7eb",border:"#9ca3af",text:"#6b7280",shadow:"rgba(0,0,0,0.05)",iconColor:"#9ca3af"}};function _c(t,e,n,i){let r={x:0,y:0,k:1},s=!1,d={x:0,y:0};const f=()=>{e.setAttribute("transform",`translate(${r.x}, ${r.y}) scale(${r.k})`)},u=v=>{v.preventDefault();const p=-Math.sign(v.deltaY)*.1,b=t.getBoundingClientRect(),_=v.clientX-b.left,A=v.clientY-b.top,E=r.k,k=Math.max(n.minZoom,Math.min(n.maxZoom,E*(1+p)));r={x:_-(_-r.x)*(k/E),y:A-(A-r.y)*(k/E),k},f()},o=v=>{(v.button===1||v.target===t||v.target.tagName==="svg")&&(s=!0,d={x:v.clientX,y:v.clientY},t.style.cursor="grabbing",v.preventDefault())},a=v=>{if(!s)return;const p=v.clientX-d.x,b=v.clientY-d.y;d={x:v.clientX,y:v.clientY},r={...r,x:r.x+p,y:r.y+b},f()},l=()=>{s=!1,t.style.cursor="grab"};let c=0,h={x:0,y:0};const g=v=>{if(v.touches.length===2){const p=v.touches[0].clientX-v.touches[1].clientX,b=v.touches[0].clientY-v.touches[1].clientY;c=Math.sqrt(p*p+b*b),h={x:(v.touches[0].clientX+v.touches[1].clientX)/2,y:(v.touches[0].clientY+v.touches[1].clientY)/2}}else v.touches.length===1&&(s=!0,d={x:v.touches[0].clientX,y:v.touches[0].clientY})},m=v=>{if(v.touches.length===2){v.preventDefault();const p=v.touches[0].clientX-v.touches[1].clientX,b=v.touches[0].clientY-v.touches[1].clientY,_=Math.sqrt(p*p+b*b),A=_/c,E={x:(v.touches[0].clientX+v.touches[1].clientX)/2,y:(v.touches[0].clientY+v.touches[1].clientY)/2},k=t.getBoundingClientRect(),M=E.x-k.left,w=E.y-k.top,x=Math.max(n.minZoom,Math.min(n.maxZoom,r.k*A));r={x:M-(M-r.x)*(x/r.k)+(E.x-h.x),y:w-(w-r.y)*(x/r.k)+(E.y-h.y),k:x},c=_,h=E,f()}else if(v.touches.length===1&&s){const p=v.touches[0].clientX-d.x,b=v.touches[0].clientY-d.y;d={x:v.touches[0].clientX,y:v.touches[0].clientY},r={...r,x:r.x+p,y:r.y+b},f()}},y=()=>{s=!1,c=0};return t.addEventListener("wheel",u,{passive:!1}),t.addEventListener("mousedown",o),window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchmove",m,{passive:!1}),t.addEventListener("touchend",y),t.style.cursor="grab",{get transform(){return r},setTransform(v){r=v,f()},zoomIn(v){const p=v?.x??t.clientWidth/2,b=v?.y??t.clientHeight/2,_=Math.min(n.maxZoom,r.k*1.2);r={x:p-(p-r.x)*(_/r.k),y:b-(b-r.y)*(_/r.k),k:_},f()},zoomOut(v){const p=v?.x??t.clientWidth/2,b=v?.y??t.clientHeight/2,_=Math.max(n.minZoom,r.k/1.2);r={x:p-(p-r.x)*(_/r.k),y:b-(b-r.y)*(_/r.k),k:_},f()},fitToScreen(v){const b=v.maxX-v.minX+120,_=v.maxY-v.minY+120,A=t.clientWidth,E=t.clientHeight,k=A/b,M=E/_,w=Math.min(k,M,1)*.9,x=(v.minX+v.maxX)/2,S=(v.minY+v.maxY)/2;r={x:A/2-x*w,y:E/2-S*w,k:w},f()},reset(){r={x:0,y:0,k:1},f()},destroy(){t.removeEventListener("wheel",u),t.removeEventListener("mousedown",o),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),t.removeEventListener("touchstart",g),t.removeEventListener("touchmove",m),t.removeEventListener("touchend",y)}}}function Ec(t,e,n,i,r,s){let d=r.draggable,f=null,u=null,o={x:0,y:0},a={x:0,y:0};const l=v=>{if(!d)return;const b=v.target.closest(".workflow-node");if(!b)return;const _=b.dataset.id;if(!_)return;const A=n().find(E=>E.id===_);A&&(v.stopPropagation(),v.preventDefault(),f=A,u=b,o={...A.position},a={x:v.clientX,y:v.clientY},b.style.cursor="grabbing",b.classList.add("dragging"),s.onDragStart?.(_,o))},c=v=>{if(!f||!u)return;const p=i(),b=(v.clientX-a.x)/p.k,_=(v.clientY-a.y)/p.k,A={x:o.x+b,y:o.y+_};u.setAttribute("transform",`translate(${b}, ${_})`),s.onDrag?.(f.id,A)},h=()=>{if(!f||!u)return;const p=(u.getAttribute("transform")||"").match(/translate\(([\-\d.]+),\s*([\-\d.]+)\)/);let b=o;if(p){const _=parseFloat(p[1]),A=parseFloat(p[2]);b={x:o.x+_,y:o.y+A}}u.setAttribute("transform",""),u.style.cursor="pointer",u.classList.remove("dragging"),s.onDragEnd?.(f.id,o,b),f=null,u=null},g=v=>{if(!d||v.touches.length!==1)return;const p=v.touches[0],_=document.elementFromPoint(p.clientX,p.clientY)?.closest(".workflow-node");if(!_)return;const A=_.dataset.id;if(!A)return;const E=n().find(k=>k.id===A);E&&(v.stopPropagation(),f=E,u=_,o={...E.position},a={x:p.clientX,y:p.clientY},_.classList.add("dragging"),s.onDragStart?.(A,o))},m=v=>{if(!f||!u||v.touches.length!==1)return;v.preventDefault();const p=v.touches[0],b=i(),_=(p.clientX-a.x)/b.k,A=(p.clientY-a.y)/b.k;u.setAttribute("transform",`translate(${_}, ${A})`),s.onDrag?.(f.id,{x:o.x+_,y:o.y+A})},y=()=>{if(f&&u){const p=(u.getAttribute("transform")||"").match(/translate\(([-\d.]+),\s*([-\d.]+)\)/);let b=o;p&&(b={x:o.x+parseFloat(p[1]),y:o.y+parseFloat(p[2])}),u.setAttribute("transform",""),u.classList.remove("dragging"),s.onDragEnd?.(f.id,o,b)}f=null,u=null};return e.addEventListener("mousedown",l),window.addEventListener("mousemove",c),window.addEventListener("mouseup",h),e.addEventListener("touchstart",g,{passive:!1}),window.addEventListener("touchmove",m,{passive:!1}),window.addEventListener("touchend",y),{enable(){d=!0},disable(){d=!1},destroy(){e.removeEventListener("mousedown",l),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",h),e.removeEventListener("touchstart",g),window.removeEventListener("touchmove",m),window.removeEventListener("touchend",y)}}}const ra=new Map;function we(t,e){ra.set(t,e)}function oa(t){return ra.get(t)}function ge(t,e,n,i){const r=t.nodeType==="start"||t.nodeType==="end",s=t.position.x+n/2,d=t.position.y+i/2;if(r){const f=Math.min(n,i)/2;switch(e){case"right":return{x:s+f,y:d};case"left":return{x:s-f,y:d};case"bottom":return{x:s,y:d+f};case"top":return{x:s,y:d-f}}}else if(t.nodeType==="decision")switch(e){case"right":return{x:t.position.x+n,y:d};case"left":return{x:t.position.x,y:d};case"bottom":return{x:s,y:t.position.y+i};case"top":return{x:s,y:t.position.y}}switch(e){case"right":return{x:t.position.x+n,y:d};case"left":return{x:t.position.x,y:d};case"bottom":return{x:s,y:t.position.y+i};case"top":return{x:s,y:t.position.y}}}function Rn(t,e,n){const{nodeWidth:i,nodeHeight:r,direction:s}=n;let d,f;if(s==="horizontal"){d=ge(t,"right",i,r),f=ge(e,"left",i,r);const u=f.x-d.x,o=Math.min(Math.abs(u)*.4,60);return`M${d.x},${d.y} C${d.x+o},${d.y} ${f.x-o},${f.y} ${f.x},${f.y}`}else{d=ge(t,"bottom",i,r),f=ge(e,"top",i,r);const u=f.y-d.y,o=Math.min(Math.abs(u)*.4,50);return`M${d.x},${d.y} C${d.x},${d.y+o} ${f.x},${f.y-o} ${f.x},${f.y}`}}function xc(t,e,n,i,r,s){const d=n.status==="active"||n.status==="completed",f=Rn(n,i,{nodeWidth:r.nodeWidth,nodeHeight:r.nodeHeight,direction:r.direction,animated:r.animated}),u=document.createElementNS("http://www.w3.org/2000/svg","path");if(u.setAttribute("d",f),u.setAttribute("fill","none"),u.setAttribute("stroke",d?"#3b82f6":"#94a3b8"),u.setAttribute("stroke-width",d?"2":"1.5"),u.setAttribute("stroke-linecap","round"),u.setAttribute("stroke-linejoin","round"),u.setAttribute("marker-end",d?`url(#${s}-arrowhead-active)`:`url(#${s}-arrowhead)`),u.setAttribute("class",`workflow-edge edge-${e.edgeType}`),u.setAttribute("data-id",e.id),u.setAttribute("data-from",e.from),u.setAttribute("data-to",e.to),r.animated&&(d||e.animated)){u.setAttribute("stroke-dasharray","8,4");const o=document.createElementNS("http://www.w3.org/2000/svg","animate");o.setAttribute("attributeName","stroke-dashoffset"),o.setAttribute("from","24"),o.setAttribute("to","0"),o.setAttribute("dur","1.5s"),o.setAttribute("repeatCount","indefinite"),u.appendChild(o)}if(t.appendChild(u),e.label){const{nodeWidth:o,nodeHeight:a,direction:l}=r,c=l==="horizontal"?ge(n,"right",o,a):ge(n,"bottom",o,a),h=l==="horizontal"?ge(i,"left",o,a):ge(i,"top",o,a),g=(c.x+h.x)/2,m=(c.y+h.y)/2,y=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");y.setAttribute("x",`${g-40}`),y.setAttribute("y",`${m-12}`),y.setAttribute("width","80"),y.setAttribute("height","24"),y.setAttribute("data-edge-label",e.id),y.style.pointerEvents="none",y.innerHTML=`<div class="bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-[10px] px-2 py-0.5 rounded-full border border-gray-200 dark:border-gray-700 text-center shadow-sm truncate">${e.label}</div>`,t.appendChild(y)}}function Ln(t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("class",`workflow-node node-${t.status} node-type-${t.nodeType}`),n.setAttribute("data-id",t.id),n.style.cursor=e?"pointer":"default",n.style.transition="filter 0.2s ease",n}function Dn(t,e,n,i,r,s,d){const f=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");f.setAttribute("x",`${e}`),f.setAttribute("y",`${n}`),f.setAttribute("width",`${i}`),f.setAttribute("height",`${r}`),f.style.pointerEvents="none";const u=document.createElement("div");return u.className="w-full h-full flex items-center justify-center p-2 text-center flex-col",u.style.color=s.text,t.icon&&(u.innerHTML+=`<i class="${t.icon} text-lg mb-1" style="color: ${s.iconColor}"></i>`),d&&(u.innerHTML+=`<span class="text-xs font-semibold leading-tight line-clamp-2">${t.label}</span>`,t.description&&(u.innerHTML+=`<span class="text-[9px] opacity-70 mt-0.5 line-clamp-1">${t.description}</span>`)),f.appendChild(u),f}function In(t,e){t.addEventListener("mouseenter",()=>{e.setAttribute("stroke-width","2.5"),e.style.filter="brightness(1.02)"}),t.addEventListener("mouseleave",()=>{e.setAttribute("stroke-width","1.5"),e.style.filter=""})}function Bn(t,e,n,i,r){const{nodeWidth:s,nodeHeight:d,interactive:f,showLabels:u}=n,{x:o,y:a}=e.position,l=Ln(e,f),c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("x",`${o}`),c.setAttribute("y",`${a}`),c.setAttribute("width",`${s}`),c.setAttribute("height",`${d}`),c.setAttribute("rx","12"),c.setAttribute("fill",`url(#${r}-grad-${e.status})`),c.setAttribute("stroke",i.border),c.setAttribute("stroke-width","1.5"),c.setAttribute("filter",e.status==="active"?`url(#${r}-glow)`:`url(#${r}-shadow)`),l.appendChild(c),l.appendChild(Dn(e,o,a,s,d,i,u)),f&&In(l,c),t.appendChild(l)}function ia(t,e,n,i,r,s=!1){const{nodeWidth:d,nodeHeight:f,interactive:u,showLabels:o}=n,{x:a,y:l}=e.position,c=Ln(e,u),h=Math.min(d,f)/2,g=a+d/2,m=l+f/2,y=document.createElementNS("http://www.w3.org/2000/svg","circle");y.setAttribute("cx",`${g}`),y.setAttribute("cy",`${m}`),y.setAttribute("r",`${h}`),y.setAttribute("fill",`url(#${r}-grad-${e.status})`),y.setAttribute("stroke",i.border),y.setAttribute("stroke-width",s?"3":"1.5"),y.setAttribute("filter",e.status==="active"?`url(#${r}-glow)`:`url(#${r}-shadow)`),c.appendChild(y),c.appendChild(Dn(e,a,l,d,f,i,o)),u&&In(c,y),t.appendChild(c)}function Sc(t,e,n,i,r){const{nodeWidth:s,nodeHeight:d,interactive:f,showLabels:u}=n,{x:o,y:a}=e.position,l=Ln(e,f),c=o+s/2,h=a+d/2,g=s,m=d,y=document.createElementNS("http://www.w3.org/2000/svg","polygon");y.setAttribute("points",`${c},${a} ${o+g},${h} ${c},${a+m} ${o},${h}`),y.setAttribute("fill",`url(#${r}-grad-${e.status})`),y.setAttribute("stroke",i.border),y.setAttribute("stroke-width","1.5"),y.setAttribute("filter",e.status==="active"?`url(#${r}-glow)`:`url(#${r}-shadow)`),l.appendChild(y),l.appendChild(Dn(e,o,a,s,d,i,u)),f&&In(l,y),t.appendChild(l)}we("task",Bn),we("start",(t,e,n,i,r)=>ia(t,e,n,i,r,!1)),we("end",(t,e,n,i,r)=>ia(t,e,n,i,r,!0)),we("decision",Sc),we("parallel",Bn),we("subprocess",Bn);const V=new Map;function Cc(t){const e=document.createElementNS("http://www.w3.org/2000/svg","defs");Object.entries(Wt).forEach(([s,d])=>{const f=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");f.setAttribute("id",`${t}-grad-${s}`),f.setAttribute("x1","0%"),f.setAttribute("y1","0%"),f.setAttribute("x2","0%"),f.setAttribute("y2","100%"),f.innerHTML=`
            <stop offset="0%" stop-color="${d.bgStart}" />
            <stop offset="100%" stop-color="${d.bgEnd}" />
        `,e.appendChild(f)});const n=document.createElementNS("http://www.w3.org/2000/svg","filter");n.setAttribute("id",`${t}-shadow`),n.setAttribute("x","-50%"),n.setAttribute("y","-50%"),n.setAttribute("width","200%"),n.setAttribute("height","200%"),n.innerHTML=`
        <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="rgba(0,0,0,0.08)" />
    `,e.appendChild(n);const i=document.createElementNS("http://www.w3.org/2000/svg","filter");i.setAttribute("id",`${t}-glow`),i.setAttribute("x","-50%"),i.setAttribute("y","-50%"),i.setAttribute("width","200%"),i.setAttribute("height","200%"),i.innerHTML=`
        <feDropShadow dx="0" dy="0" stdDeviation="6" flood-color="rgba(59, 130, 246, 0.35)" />
    `,e.appendChild(i);const r=(s,d)=>{const f=document.createElementNS("http://www.w3.org/2000/svg","marker");return f.setAttribute("id",s),f.setAttribute("markerWidth","8"),f.setAttribute("markerHeight","6"),f.setAttribute("refX","7"),f.setAttribute("refY","3"),f.setAttribute("orient","auto"),f.innerHTML=`<path d="M0,0.5 L7,3 L0,5.5 L1.5,3 Z" fill="${d}" />`,f};return e.appendChild(r(`${t}-arrowhead`,"#94a3b8")),e.appendChild(r(`${t}-arrowhead-active`,"#3b82f6")),e}function Oc(t,e){const n=document.createElement("div");n.className="absolute bottom-4 right-4 flex flex-col gap-1 z-10",n.innerHTML=`
        <div class="flex flex-col bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
            <button type="button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 transition-colors" 
                    onclick="Blazwind.Workflow.zoomIn('${e}')" title="Zoom In">
                <i class="fa-solid fa-plus text-sm"></i>
            </button>
            <button type="button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 transition-colors" 
                    onclick="Blazwind.Workflow.fitToScreen('${e}')" title="Fit to Screen">
                <i class="fa-solid fa-compress text-sm"></i>
            </button>
            <button type="button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 transition-colors" 
                    onclick="Blazwind.Workflow.zoomOut('${e}')" title="Zoom Out">
                <i class="fa-solid fa-minus text-sm"></i>
            </button>
            <button type="button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 transition-colors" 
                    onclick="Blazwind.Workflow.toggleFullscreen('${e}')" title="Fullscreen">
                <i class="fa-solid fa-expand text-sm"></i>
            </button>
            <button type="button" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 transition-colors" 
                    onclick="Blazwind.Workflow.exportPng('${e}')" title="Export PNG">
                <i class="fa-solid fa-download text-sm"></i>
            </button>
        </div>
    `,t.appendChild(n)}function kc(t,e){const{nodeWidth:n,nodeHeight:i,horizontalSpacing:r,verticalSpacing:s,direction:d}=e,f={},u={};t.nodes.forEach(h=>{f[h.id]=0,u[h.id]=[]}),t.edges.forEach(h=>{u[h.from]&&u[h.from].push(h.to),f[h.to]!==void 0&&f[h.to]++});const o=[];let a=Object.keys(f).filter(h=>f[h]===0);a.length===0&&t.nodes.length>0&&(a=[t.nodes[0].id]);const l=new Set;for(;a.length>0;){const h=[...a];if(o.push(h),a=[],h.forEach(g=>{l.add(g),(u[g]||[]).forEach(m=>{f[m]--,f[m]<=0&&!l.has(m)&&(a.push(m),l.add(m))})}),a.length===0&&l.size<t.nodes.length){const g=t.nodes.find(m=>!l.has(m.id));g&&(a.push(g.id),l.add(g.id))}}const c=Math.max(...o.map(h=>h.length),1);o.forEach((h,g)=>{const m=(c-h.length)/2;h.forEach((y,v)=>{const p=t.nodes.find(b=>b.id===y);p&&p.position.x===0&&p.position.y===0&&(d==="horizontal"?p.position={x:g*(n+r),y:(v+m)*(i+s)}:p.position={x:(v+m)*(n+r),y:g*(i+s)})})})}function $n(t,e){if(t.length===0)return{minX:0,maxX:100,minY:0,maxY:100};const n=t.map(r=>r.position.x),i=t.map(r=>r.position.y);return{minX:Math.min(...n),maxX:Math.max(...n)+e.nodeWidth,minY:Math.min(...i),maxY:Math.max(...i)+e.nodeHeight}}function Gt(t){const{container:e,data:n,options:i,id:r}=t;kc(n,i);const s=e.querySelector("div.absolute");e.innerHTML="",s&&e.appendChild(s);const d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.style.width="100%",d.style.height="100%",d.style.display="block",d.appendChild(Cc(r));const f=document.createElementNS("http://www.w3.org/2000/svg","g");f.setAttribute("class","workflow-content"),d.appendChild(f);const u=document.createElementNS("http://www.w3.org/2000/svg","g");u.setAttribute("class","workflow-edges"),f.appendChild(u),n.edges.forEach(l=>{const c=n.nodes.find(g=>g.id===l.from),h=n.nodes.find(g=>g.id===l.to);c&&h&&xc(u,l,c,h,i,r)});const o=document.createElementNS("http://www.w3.org/2000/svg","g");o.setAttribute("class","workflow-nodes"),f.appendChild(o),n.nodes.forEach(l=>{const c=oa(l.nodeType),h=Wt[l.status]||Wt.pending;c&&c(o,l,i,h,r)}),t.svg=d,t.mainGroup=f,t.nodesGroup=o,t.edgesGroup=u,e.appendChild(d);const a=t.panZoom?.transform;t.panZoom&&t.panZoom.destroy(),t.panZoom=_c(e,f,i),a&&(a.x!==0||a.y!==0||a.k!==1)?t.panZoom.setTransform(a):i.fitToScreen&&!t.hasInitialFit&&setTimeout(()=>{const l=$n(n.nodes,i);t.panZoom?.fitToScreen(l),t.hasInitialFit=!0},10),t.dragController&&t.dragController.destroy(),i.draggable&&(t.dragController=Ec(e,o,()=>n.nodes,()=>t.panZoom?.transform??{x:0,y:0,k:1},i,{onDrag:(l,c)=>{Bc(t,l,c)},onDragEnd:(l,c,h)=>{const g=n.nodes.find(m=>m.id===l);g&&(g.position=h),Nc(t,l,h),$c(t),t.netRef?.invokeMethodAsync("HandleNodePositionChanged",l,c,h)}})),i.interactive&&o.addEventListener("click",l=>{const c=l.target.closest(".workflow-node");if(c){const h=c.dataset.id,g=n.nodes.find(m=>m.id===h);g&&h&&t.netRef?.invokeMethodAsync("HandleNodeClick",h,JSON.stringify(g))}})}function Mc(t,e,n,i){const r=`wf-${crypto.randomUUID().substring(0,8)}`,s={...na,...n},d={id:r,container:t,data:e,options:s,netRef:i,svg:null,mainGroup:null,nodesGroup:null,edgesGroup:null,panZoom:null,dragController:null,hasInitialFit:!1};return V.set(r,d),t.style.position="relative",t.style.overflow="hidden",t.style.touchAction="none",Oc(t,r),Gt(d),r}function Tc(t,e){const n=V.get(t);n&&(n.data=e,Gt(n))}function Ac(t,e,n){const i=V.get(t);if(!i)return;const r=i.data.nodes.find(s=>s.id===e);r&&(r.status=n,Gt(i))}function Pc(t,e,n){const i=V.get(t);if(!i)return;const r=i.data.nodes.find(s=>s.id===e);r&&(r.position=n,Gt(i))}function Rc(t){V.get(t)?.panZoom?.zoomIn()}function Lc(t){V.get(t)?.panZoom?.zoomOut()}function Dc(t){const e=V.get(t);if(!e?.panZoom)return;const n=$n(e.data.nodes,e.options);e.panZoom.fitToScreen(n)}function Ic(t){const e=V.get(t);e&&(e.panZoom?.destroy(),e.dragController?.destroy(),V.delete(t))}function Bc(t,e,n){const{edgesGroup:i,data:r,options:s}=t;i&&r.edges.forEach(d=>{if(d.from===e||d.to===e){const f=i.querySelector(`path[data-id="${d.id}"]`);if(!f)return;const u=r.nodes.find(h=>h.id===d.from),o=r.nodes.find(h=>h.id===d.to);if(!u||!o)return;const a=d.from===e?{...u,position:n}:u,l=d.to===e?{...o,position:n}:o,c=Rn(a,l,{nodeWidth:s.nodeWidth,nodeHeight:s.nodeHeight,direction:s.direction,animated:s.animated});f.setAttribute("d",c)}})}function $c(t){const{edgesGroup:e,data:n,options:i}=t;e&&n.edges.forEach(r=>{const s=e.querySelector(`path[data-id="${r.id}"]`);if(!s)return;const d=n.nodes.find(o=>o.id===r.from),f=n.nodes.find(o=>o.id===r.to);if(!d||!f)return;const u=Rn(d,f,{nodeWidth:i.nodeWidth,nodeHeight:i.nodeHeight,direction:i.direction,animated:i.animated});s.setAttribute("d",u)})}function Nc(t,e,n){const{nodesGroup:i,options:r}=t;if(!i)return;const s=i.querySelector(`g[data-id="${e}"]`);if(!s)return;const d=s.querySelector("rect");d&&(d.setAttribute("x",`${n.x}`),d.setAttribute("y",`${n.y}`));const f=s.querySelector("circle");f&&(f.setAttribute("cx",`${n.x+r.nodeWidth/2}`),f.setAttribute("cy",`${n.y+r.nodeHeight/2}`));const u=s.querySelector("polygon");if(u){const a=n.x+r.nodeWidth/2,l=n.y+r.nodeHeight/2;u.setAttribute("points",`${a},${n.y} ${n.x+r.nodeWidth},${l} ${a},${n.y+r.nodeHeight} ${n.x},${l}`)}s.querySelectorAll("foreignObject").forEach(a=>{const l=parseFloat(a.getAttribute("width")||"0"),c=parseFloat(a.getAttribute("height")||"0"),h=n.x+(r.nodeWidth-l)/2,g=n.y+(r.nodeHeight-c)/2;a.setAttribute("x",`${h}`),a.setAttribute("y",`${g}`)}),s.setAttribute("transform","")}function zc(t){const e=V.get(t);e&&(document.fullscreenElement===e.container?document.exitFullscreen():e.container.requestFullscreen())}async function qc(t){const e=V.get(t);if(e?.svg)try{const n=e.svg.cloneNode(!0),i=$n(e.data.nodes,e.options),r=60,s=i.maxX-i.minX+r*2,d=i.maxY-i.minY+r*2;n.setAttribute("width",`${s}`),n.setAttribute("height",`${d}`),n.setAttribute("viewBox",`${i.minX-r} ${i.minY-r} ${s} ${d}`);const f=n.querySelector(".workflow-content");f&&f.setAttribute("transform",""),jc(e.svg,n),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml");let o=new XMLSerializer().serializeToString(n);o='<?xml version="1.0" encoding="UTF-8"?>'+o;const l=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(o)))}`,c=document.createElement("canvas"),h=c.getContext("2d"),g=new Image;await new Promise(m=>{g.onload=()=>{c.width=s*2,c.height=d*2,h.scale(2,2),h.fillStyle="#f9fafb",h.fillRect(0,0,s,d),h.drawImage(g,0,0,s,d);const y=document.createElement("a");y.download="workflow.png",y.href=c.toDataURL("image/png"),y.click(),m()},g.onerror=()=>{const y=document.createElement("a");y.download="workflow.svg",y.href=l,y.click(),m()},g.src=l})}catch(n){console.error("PNG export failed",n)}}function jc(t,e){const n=t.querySelectorAll("foreignObject"),i=e.querySelectorAll("foreignObject");n.forEach((r,s)=>{const d=i[s];if(!d)return;const f=r.querySelectorAll("*"),u=d.querySelectorAll("*");f.forEach((a,l)=>{const c=u[l];if(!c)return;const h=window.getComputedStyle(a),g=["display","flex-direction","justify-content","align-items","gap","font-family","font-size","font-weight","color","text-align","padding","margin","width","height","line-height","background-color","border-radius","overflow"];let m="";g.forEach(y=>{const v=h.getPropertyValue(y);v&&v!=="none"&&v!=="normal"&&v!=="auto"&&(m+=`${y}: ${v}; `)}),c.setAttribute("style",m),c.removeAttribute("class")});const o=d.querySelector("div");if(o){const a=r.querySelector("div");if(a){const l=window.getComputedStyle(a);o.setAttribute("style",`
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    width: 100%;
                    height: 100%;
                    font-family: ${l.fontFamily};
                    font-size: ${l.fontSize};
                    color: ${l.color};
                    text-align: center;
                    gap: 4px;
                `)}}})}const aa=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:na,dispose:Ic,exportPng:qc,fitToScreen:Dc,getNodeRenderer:oa,init:Mc,registerNodeRenderer:we,statusStyles:Wt,toggleFullscreen:zc,update:Tc,updateNodePosition:Pc,updateNodeStatus:Ac,zoomIn:Rc,zoomOut:Lc},Symbol.toStringTag,{value:"Module"})),Ge=new Map;function Hc(t,e,n,i,r){const s=`gantt-${crypto.randomUUID()}`,d={container:t,netRef:e,daysPerColumn:n,columnWidth:i,rowHeight:r};return Ge.set(s,d),Uc(s),s}function Fc(t,e,n){const i=Ge.get(t);i&&(i.daysPerColumn=e,i.columnWidth=n)}function Uc(t){const e=Ge.get(t);if(!e)return;const n=e.container;let i=!1,r=!1,s=!1,d=null,f=0,u=0,o=0,a="";const l=g=>{if(!d)return;const m=g.clientX-f;if(r)if(s){const y=u+m,v=o-m;v>=16&&(d.style.left=`${y}px`,d.style.width=`${v}px`)}else{const y=o+m;y>=16&&(d.style.width=`${y}px`)}else i&&(d.style.left=`${u+m}px`)},c=async()=>{if(!d||!i&&!r){h();return}const g=parseFloat(d.style.left),m=parseFloat(d.style.width),y=g-u,v=m-o,p=Math.round(y/e.columnWidth*e.daysPerColumn),b=r&&s?Math.round(y/e.columnWidth*e.daysPerColumn):0,_=r&&!s?Math.round(v/e.columnWidth*e.daysPerColumn):0;i&&p!==0?await e.netRef.invokeMethodAsync("HandleTaskDragFromJs",a,p):r&&(b!==0||_!==0)&&await e.netRef.invokeMethodAsync("HandleTaskResizeFromJs",a,b,_),h()},h=()=>{d&&d.classList.remove("bw-gantt-dragging"),i=!1,r=!1,d=null,a="",document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",c)};n.addEventListener("mousedown",g=>{const m=g.target,y=m.closest(".bw-gantt-resize-handle");if(y){g.preventDefault(),g.stopPropagation(),r=!0,s=y.classList.contains("bw-gantt-resize-left"),d=m.closest(".bw-gantt-bar"),d&&(a=d.dataset.taskId||"",f=g.clientX,u=parseFloat(d.style.left)||0,o=parseFloat(d.style.width)||100,d.classList.add("bw-gantt-dragging"),document.addEventListener("mousemove",l),document.addEventListener("mouseup",c));return}const v=m.closest(".bw-gantt-bar");v&&!m.closest(".bw-gantt-resize-handle")&&(g.preventDefault(),i=!0,d=v,a=v.dataset.taskId||"",f=g.clientX,u=parseFloat(d.style.left)||0,o=parseFloat(d.style.width)||100,d.classList.add("bw-gantt-dragging"),document.addEventListener("mousemove",l),document.addEventListener("mouseup",c))}),Wc(t)}function Wc(t){const e=Ge.get(t);if(!e)return;const n=e.container,i=n.querySelector(".bw-gantt-task-list"),r=n.querySelector(".bw-gantt-task-list .bw-gantt-resize-handle");if(!i||!r)return;let s=!1,d=0,f=0;r.addEventListener("mousedown",u=>{u.preventDefault(),u.stopPropagation(),s=!0,d=u.clientX,f=i.offsetWidth,document.body.style.cursor="col-resize",document.body.style.userSelect="none";const o=l=>{if(!s)return;const c=l.clientX-d,h=Math.max(150,Math.min(f+c,500));i.style.width=`${h}px`},a=async()=>{if(!s)return;s=!1,document.body.style.cursor="",document.body.style.userSelect="";const l=i.offsetWidth;await e.netRef.invokeMethodAsync("HandleTaskListResize",l),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",a)})}function Gc(t){Ge.delete(t)}const sa=Object.freeze(Object.defineProperty({__proto__:null,dispose:Gc,init:Hc,updateOptions:Fc},Symbol.toStringTag,{value:"Module"}));function Xc(t){document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}async function Yc(t){if(!t)return{width:0,height:0,mimeType:"",sizeBytes:0};let e="unknown",n=0;if(t.src.startsWith("data:")){const i=t.src.match(/^data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+);base64,(.*)$/);if(i&&i.length>2){e=i[1];const r=i[2].length,s=(i[2].match(/=+$/)||[""])[0].length;n=r*3/4-s}}else{const i=t.src.split(".").pop();i&&(e="image/"+i);try{const r=await fetch(t.src,{method:"HEAD"}),s=r.headers.get("Content-Length");s&&(n=parseInt(s,10));const d=r.headers.get("Content-Type");d&&(e=d)}catch(r){console.warn("Could not fetch image size/type for: "+t.src,r)}}return{width:t.naturalWidth,height:t.naturalHeight,mimeType:e,sizeBytes:n}}async function Vc(t,e,n){return new Promise((i,r)=>{let s=null;if(!t){r("Container or Image element is null.");return}if(t.tagName==="IMG"?s=t:s=t.querySelector("img"),!s){r("Image element not found in provided container.");return}const d=new Image;d.crossOrigin="anonymous",d.onload=()=>{try{const u=document.createElement("canvas"),o=u.getContext("2d");if(!o){r("Canvas context could not be created");return}const a=Math.abs(e)%180===90,l=d.naturalWidth,c=d.naturalHeight,h=a?c:l,g=a?l:c;u.width=h,u.height=g,o.save(),o.translate(u.width/2,u.height/2),o.rotate(e*Math.PI/180),n&&(o.filter="grayscale(100%)"),o.drawImage(d,-l/2,-c/2),o.restore(),i(u.toDataURL())}catch(u){r(u)}},d.onerror=u=>{r("Failed to load image for processing (CORS error?): "+u)};const f=s.src;if(!f){r("Image source is empty.");return}f.startsWith("data:"),d.src=f})}const la=Object.freeze(Object.defineProperty({__proto__:null,applyImageEdits:Vc,getImageProperties:Yc,toggleFullscreen:Xc},Symbol.toStringTag,{value:"Module"}));let Q=[],ee=0,Nn={},H=null,U=null,Xe=!1;function Kc(t,e={}){Xe&&Ye(),Q=t,Nn=e,ee=0,Xe=!0,Q.length!==0&&(Jc(),zn(0),document.addEventListener("keydown",fa),window.addEventListener("resize",ha))}function Ye(){Xe=!1,ee=0,Q=[],H&&H.remove(),U&&U.remove(),H=null,U=null,document.removeEventListener("keydown",fa),window.removeEventListener("resize",ha)}function ca(){ee<Q.length-1?zn(ee+1):Ye()}function ua(){ee>0&&zn(ee-1)}function Jc(){H=document.createElement("div"),H.className="bw-tour-overlay fixed z-[9998] transition-all duration-300 ease-in-out pointer-events-none",H.style.boxShadow=`0 0 0 9999px ${Nn.overlayColor||"rgba(0,0,0,0.5)"}`,H.style.borderRadius="4px",document.body.appendChild(H),U=document.createElement("div"),U.className="bw-tour-tooltip fixed z-[9999] bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 p-4 rounded shadow-xl border border-gray-200 dark:border-gray-700 w-[300px] max-w-[90vw] transition-all duration-300",document.body.appendChild(U)}function zn(t){ee=t;const e=Q[t],n=document.querySelectorAll(e.targetSelector);let i=null;for(let r=0;r<n.length;r++){const s=n[r],d=s.getBoundingClientRect();if(d.width>0&&d.height>0&&window.getComputedStyle(s).display!=="none"){i=s;break}}if(!i){console.warn(`Tour target not found or invisible: ${e.targetSelector}`),Ye();return}Nn.smoothScroll!==!1&&i.scrollIntoView({behavior:"smooth",block:"center"}),da(i,e),Zc(e,t)}function da(t,e){if(!H||!U)return;const n=t.getBoundingClientRect(),i=4;H.style.width=`${n.width+i*2}px`,H.style.height=`${n.height+i*2}px`,H.style.top=`${n.top-i}px`,H.style.left=`${n.left-i}px`;const r=U.getBoundingClientRect(),s=e.placement||"bottom";let d=0,f=0;const u=12,o=n.left+n.width/2,a=n.top+n.height/2;s==="top"?(d=n.top-r.height-u,f=o-r.width/2):s==="bottom"?(d=n.bottom+u,f=o-r.width/2):s==="left"?(d=a-r.height/2,f=n.left-r.width-u):s==="right"&&(d=a-r.height/2,f=n.right+u),f<10&&(f=10),f+r.width>window.innerWidth-10&&(f=window.innerWidth-r.width-10),d<10&&(d=10),d+r.height>window.innerHeight-10&&(d=window.innerHeight-r.height-10),U.style.top=`${d}px`,U.style.left=`${f}px`}function Zc(t,e){if(!U)return;const n=e===0,i=e===Q.length-1;let r="";t.title&&(r+=`<h3 class="font-bold text-lg mb-2">${t.title}</h3>`),r+=`<div class="text-sm text-gray-600 dark:text-gray-300 mb-4">${t.content}</div>`,r+='<div class="flex items-center justify-between mt-4">',r+=`<div class="text-xs text-gray-400 dark:text-gray-500">${e+1} / ${Q.length}</div>`,r+='<div class="flex gap-2">',n||(r+='<button class="px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-gray-700 dark:text-gray-200 transition" onclick="window.Blazwind.Tour.prev()">Geri</button>'),i?r+='<button class="px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded transition" onclick="window.Blazwind.Tour.end()">Bitir</button>':r+='<button class="px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded transition" onclick="window.Blazwind.Tour.next()">İleri</button>',r+="</div></div>",r+=`<button class="absolute top-2 right-2 text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300" onclick="window.Blazwind.Tour.end()">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
             </button>`,U.innerHTML=r}function fa(t){Xe&&(t.key==="ArrowRight"&&ca(),t.key==="ArrowLeft"&&ua(),t.key==="Escape"&&Ye())}function ha(){if(Xe&&Q[ee]){const t=document.querySelectorAll(Q[ee].targetSelector);let e=null;for(let n=0;n<t.length;n++){const i=t[n],r=i.getBoundingClientRect();if(r.width>0&&r.height>0&&window.getComputedStyle(i).display!=="none"){e=i;break}}e&&da(e,Q[ee])}}const ga=Object.freeze(Object.defineProperty({__proto__:null,end:Ye,next:ca,prev:ua,start:Kc},Symbol.toStringTag,{value:"Module"}));function Qc(t,e,n){if(!t||!e||!n)return;const i=()=>{t.scrollLeft>0?(e.classList.remove("invisible","opacity-0"),e.classList.add("visible","opacity-100")):(e.classList.remove("visible","opacity-100"),e.classList.add("invisible","opacity-0")),Math.ceil(t.scrollLeft+t.clientWidth)<t.scrollWidth?(n.classList.remove("invisible","opacity-0"),n.classList.add("visible","opacity-100")):(n.classList.remove("visible","opacity-100"),n.classList.add("invisible","opacity-0"))},r=()=>t.clientWidth/2;e.onclick=f=>{f.stopPropagation(),t.scrollBy({left:-r(),behavior:"smooth"})},n.onclick=f=>{f.stopPropagation(),t.scrollBy({left:r(),behavior:"smooth"})},t.addEventListener("scroll",i),requestAnimationFrame(i);const s=new ResizeObserver(i);s.observe(t);const d=new MutationObserver(i);d.observe(t,{childList:!0,subtree:!0,characterData:!0}),i(),t._blazwindTabsCleanup=()=>{t.removeEventListener("scroll",i),s.disconnect(),d.disconnect(),e.onclick=null,n.onclick=null}}function eu(t){t&&t._blazwindTabsCleanup&&(t._blazwindTabsCleanup(),delete t._blazwindTabsCleanup)}const ma=Object.freeze(Object.defineProperty({__proto__:null,dispose:eu,init:Qc},Symbol.toStringTag,{value:"Module"}));function tu(t){if(!t)return[0,window.innerHeight,0];const e=t.getBoundingClientRect();return[e.bottom,window.innerHeight,e.top]}const va=Object.freeze(Object.defineProperty({__proto__:null,getPosition:tu},Symbol.toStringTag,{value:"Module"}));function nu(t){if(!t)return[0,0];const e=t.getBoundingClientRect(),n=window.innerHeight,i=window.innerWidth,r=200,s=200,d=n-e.bottom,f=e.top,u=d<r&&f>d?1:0,o=i-e.left,a=e.right,l=o<s&&a>o?1:0;return[u,l]}const ya=Object.freeze(Object.defineProperty({__proto__:null,getDropdownDirection:nu},Symbol.toStringTag,{value:"Module"}));window.Blazwind={Toast:Wn,Dialog:Gn,Nav:Kn,Sidebar:Jn,List:Qn,Drawer:tr,ContextMenu:nr,commandPalette:rr,confetti:lr,Calendar:yr,SplitPanel:br,VirtualScroll:_r,InfiniteScroll:Er,ColumnDrag:Tr,ColumnResize:Dr,QRCode:mo,RangeBrush:Mo,RangeSlider:qo,SignaturePad:jo,Barcode:Ki,OrgChart:Qi,Printable:ta,Workflow:aa,Gantt:sa,DocumentViewer:la,Tour:ga,Tabs:ma,Dropdown:va,Toolbar:ya},P.Barcode=Ki,P.Calendar=yr,P.ColumnDrag=Tr,P.ColumnResize=Dr,P.ContextMenu=nr,P.Dialog=Gn,P.DocumentViewer=la,P.Drawer=tr,P.Dropdown=va,P.Gantt=sa,P.InfiniteScroll=Er,P.List=Qn,P.Nav=Kn,P.OrgChart=Qi,P.Printable=ta,P.QRCode=mo,P.RangeBrush=Mo,P.RangeSlider=qo,P.Sidebar=Jn,P.SignaturePad=jo,P.SplitPanel=br,P.Tabs=ma,P.Toast=Wn,P.Toolbar=ya,P.Tour=ga,P.VirtualScroll=_r,P.Workflow=aa,P.commandPalette=rr,P.confetti=lr,Object.defineProperty(P,Symbol.toStringTag,{value:"Module"})})(this.Blazwind=this.Blazwind||{});
