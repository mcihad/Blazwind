@namespace Blazwind.Components.Map
@using Blazwind.Components.Map.Models

<CascadingValue Value="this" IsFixed="true">
    <div @ref="_mapContainer" id="@_containerId" class="@ComputedClass" style="@ComputedStyle">
        @if (_isLoaded)
        {
            @ChildContent
        }
    </div>
</CascadingValue>

@code {
    private string _containerId = $"bw-map-{Guid.NewGuid():N}";
    private string ComputedClass => string.IsNullOrEmpty(Class) ? "bw-maplibre" : $"bw-maplibre {Class}";
    private string ComputedStyle => string.IsNullOrEmpty(Style) ? "width: 100%; height: 100%; min-height: 300px;" : Style;
}

